{
  "id": "6860ce9711c8ae0458a17923",
  "title": "Workflowy選択中テキストで検索するChrome拡張",
  "created": 1751174814,
  "updated": 1751185296,
  "lines": [
    {
      "id": "6860ce9711c8ae0458a17923",
      "text": "Workflowy選択中テキストで検索するChrome拡張",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174814,
      "updated": 1751174814
    },
    {
      "id": "6860ceb50000000000a8a5d0",
      "text": "ついでにいらんメニューを消す",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174838,
      "updated": 1751174852
    },
    {
      "id": "6860cebd0000000000a8a5d1",
      "text": "",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174846,
      "updated": 1751174846
    },
    {
      "id": "6860cea30000000000a8a5bf",
      "text": "code: manifest.json",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c0",
      "text": " {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c1",
      "text": "   \"manifest_version\": 3,",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c2",
      "text": "   \"name\": \"Workflowy Menu Tweaker\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c3",
      "text": "   \"version\": \"1.0\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c4",
      "text": "   \"description\": \"装飾メニューをカスタマイズして虫眼鏡ボタンを追加\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174835
    },
    {
      "id": "6860cea30000000000a8a5c5",
      "text": "   \"permissions\": [",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c6",
      "text": "     \"activeTab\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c7",
      "text": "     \"scripting\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c8",
      "text": "   ],",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5c9",
      "text": "   \"content_scripts\": [",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5ca",
      "text": "     {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5cb",
      "text": "       \"matches\": [\"https://workflowy.com/*\"],",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5cc",
      "text": "       \"js\": [\"content.js\"]",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5cd",
      "text": "     }",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5ce",
      "text": "   ]",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860cea30000000000a8a5cf",
      "text": " }",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751174820,
      "updated": 1751174820
    },
    {
      "id": "6860d3a3000000000006eafd",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176099,
      "updated": 1751185226
    },
    {
      "id": "6860d47d0000000000676d5e",
      "text": "code:content.js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d5f",
      "text": " console.log(\"Workflowy拡張ロード中\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d60",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d61",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d62",
      "text": " // 残すアイコン名",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d63",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d64",
      "text": " const allowedIcons = [",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d65",
      "text": "   \"fa-bold\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d66",
      "text": "   \"fa-link\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d67",
      "text": "   \"fa-chevron-down\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d68",
      "text": " ];",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d69",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6a",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6b",
      "text": " // 虫眼鏡ボタン追加関数",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6c",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6d",
      "text": " const addSearchButton = (menu) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6e",
      "text": "   if (menu.querySelector(\".ctx-menu-item.my-search-btn\")) return;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d6f",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d70",
      "text": "   const btn = document.createElement(\"div\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d71",
      "text": "   btn.className = \"ctx-menu-item my-search-btn iconButton md shape-square\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d72",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d73",
      "text": "   btn.innerHTML = `",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d74",
      "text": "     <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"magnifying-glass\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d75",
      "text": "       class=\"svg-inline--fa fa-magnifying-glass fa-1x\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d76",
      "text": "       viewBox=\"0 0 512 512\" style=\"width:16px;height:16px;\">",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d77",
      "text": "       <path fill=\"currentColor\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d78",
      "text": "         d=\"M384 208A176 176 0 1 0 32 208a176 176 0 1 0 352 0zM343.3 366C307 397.2 259.7 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 51.7-18.8 99-50 135.3L507.3 484.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L343.3 366z\">",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d79",
      "text": "       </path>",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7a",
      "text": "     </svg>",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7b",
      "text": "   `;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7c",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7d",
      "text": "   btn.addEventListener(\"click\", () => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7e",
      "text": "     const selection = window.getSelection().toString().trim();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d7f",
      "text": "     if (!selection) return;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d80",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d81",
      "text": "     const input = document.querySelector(\"input.searchBoxInput\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d82",
      "text": "     if (!input) return;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d83",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d84",
      "text": "     input.focus();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d85",
      "text": "     const setter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d86",
      "text": "     setter.call(input, selection);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d87",
      "text": "     input.dispatchEvent(new Event('input', { bubbles: true }));",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d88",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d89",
      "text": "     // 1フレーム後に Enter 発火",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8a",
      "text": "     requestAnimationFrame(() => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8b",
      "text": "       input.dispatchEvent(new KeyboardEvent(\"keydown\", {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8c",
      "text": "         bubbles: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8d",
      "text": "         cancelable: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8e",
      "text": "         key: \"Enter\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d8f",
      "text": "         code: \"Enter\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d90",
      "text": "       }));",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d91",
      "text": "     });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d92",
      "text": "   });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d93",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d94",
      "text": "   menu.firstChild.before(btn);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d95",
      "text": " };",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d96",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d97",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d98",
      "text": " // MutationObserver",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d99",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9a",
      "text": " const observer = new MutationObserver(() => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9b",
      "text": "   const menus = document.querySelectorAll(\".flyout.ctx-menu\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9c",
      "text": "   menus.forEach(menu => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9d",
      "text": "     // 処理済みならスキップ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9e",
      "text": "     if (menu.dataset.processed === \"true\") return;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676d9f",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da0",
      "text": "     const items = menu.querySelectorAll(\".ctx-menu-item\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da1",
      "text": "     items.forEach(item => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da2",
      "text": "       const svg = item.querySelector(\"svg\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da3",
      "text": "       if (!svg) return;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da4",
      "text": "       const iconClass = Array.from(svg.classList).find(cls => cls.startsWith(\"fa-\"));",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da5",
      "text": "       if (!allowedIcons.includes(iconClass)) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da6",
      "text": "         item.remove();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da7",
      "text": "       }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da8",
      "text": "     });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676da9",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676daa",
      "text": "     // 横並び化",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676dab",
      "text": "     menu.style.display = \"flex\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676dac",
      "text": "     menu.style.flexDirection = \"row\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676dad",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676dae",
      "text": "     addSearchButton(menu);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676daf",
      "text": "     menu.dataset.processed = \"true\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db0",
      "text": "   });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db1",
      "text": " });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db2",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db3",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db4",
      "text": " // body 監視",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db5",
      "text": " // ----------------------------",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db6",
      "text": " observer.observe(document.body, { childList: true, subtree: true });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d47d0000000000676db7",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751176318,
      "updated": 1751185233
    },
    {
      "id": "6860d55400000000008a4215",
      "text": "",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176533,
      "updated": 1751176535
    },
    {
      "id": "6860f76600000000002f6f3b",
      "text": "「btn.innerHTML」に関して、[DOM生成用便利ツール]のsvg版を使うとinnerHTMLを避けられて良いですよ[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751185254,
      "updated": 1751185296
    },
    {
      "id": "6860f76b00000000002f6f3d",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751185260,
      "updated": 1751185261
    },
    {
      "id": "6860f76600000000002f6f3c",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1751185254,
      "updated": 1751185254
    },
    {
      "id": "6860d55700000000008a4217",
      "text": "一旦ホームに戻ってから検索するバージョン",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176535,
      "updated": 1751176543
    },
    {
      "id": "6860d55e00000000008a4219",
      "text": "code: content.js",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176543,
      "updated": 1751176553
    },
    {
      "id": "6860d56900000000008a421a",
      "text": " console.log(\"Workflowy拡張ロード中\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176554,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a421b",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a421c",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a421d",
      "text": " // 残すアイコン名",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a421e",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a421f",
      "text": " const allowedIcons = [",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4220",
      "text": "   \"fa-bold\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4221",
      "text": "   \"fa-link\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4222",
      "text": "   \"fa-chevron-down\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4223",
      "text": " ];",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4224",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4225",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4226",
      "text": " // 虫眼鏡ボタン追加関数",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4227",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4228",
      "text": " const addSearchButton = (menu) => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4229",
      "text": "   if (menu.querySelector(\".ctx-menu-item.my-search-btn\")) return;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422a",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422b",
      "text": "   const btn = document.createElement(\"div\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422c",
      "text": "   btn.className = \"ctx-menu-item my-search-btn iconButton md shape-square\";",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422d",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422e",
      "text": "   btn.innerHTML = `",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a422f",
      "text": "     <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"magnifying-glass\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4230",
      "text": "       class=\"svg-inline--fa fa-magnifying-glass fa-1x\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4231",
      "text": "       viewBox=\"0 0 512 512\" style=\"width:16px;height:16px;\">",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4232",
      "text": "       <path fill=\"currentColor\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4233",
      "text": "         d=\"M384 208A176 176 0 1 0 32 208a176 176 0 1 0 352 0zM343.3 366C307 397.2 259.7 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 51.7-18.8 99-50 135.3L507.3 484.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L343.3 366z\">",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4234",
      "text": "       </path>",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4235",
      "text": "     </svg>",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4236",
      "text": "   `;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4237",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4238",
      "text": "   btn.addEventListener(\"click\", () => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4239",
      "text": "     const selection = window.getSelection().toString().trim();",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a423a",
      "text": "     if (!selection) return;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a423b",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a423d",
      "text": "     const homeBtn = document.querySelector(\"a.breadcrumb-item .homeButton\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a423e",
      "text": "     if (homeBtn) {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a423f",
      "text": "       homeBtn.click();",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4240",
      "text": "     }",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4241",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4243",
      "text": "     setTimeout(() => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4244",
      "text": "       const input = document.querySelector(\"input.searchBoxInput\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4245",
      "text": "       if (!input) return;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4246",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4247",
      "text": "       input.focus();",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4248",
      "text": "       const setter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4249",
      "text": "       setter.call(input, selection);",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424a",
      "text": "       input.dispatchEvent(new Event('input', { bubbles: true }));",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424b",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424c",
      "text": "       requestAnimationFrame(() => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424d",
      "text": "         input.dispatchEvent(new KeyboardEvent(\"keydown\", {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424e",
      "text": "           bubbles: true,",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a424f",
      "text": "           cancelable: true,",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4250",
      "text": "           key: \"Enter\",",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4251",
      "text": "           code: \"Enter\"",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4252",
      "text": "         }));",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4253",
      "text": "       });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4254",
      "text": "     }, 100); // 100msくらいトップに戻る時間を確保",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4255",
      "text": "   });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4256",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4257",
      "text": "   menu.firstChild.before(btn);",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4258",
      "text": " };",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4259",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425a",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425b",
      "text": " // MutationObserver",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425c",
      "text": " // ----------------------------",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425d",
      "text": " const observer = new MutationObserver(() => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425e",
      "text": "   const menus = document.querySelectorAll(\".flyout.ctx-menu\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a425f",
      "text": "   menus.forEach(menu => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4260",
      "text": "     if (menu.dataset.processed === \"true\") return;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4261",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4262",
      "text": "     const items = menu.querySelectorAll(\".ctx-menu-item\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4263",
      "text": "     items.forEach(item => {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4264",
      "text": "       const svg = item.querySelector(\"svg\");",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4265",
      "text": "       if (!svg) return;",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4266",
      "text": "       const iconClass = Array.from(svg.classList).find(cls => cls.startsWith(\"fa-\"));",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4267",
      "text": "       if (!allowedIcons.includes(iconClass)) {",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4268",
      "text": "         item.remove();",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4269",
      "text": "       }",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426a",
      "text": "     });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426b",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426c",
      "text": "     menu.style.display = \"flex\";",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426d",
      "text": "     menu.style.flexDirection = \"row\";",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426e",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a426f",
      "text": "     addSearchButton(menu);",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4270",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4271",
      "text": "     menu.dataset.processed = \"true\";",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4272",
      "text": "   });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4273",
      "text": " });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4274",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4275",
      "text": " observer.observe(document.body, { childList: true, subtree: true });",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d56b00000000008a4276",
      "text": " ",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176555,
      "updated": 1751176555
    },
    {
      "id": "6860d55800000000008a4218",
      "text": "",
      "userId": "60c9f2f6c225a50020b8bbfc",
      "created": 1751176537,
      "updated": 1751176537
    }
  ]
}