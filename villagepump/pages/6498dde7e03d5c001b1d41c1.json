{
  "id": "6498dde7e03d5c001b1d41c1",
  "title": "ScrapboxTranslator v2を作る",
  "created": 1687739887,
  "updated": 1695048854,
  "lines": [
    {
      "id": "6498dde7e03d5c001b1d41c1",
      "text": "ScrapboxTranslator v2を作る",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739887,
      "updated": 1687739887
    },
    {
      "id": "6498e00979e113000080d304",
      "text": "[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740426,
      "updated": 1687740426
    },
    {
      "id": "6498e01579e113000080d306",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740437,
      "updated": 1687740439
    },
    {
      "id": "6498e06f79e113000080d328",
      "text": "　https://github.com/blu3mo/ScrapboxTranslator",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740527,
      "updated": 1689029901
    },
    {
      "id": "64af681879e1130000706745",
      "text": "  コスト：ざっくり $4 / 1000 page くらいのイメージ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217048,
      "updated": 1689217109
    },
    {
      "id": "64af682779e1130000706747",
      "text": "  時間：2.7 * {number of page} 秒",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217064,
      "updated": 1689217109
    },
    {
      "id": "64af681679e1130000706744",
      "text": " 注意：",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217047,
      "updated": 1689217114
    },
    {
      "id": "64af685a79e113000070674a",
      "text": " 　OpenAI APIのhard limitを超えると翻訳が失敗する",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217114,
      "updated": 1689217185
    },
    {
      "id": "64af687e79e113000070674b",
      "text": " 　　ので、かかるコストより高いhard limitを設定しておくべき",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217151,
      "updated": 1689217186
    },
    {
      "id": "64af685679e1130000706749",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1689217111,
      "updated": 1689217111
    },
    {
      "id": "6498ddee79e11300007154eb",
      "text": " [ScrapboxTranslator v1]の反省点",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739887,
      "updated": 1687740432
    },
    {
      "id": "6498de0279e113000080d2e0",
      "text": " 　ただの思考メモの箇条書きをそのまま英訳しても読みづらい",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739907,
      "updated": 1687740441
    },
    {
      "id": "6498de5f79e113000080d303",
      "text": " 　　元々他人に読まれにくい文章が、さらに読まれづらくなる",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740001,
      "updated": 1687740021
    },
    {
      "id": "6498de1a79e113000080d2f0",
      "text": "   [2023/06/10]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739930,
      "updated": 1687739969
    },
    {
      "id": "6498de1a79e113000080d2f1",
      "text": "   >中途半端になっている[/blu3mo-en]を改善したい",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739931,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f3",
      "text": "   >  　箇条書きの構造を保ったまま上手く翻訳させる方法を探していたけど、もはやその必要が無い気もしてきた",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f4",
      "text": "   >  　箇条書きのメモを元にブログっぽい文章を生成させるほうが良いのかも",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f5",
      "text": "   >  　Promptを色々試す：",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f6",
      "text": "   >   　`Rewrite the content above in English. Make it like a blog post.`",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f7",
      "text": "   >   　 [/blu3mo-public/関連ページ一覧を横に移動させる]を翻訳させた例：",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f8",
      "text": "   >    　 https://chat.openai.com/share/e29b2e2b-22ae-454f-b436-8a1952660345",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2f9",
      "text": "   >    　うーん、ただの授業メモをまるで正しい講義資料かのように翻訳してしまうな",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2fa",
      "text": "   >   　`Convert the notes in bullet points to a cohesive, well-structured personal writing`",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2fb",
      "text": "   >   　 これだと二行のメモが百行くらいの文章に展開されてしまう[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2fc",
      "text": "   >  　 `Convert the style of this personal note from bullet points to cohesive easy-to-read markdown paragraphs in English. [Brackets] are links, and [https://gyazo.com/~] are image links, so preserve the links inside.`",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2fd",
      "text": "   >  　  タスクをあくまでも\"style\"の変換に絞ることで、文章量は同じになるようにする",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2fe",
      "text": "   >  　  リンクテキストは消されがちだけど、[few-shot]でやればましになると思う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d2ff",
      "text": "   >  　  このpromptは結構ありかも?[blu3mo.icon*2]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d300",
      "text": "   > 　 というかもはやexport先はscrapboxである必要がないな",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498de3079e113000080d301",
      "text": "   > 　  markdownでexportして[Hugo]使うかな",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687739969
    },
    {
      "id": "6498e02779e113000080d31f",
      "text": "    これが結構うまくいきそう",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740455,
      "updated": 1687740459
    },
    {
      "id": "6498e02a79e113000080d320",
      "text": "    例：[/blu3mo-en/KAGAMI - Ryuichi Sakamoto's Mixed Reality Concert]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740459,
      "updated": 1687740487
    },
    {
      "id": "6498e04c79e113000080d322",
      "text": "     これは手動（ChatGPT）でやった",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740493,
      "updated": 1687740498
    },
    {
      "id": "6498fc0979e11300005b4df6",
      "text": " 　　[- 出力はいっそMarkdownの方が良いかもしれない]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687747594,
      "updated": 1688923347
    },
    {
      "id": "6498fc1c79e11300005b4df7",
      "text": " 　　　LLMはscrapboxページよりもmarkdownページを多く食ってるので、markdownの方がフォーマットに従わせやすそう",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687747613,
      "updated": 1687747642
    },
    {
      "id": "6498fecc79e11300005b4df8",
      "text": " 　　[- なんなら入力もMarkdownの方が良さそう]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687748300,
      "updated": 1688923349
    },
    {
      "id": "6498fed179e11300005b4df9",
      "text": " 　　　Scrapbox to Markdownのフォーマット変換と翻訳を同時にやらせるのは得策ではない",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687748306,
      "updated": 1687748341
    },
    {
      "id": "6498fefa79e11300005b4dfd",
      "text": " 　　　[ScrapboxToObsidian]を使ってmarkdownに変換したものをGPTに渡す[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687748347,
      "updated": 1687748367
    },
    {
      "id": "64aaecd779e1130000c93c70",
      "text": " 　　結局Scrapbox記法のままうまくやる方法が見つかったので、markdownは使わないことに",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923352,
      "updated": 1688923367
    },
    {
      "id": "6498ec6479e1130000a6fe4a",
      "text": "  タイトルの翻訳は別でやる",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687743589,
      "updated": 1687747596
    },
    {
      "id": "6498ec6b79e1130000a6fe4b",
      "text": "  　JSON Arrayで入出力をやれば、v1みたいに内容が飛ばされて翻訳がずれることがなくなると思う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687743596,
      "updated": 1687743850
    },
    {
      "id": "6498ed5179e1130000cf3dbe",
      "text": "  　[https://gyazo.com/3d6a6de185e26530a73c7ef08a88e391]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687743825,
      "updated": 1687743848
    },
    {
      "id": "6498ed6879e1130000cf3dbf",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687743848,
      "updated": 1687743848
    },
    {
      "id": "6498e04b79e113000080d321",
      "text": "  [ChatGPTでScrapboxTranslator v1を作る]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740491,
      "updated": 1687740491
    },
    {
      "id": "6498de2f79e113000080d2f2",
      "text": "　　　ChatGPTで作ったので、あんまりコードの構造とか頭に入ってない",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687739952,
      "updated": 1687740523
    },
    {
      "id": "6498e06079e113000080d325",
      "text": "　　　0から作り直した方が早そう",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1687740513,
      "updated": 1688012287
    },
    {
      "id": "649d05f579e1130000a67344",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012277,
      "updated": 1688012285
    },
    {
      "id": "649d05fd79e1130000a67346",
      "text": " 本文のtranslation",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012285,
      "updated": 1688012301
    },
    {
      "id": "649d077d79e1130000e62e83",
      "text": " 原文のtoken sizeによる場合分け",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012669,
      "updated": 1688012687
    },
    {
      "id": "649d060c79e1130000a67347",
      "text": "  ~2kなら、4k gpt-3.5を使う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012301,
      "updated": 1688012668
    },
    {
      "id": "649d062b79e1130000a67348",
      "text": "  2k~8kなら、16k gpt-3.5を使う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012331,
      "updated": 1688012674
    },
    {
      "id": "649d074a79e1130000e62e81",
      "text": "   値段は倍するけど、まあ倍程度ならこの実装で良いかなと思う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012618,
      "updated": 1688012629
    },
    {
      "id": "649d075479e1130000e62e82",
      "text": "   [\" 箇条書きのメモを元にブログっぽい文章を生成させる]ので、下手に区切るとクオリティ下がると思う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012629,
      "updated": 1688012700
    },
    {
      "id": "649d064079e1130000a67349",
      "text": "  8k~なら、8kに切って翻訳する",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012352,
      "updated": 1688012677
    },
    {
      "id": "649d066b79e1130000e62e80",
      "text": "  　そこまで長い かつ 大事な文章なら別途手動で翻訳してくれという意図[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688012396,
      "updated": 1688012708
    },
    {
      "id": "64990408aff09e00008e1825",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1687749641,
      "updated": 1687749641
    },
    {
      "id": "649d09a179e1130000e62e84",
      "text": " メモ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688013218,
      "updated": 1688013248
    },
    {
      "id": "649d09a479e1130000e62e86",
      "text": " 　Prompt injection的なことが書いてあるページがあると壊れそう",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688013221,
      "updated": 1688013244
    },
    {
      "id": "649d09a279e1130000e62e85",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688013218,
      "updated": 1688013218
    },
    {
      "id": "64aaece879e1130000c93c71",
      "text": "　こんなpromptになった[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923369,
      "updated": 1688923394
    },
    {
      "id": "64aaed0279e1130000c93c73",
      "text": "　 code: prompt example for specific page",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923394,
      "updated": 1688923574
    },
    {
      "id": "64aaed0479e1130000c93c74",
      "text": "　  # Task",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c75",
      "text": "   Convert the style of this personal note from bullet points to cohesive easy-to-read structured paragraphs with [keywords] in English. ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c76",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c77",
      "text": "   [Keywords] in the input are in square brackets, so all in the output must be in square brackets too. ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c78",
      "text": "   For example, \"[ディープラーニング]の[研究]\" should be converted to \"[research] on [deep learning].\"",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c79",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7a",
      "text": "   Links like [https://gyazo.com/~] in the input are in square brackets, so all in the output must be in square brackets too. ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7b",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7c",
      "text": "   # Output Rules ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7d",
      "text": "   Keywords and links shown below must be included in the output.",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7e",
      "text": "   [https://gyazo.com/ae5efe61c0a900df786a3034b2f1082e]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c7f",
      "text": "   [絵]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c80",
      "text": "   [デッサン]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c81",
      "text": "   [IBJapanese]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0479e1130000c93c82",
      "text": "   [文学分析]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923396,
      "updated": 1688923396
    },
    {
      "id": "64aaed0679e1130000c93c83",
      "text": "  system promptの最後に「これらのリンクを生成文章に含んでくれ」と具体的に指定している",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923399,
      "updated": 1688923528
    },
    {
      "id": "64aaed5c79e1130000c93c89",
      "text": "  　これで、翻訳後のnon-箇条書き文章にもリンクが含まれるようになった",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923484,
      "updated": 1688923504
    },
    {
      "id": "6507c840aff09e0000a17ac2",
      "text": "  　リンクのタイトルは日本語なの？[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1695008833,
      "updated": 1695008856
    },
    {
      "id": "6507c874aff09e0000a17ac3",
      "text": "  　　翻訳の揺れによって異なる訳され方をするのではと心配になった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1695008885,
      "updated": 1695008902
    },
    {
      "id": "6508647079e1130000e9fde2",
      "text": "  　　no, they are all in English[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1695048817,
      "updated": 1695048854
    },
    {
      "id": "64aaed5479e1130000c93c85",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923477,
      "updated": 1688923478
    },
    {
      "id": "64aaed5679e1130000c93c87",
      "text": "　やってないこと",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923479,
      "updated": 1688923481
    },
    {
      "id": "64aaed5879e1130000c93c88",
      "text": "　　更新部分のみ翻訳",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923481,
      "updated": 1688923830
    },
    {
      "id": "64aaeeb179e1130000c93c8c",
      "text": "　　　でもページ翻訳ロジックを切り出したので前よりは作りやすいと思う",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923826,
      "updated": 1688923844
    },
    {
      "id": "64aaeec179e1130000c93c8d",
      "text": "　　エラーの処理",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923841,
      "updated": 1688923862
    },
    {
      "id": "64aaeed679e1130000c93c8e",
      "text": "　　　とりあえずエラーで中断せずに最後まで処理してほしいので、エラーはprintだけして無視している",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923862,
      "updated": 1688923918
    },
    {
      "id": "64aaeef079e1130000c93c8f",
      "text": "　　　翻訳処理にエラーが起きたら、そのページ/タイトルは日本語のままになるはず",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923890,
      "updated": 1688923907
    },
    {
      "id": "64aaef1679e1130000c93c91",
      "text": "　　　temp上げて再チャレンジとかやりたい",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923927,
      "updated": 1688923936
    },
    {
      "id": "64aaed5479e1130000c93c86",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1688923477,
      "updated": 1688923477
    },
    {
      "id": "64990408aff09e00008e1826",
      "text": "期待！[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1687749641,
      "updated": 1687749676
    },
    {
      "id": "6499040baff09e00008e1828",
      "text": "　自分のScrapboxもGPTでの翻訳に移行したいと思ってGithubのコードを眺めてた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1687749643,
      "updated": 1687749674
    },
    {
      "id": "6499042daff09e00008e1829",
      "text": "　今作りつつあるプロジェクトも可能なら英訳したい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1687749677,
      "updated": 1687749704
    },
    {
      "id": "6499040aaff09e00008e1827",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1687749642,
      "updated": 1687749642
    }
  ]
}