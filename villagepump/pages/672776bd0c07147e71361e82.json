{
  "id": "672776bd0c07147e71361e82",
  "title": "✅️scrapbox-userscript-stdをjsr:@cosense/stdからimportしてscrapbox-bundlerしたらエラーが出た 2024/11/3",
  "created": 1730639549,
  "updated": 1731060812,
  "lines": [
    {
      "id": "672776bd0c07147e71361e82",
      "text": "✅️scrapbox-userscript-stdをjsr:@cosense/stdからimportしてscrapbox-bundlerしたらエラーが出た 2024/11/3",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730639549,
      "updated": 1731060812
    },
    {
      "id": "672776bee5172d0000483b1a",
      "text": "from [@takker その2]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b1b",
      "text": "",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639560
    },
    {
      "id": "672776bee5172d0000483b1c",
      "text": "scrapbox-bundlerは[JSR]に対応していますか？[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b1d",
      "text": "　[scrapbox-userscript-std]をgithubからimportしているのを[@cosense/std]からのimportに置き換えてみたんですが、[scrapbox-bundler]が`Failed to build.`となりました",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b1e",
      "text": "　[/takker/JSR#668cea3f1280f00000ece11d]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b1f",
      "text": "　対応してます[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b20",
      "text": "　 ただし、ソースファイル中に`import`で指定されている場合のみです",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b21",
      "text": "　 `?url=`に`jsr:`形式のURLを直接渡した場合はエラーになります",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b22",
      "text": "　 　まだ未実装",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b23",
      "text": " URL見せてもらえませんか",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b24",
      "text": " [/yosider-scripts/scrapbox-bundler#67276717e5172d000039ab9d]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b25",
      "text": "  `reload=`に[URLPattern]形式の文字列を渡すことで、reload対象を絞り込めます",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b26",
      "text": "  　これどこかに書いた気がしたけど、どこに書いたか忘れてしまった",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b27",
      "text": "  例えば`reload=*://scrapbox.io/*`で、scrapbox.ioのドメインのURLのみリロードできます",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b28",
      "text": " [/yosider-scripts/SharedUserScripts#652c3008e5172d0000f43f2a]このリンクでbundleしようとしてます[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b29",
      "text": " 　[@cosense/std]からimportしているのはここ：[/yosider-scripts/scrapbox-userscript-std]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2a",
      "text": " 　ほんとだ[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2b",
      "text": " 　 import specifierはあってそう",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2c",
      "text": " 　 module同士で重複する識別子が衝突してるかも",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2d",
      "text": " 　 　？[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2e",
      "text": " 　 　たとえば[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b2f",
      "text": " 　 　 code:ts",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b30",
      "text": " 　 　  export * from \"jsr:@cosense/std\";",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b31",
      "text": " 　 　  export * from \"jsr:@cosense/std/title\";",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b32",
      "text": " 　 　 [train.icon]すごい！[takker.icon]がリアルタイムでcodingしてる![bsahd.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b33",
      "text": " 　  は同じ識別子`toTitleLc`などをexportしているので、衝突してbuild errorになります",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b34",
      "text": " 　  実は@cosense/stdはこの手の重複識別子がそこそこあるので、もしかしたらその線もあるかなーと予想しました[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b35",
      "text": " 　  \t同じ人の制作物でここまで相性が悪いのはすごい[bsahd.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b36",
      "text": " 　  \tｸﾞﾊｧ[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672b22cb1280f0000060e22d",
      "text": " 　  \t一応、こういう設計になっているのには理由がある[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730880203,
      "updated": 1730880215
    },
    {
      "id": "672b22ff1280f0000060e230",
      "text": " 　  \t module nameに意味を載せて、変数名を単純にしている",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730880256,
      "updated": 1730880265
    },
    {
      "id": "672b22d71280f0000060e22e",
      "text": " 　  \t [ソースコードを階層整理する必要はあるのか？#6226e131aff09e0000571d4d]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730880215,
      "updated": 1730880216
    },
    {
      "id": "672b230a1280f0000060e231",
      "text": " 　  \t  ずっと前に同じこと書いていたの見つけた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730880267,
      "updated": 1730880277
    },
    {
      "id": "672776bee5172d0000483b37",
      "text": " 　 laptopしまっちゃってconsoleみれないので、明日確認します",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b38",
      "text": " 　 　ｵﾅｼｬｽ🙇[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b39",
      "text": " bundle時のエラーを表示するのは未実装なのだろうか",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3a",
      "text": "  console出力でごまかしてます……ｻｰｾﾝ[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3b",
      "text": "  　それはブラウザ上で表示されるはずなんでしょうか？`❌️Failed to build.`としか表示されないんですが…[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3c",
      "text": "   console.error()で開発コンソールに出力しています[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3d",
      "text": "   ほんとだ！[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3e",
      "text": "   code:console",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b3f",
      "text": "    Error: Build failed with 9 errors:",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b40",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/edit.ts:6:24: ERROR: [plugin: remote-loader] InvalidPackageVersionError No version of @core/unknownutil satisfies \"%5E4.0.0\" (available: 4.2.0, 3.18.0, 4.1.0-pre.0, 4.0.3-pre.4, 4.0.3-pre.3, 4.0.2, 3.17.2, 4.2.1-pre.1, 4.0.3-pre.2, 4.0.3-pre.0, ... (19 more versions))",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b41",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/edit.ts:7:25: ERROR: [plugin: remote-loader] InvalidPackageVersionError No version of @core/unknownutil satisfies \"%5E4.0.0\" (available: 4.2.0, 3.18.0, 4.1.0-pre.0, 4.0.3-pre.4, 4.0.3-pre.3, 4.0.2, 3.17.2, 4.2.1-pre.1, 4.0.3-pre.2, 4.0.3-pre.0, ... (19 more versions))",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b42",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/edit.ts:8:25: ERROR: [plugin: remote-loader] InvalidPackageVersionError No version of @core/unknownutil satisfies \"%5E4.0.0\" (available: 4.2.0, 3.18.0, 4.1.0-pre.0, 4.0.3-pre.4, 4.0.3-pre.3, 4.0.2, 3.17.2, 4.2.1-pre.1, 4.0.3-pre.2, 4.0.3-pre.0, ... (19 more versions))",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b43",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/node.ts:1:24: ERROR: [plugin: remote-loader] InvalidPackageVersionError No version of @core/unknownutil satisfies \"%5E4.0.0\" (available: 4.2.0, 3.18.0, 4.1.0-pre.0, 4.0.3-pre.4, 4.0.3-pre.3, 4.0.2, 3.17.2, 4.2.1-pre.1, 4.0.3-pre.2, 4.0.3-pre.0, ... (19 more versions))",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b44",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/node.ts:2:25: ERROR: [plugin: remote-loader] InvalidPackageVersionError No version of @core/unknownutil satisfies \"%5E4.0.0\" (available: 4.2.0, 3.18.0, 4.1.0-pre.0, 4.0.3-pre.4, 4.0.3-pre.3, 4.0.2, 3.17.2, 4.2.1-pre.1, 4.0.3-pre.2, 4.0.3-pre.0, ... (19 more versions))",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b45",
      "text": "   [%5E]？なにかの特殊文字がpercent encodingされてる？[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b46",
      "text": "    ^かな？",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b47",
      "text": "    https://jsr.io/@cosense/std/0.28.4/browser/dom/node.ts",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b48",
      "text": "    やっぱり。^がencodeされちゃってる",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b49",
      "text": "    明日直し方考えてみます",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4a",
      "text": "     ちょっと時間かかるかも",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4b",
      "text": "     ゆっくりで大丈夫です[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4c",
      "text": "　　　　なるほどー[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4d",
      "text": "　　　takkerさんはこの方法ではやってない？[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4e",
      "text": "　　　 思えば最近UserScript更新してなかったかも[takker.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b4f",
      "text": " 　　　 それで気づかなかったのかも",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b50",
      "text": "　　　  [何もしてないから壊れた]パターン",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b51",
      "text": " [井戸端カスタマーサポート][bsahd.icon][yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672776bee5172d0000483b52",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688929,
      "updated": 1730688929
    },
    {
      "id": "6728378b1280f00000999eb9",
      "text": "2024-11-04",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688908,
      "updated": 1730688929
    },
    {
      "id": "6728378f1280f00000999eba",
      "text": " すみません今日対応難しそうです[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688913,
      "updated": 1730688936
    },
    {
      "id": "672837a61280f00000999ebd",
      "text": "  今大学にいるのですが、laptopの電源アダプタを忘れてきてしまいました",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688936,
      "updated": 1730688952
    },
    {
      "id": "672837b71280f00000999ebe",
      "text": "  laptopのバッテリー残量がそれほどないので、codingする時間がなさそうです",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688952,
      "updated": 1730688969
    },
    {
      "id": "672837cd1280f00000999ebf",
      "text": "  大統領選が終わった頃にやります",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730688974,
      "updated": 1730688988
    },
    {
      "id": "672878e9e5172d0000e6d26e",
      "text": "  👍[yosider.icon][bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1730705639,
      "updated": 1730708063
    },
    {
      "id": "672776bee5172d0000483b53",
      "text": "",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1730639549,
      "updated": 1730639549
    },
    {
      "id": "672cae501280f000002f54c9",
      "text": "https://github.com/takker99/ScrapJupyter/blob/06db1984fab012f4fd3dc870e392de9d73ed218f/esbuildResolution.ts#L45",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730981458,
      "updated": 1730981517
    },
    {
      "id": "672cae8d1280f000002f54cc",
      "text": " このURL変換を止めれば直るはず",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730981518,
      "updated": 1730981545
    },
    {
      "id": "672d530e1280f000003fa805",
      "text": "2024-11-08",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731023629,
      "updated": 1731044982
    },
    {
      "id": "672da6761280f000003fa80a",
      "text": " 08:54:17 違った。[esbuild_deno_loader]の仕様だった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731044982,
      "updated": 1731044982
    },
    {
      "id": "672d532a1280f000003fa806",
      "text": "  https://github.com/takker99/ScrapJupyter/pull/61",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731023658,
      "updated": 1731044986
    },
    {
      "id": "672d532d1280f000003fa807",
      "text": "  これで直るはず",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731023661,
      "updated": 1731044986
    },
    {
      "id": "672d53331280f000003fa808",
      "text": "  　mergeする前に、[scrapbox-bundler]のほうで試してみる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731023666,
      "updated": 1731044986
    },
    {
      "id": "672cae8b1280f000002f54cb",
      "text": " 14:49:38 直った",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1730981517,
      "updated": 1731044988
    },
    {
      "id": "672da67c1280f000003fa80b",
      "text": " 　ただし、cache全消去をawaitする処理を挟んでしまい、初回実行に時間がかかってしまうようにしちゃった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731044988,
      "updated": 1731045055
    },
    {
      "id": "672da6a61280f000003fa80c",
      "text": " 　 https://github.com/takker99/scrapbox-bundler/pull/28",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731045030,
      "updated": 1731045030
    },
    {
      "id": "672da6721280f000003fa809",
      "text": "　　もう少し修正するつもり",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731044977,
      "updated": 1731045062
    },
    {
      "id": "672da6c11280f000003fa80d",
      "text": " 19:12:13 cache周り直しました！",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731045057,
      "updated": 1731060740
    },
    {
      "id": "672de4041280f00000f877a4",
      "text": " 　https://github.com/takker99/scrapbox-bundler/pull/30",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731060740,
      "updated": 1731060740
    },
    {
      "id": "672de4051280f00000f877a5",
      "text": " 　多分大丈夫なはずです",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731060741,
      "updated": 1731060750
    },
    {
      "id": "672de40e1280f00000f877a6",
      "text": " 　あとついでに[エラーメッセージを表示するようにしました https://github.com/takker99/scrapbox-bundler/pull/29]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731060750,
      "updated": 1731060777
    },
    {
      "id": "672de3fc1280f00000f877a3",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1731060732,
      "updated": 1731060732
    }
  ]
}