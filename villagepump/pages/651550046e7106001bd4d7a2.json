{
  "id": "651550046e7106001bd4d7a2",
  "title": "開いているScrapboxページを自分のprojectにコピペするbookmark",
  "created": 1695895558,
  "updated": 1695898998,
  "lines": [
    {
      "id": "651550046e7106001bd4d7a2",
      "text": "開いているScrapboxページを自分のprojectにコピペするbookmark",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895558,
      "updated": 1695896880
    },
    {
      "id": "6515500ded60e600000ebe48",
      "text": "from [/Summer498/開いている Scrapbox ページを自分の project にコピペする bookmark]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895566,
      "updated": 1695895573
    },
    {
      "id": "651552cfed60e600000ebe5b",
      "text": "",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695896272,
      "updated": 1695896272
    },
    {
      "id": "651552d0ed60e600000ebe5d",
      "text": "[minify バージョン https://scrapbox-bundler.vercel.app/?url=https://scrapbox.io/api/code/villagepump/開いているScrapboxページを自分のprojectにコピペするbookmark/readable.js&bundle&minify&run&reload]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695896273,
      "updated": 1695897518
    },
    {
      "id": "6515578ced60e600003b2399",
      "text": "code:js",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695897485,
      "updated": 1695897513
    },
    {
      "id": "651557a1ed60e600003b239a",
      "text": " javascript:(()=>{let t=\"Summer498\",n=window,e=encodeURIComponent,o=scrapbox;if(o){let a=o.Project.name,c=o.Page,p=c.title,s=a+\"/\"+page_name;if(n.prompt(`Scrap \"${s}\" to /${t}/.`,p)){let i=c.lines.map(_=>_.text).slice(1),m=[`from [/${s}]`,\"\"].concat(i),r=e(m.join('\\n'));n.open(\"https://scrapbox.io/\"+t+\"/\"+e(p.trim())+\"?body=\"+r)}}})();",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695897505,
      "updated": 1695898435
    },
    {
      "id": "651552d0ed60e600000ebe5c",
      "text": "なんか minify すると `join` の後の `'\\n'` が本当に改行になってしまうな[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695896272,
      "updated": 1695897814
    },
    {
      "id": "651558d6ed60e600003b239e",
      "text": "\t手動で直したけど",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695897815,
      "updated": 1695897821
    },
    {
      "id": "651558e1ed60e600003b239f",
      "text": "\tscrapbox-bundlerのバグ？",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695897825,
      "updated": 1695898237
    },
    {
      "id": "65155924ed60e600003b23a0",
      "text": "\tあ。多分違うな。Template literals 内では改行しても文字列が続くとみなされるから minify するために改行してるな",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695897892,
      "updated": 1695898228
    },
    {
      "id": "65155d51ed60e600003b23b2",
      "text": "ワイの手動 minify [. [/Summer498/開いている Scrapbox ページを自分の project にコピペする bookmark]]の方が短い[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695898962,
      "updated": 1695898988
    },
    {
      "id": "65155d52ed60e600003b23b3",
      "text": "",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695898962,
      "updated": 1695898962
    },
    {
      "id": "65155006ed60e600000ebe46",
      "text": "code:readable.js",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895558,
      "updated": 1695897524
    },
    {
      "id": "65155016ed60e600000ebe49",
      "text": " (()=>{",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895575,
      "updated": 1695897558
    },
    {
      "id": "651550aced60e600000ebe57",
      "text": " \tconst my_project=\"Summer498\";  // ここを自分のプロジェクト名にする",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895724,
      "updated": 1695898836
    },
    {
      "id": "6515555fed60e600003b2398",
      "text": " \tconst _window = window;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695896928,
      "updated": 1695898835
    },
    {
      "id": "651550afed60e600000ebe58",
      "text": " \tconst _encodeURIComponent=encodeURIComponent;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895728,
      "updated": 1695898835
    },
    {
      "id": "65155a9aed60e600003b23a2",
      "text": "\t\tconst _scrapbox=scrapbox;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695898266,
      "updated": 1695898834
    },
    {
      "id": "65155024ed60e600000ebe4a",
      "text": " \tif(_scrapbox){",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895588,
      "updated": 1695898270
    },
    {
      "id": "6515503eed60e600000ebe4c",
      "text": " \t\tconst project_name=_scrapbox.Project.name;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895615,
      "updated": 1695898822
    },
    {
      "id": "65155198ed60e600000ebe5a",
      "text": " \t\tconst page=_scrapbox.Page;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895960,
      "updated": 1695898822
    },
    {
      "id": "6515505aed60e600000ebe4f",
      "text": " \t\tconst page_title=page.title;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895643,
      "updated": 1695898822
    },
    {
      "id": "6515505ded60e600000ebe50",
      "text": " \t\tconst page_path=project_name + \"/\" + page_name;",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895645,
      "updated": 1695898822
    },
    {
      "id": "65155060ed60e600000ebe51",
      "text": " \t\tif(_window.prompt(`Scrap \"${page_path}\" to /${my_project}/.`, page_title)){",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895649,
      "updated": 1695897578
    },
    {
      "id": "65155072ed60e600000ebe52",
      "text": " \t\t\tconst quote=page.lines.map(e=>e.text).slice(1);",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895667,
      "updated": 1695898822
    },
    {
      "id": "65155082ed60e600000ebe54",
      "text": " \t\t\tconst lines=[`from [/${page_path}]`,\"\"].concat(quote);",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895683,
      "updated": 1695898822
    },
    {
      "id": "6515508ded60e600000ebe55",
      "text": " \t\t\tconst body=_encodeURIComponent(lines.join('\\n'));",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895694,
      "updated": 1695898822
    },
    {
      "id": "65155091ed60e600000ebe56",
      "text": " \t\t\t_window.open('https://scrapbox.io/'+my_project + '/' + _encodeURIComponent(page_title.trim()) + '?body=' + body);",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895697,
      "updated": 1695897589
    },
    {
      "id": "65155076ed60e600000ebe53",
      "text": " \t\t}",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895671,
      "updated": 1695895672
    },
    {
      "id": "6515504eed60e600000ebe4e",
      "text": " \t}",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895631,
      "updated": 1695895632
    },
    {
      "id": "65155048ed60e600000ebe4d",
      "text": " })();",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895625,
      "updated": 1695895628
    },
    {
      "id": "65155007ed60e600000ebe47",
      "text": "",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1695895560,
      "updated": 1695895560
    }
  ]
}