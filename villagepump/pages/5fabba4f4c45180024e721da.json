{
  "id": "5fabba4f4c45180024e721da",
  "title": "p5-Mandelbrot-button",
  "created": 1605089897,
  "updated": 1661164105,
  "lines": [
    {
      "id": "5fabba4f4c45180024e721da",
      "text": "p5-Mandelbrot-button",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089897,
      "updated": 1605089897
    },
    {
      "id": "5fabba685b98c20000c57497",
      "text": "p5.jsで[マンデルブロ集合]を書く",
      "userId": "62a91a7a083437001de60035",
      "created": 1605089897,
      "updated": 1661161440
    },
    {
      "id": "5fabba695b98c20000c57498",
      "text": " 作っておいて何だけど、いったい何人くらいが試したのだろう？ [suto3.icon]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1661163982
    },
    {
      "id": "6303597a5b98c20000acde7b",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1661163898,
      "updated": 1661163898
    },
    {
      "id": "5fabbb1c5b98c20000c574f0",
      "text": "元ネタ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605090076,
      "updated": 1605090085
    },
    {
      "id": "5fabbabc5b98c20000c574ed",
      "text": "[https://infosmith.biz/blog/it/p5js-fractal-2d p5.jsでなんとなくフラクタル – infosmith.biz]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089980,
      "updated": 1605089981
    },
    {
      "id": "5fabbabd5b98c20000c574ee",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089981,
      "updated": 1605089981
    },
    {
      "id": "5fabba695b98c20000c57499",
      "text": "↓実行ボタン",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c5749a",
      "text": "[p5-Mandelbrot-button.icon]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c5749b",
      "text": "描画には少し時間がかかる",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabbaf95b98c20000c574ef",
      "text": "パソコンでしか動かないかも",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605090042,
      "updated": 1605090073
    },
    {
      "id": "5fabba695b98c20000c5749c",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c5749d",
      "text": "↓アイコン用画像",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c5749e",
      "text": "[https://gyazo.com/374de20e6cae168b155e87cf7a6d0737]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c5749f",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a0",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a1",
      "text": "code:button.js",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a2",
      "text": " (function () {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a3",
      "text": "   let P5js = document.getElementById('__P5js__')",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a4",
      "text": "   if (P5js){",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a5",
      "text": "     console.log(\"nop\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a6",
      "text": "   } else {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a7",
      "text": "     P5js = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a8",
      "text": "     P5js.setAttribute('id', '__P5js__')",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574a9",
      "text": "     P5js.type = 'text/javascript';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574aa",
      "text": "     P5js.src = 'https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js'",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ab",
      "text": "     document.head.appendChild(P5js);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ac",
      "text": "     console.log(\"load p5js\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ad",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ae",
      "text": "   let script =  document.getElementById('__P5sc__')",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574af",
      "text": "   if (script){",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b0",
      "text": "     console.log(\"nop\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b1",
      "text": "   } else {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b2",
      "text": "     script = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b3",
      "text": "     script.setAttribute('id', '__P5sc__')",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b4",
      "text": "     script.type = 'text/javascript';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b5",
      "text": "     script.src = 'https://scrapbox.io/api/code/villagepump/p5-Mandelbrot-button/Mandelbrot.js'",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605408563
    },
    {
      "id": "5fabba695b98c20000c574b6",
      "text": "     document.head.appendChild(script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b7",
      "text": "     console.log(script.src)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b8",
      "text": "     console.log(\"load script\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574b9",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ba",
      "text": " })()",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574bb",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574bc",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574bd",
      "text": "code:Mandelbrot.js",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574be",
      "text": " const sketch = p => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605408632
    },
    {
      "id": "5fabba695b98c20000c574bf",
      "text": "   const N = 255;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c0",
      "text": "   const L = 255;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c1",
      "text": "   const SCALE = 3.8;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c2",
      "text": "   const width = 600;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c3",
      "text": "   const height = 600;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c4",
      "text": "   ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c5",
      "text": "   p.setup = () => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605408660
    },
    {
      "id": "5fabba695b98c20000c574c6",
      "text": "     p.createCanvas(600, 600);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c7",
      "text": "     p.noLoop();",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c8",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574c9",
      "text": "   p.draw = () => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605408668
    },
    {
      "id": "5fabba695b98c20000c574ca",
      "text": "     p.translate(width / 2, height / 2);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574cb",
      "text": "     p.background(0);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574cc",
      "text": "     for (let a = -width / 2; a <= width / 2; a++) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574cd",
      "text": "       for (let b = -height / 2; b <= height / 2; b++) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574ce",
      "text": "         let x = SCALE * a / width;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574cf",
      "text": "         let y = SCALE * b / height;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d0",
      "text": "         let r = calc(x, y);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d1",
      "text": "         p.stroke(r * 12 % 256, r * 4 % 256, r * 16 % 256);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d2",
      "text": "         p.rect(a, b, 1, 1);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d3",
      "text": "       }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d4",
      "text": "     }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d5",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d6",
      "text": "   calc = (x, y) => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605408783
    },
    {
      "id": "5fabba695b98c20000c574d7",
      "text": "     let tx, ty;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d8",
      "text": "     let zx = 0.0;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574d9",
      "text": "     let zy = 0.0;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574da",
      "text": "  ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574db",
      "text": "     for (let i = 1; i <= N; i++) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574dc",
      "text": "       tx = zx;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574dd",
      "text": "       ty = zy;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574de",
      "text": "  ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574df",
      "text": "       zx = tx * tx - ty * ty + x;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e0",
      "text": "       zy = 2 * tx * ty + y;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e1",
      "text": "  ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e2",
      "text": "       if (zx * zx + zy * zy > L)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e3",
      "text": "         return i;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e4",
      "text": "     }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e5",
      "text": "     return 0;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e6",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e7",
      "text": " }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e8",
      "text": " new p5(sketch, 'editor');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba695b98c20000c574e9",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089898,
      "updated": 1605089898
    },
    {
      "id": "5fabba795b98c20000c574ea",
      "text": "#UserScript",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089913,
      "updated": 1605089929
    },
    {
      "id": "5fabba7c5b98c20000c574eb",
      "text": "#icon-button",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089917,
      "updated": 1605089950
    },
    {
      "id": "5fabba945b98c20000c574ec",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1605089941,
      "updated": 1605089941
    },
    {
      "id": "63035a155b98c20000d78a19",
      "text": "うまくいくと、次のような画像が生成される（はず）[suto3.icon]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1661164053,
      "updated": 1661164105
    },
    {
      "id": "630359ef5b98c20000d78a16",
      "text": " [https://gyazo.com/8a86b8d1e60057ab812d621c09e80fb9]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1661164015,
      "updated": 1661164050
    },
    {
      "id": "63035a125b98c20000d78a18",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1661164050,
      "updated": 1661164050
    },
    {
      "id": "63035a115b98c20000d78a17",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1661164049,
      "updated": 1661164049
    }
  ]
}