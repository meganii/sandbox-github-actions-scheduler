{
  "id": "659f910e7dd3fb00234cf0d3",
  "title": "論文のURLからタイトルと著者名と所属を抽出してScrapboxに貼りたい",
  "created": 1704956177,
  "updated": 1705317707,
  "lines": [
    {
      "id": "659f910e7dd3fb00234cf0d3",
      "text": "論文のURLからタイトルと著者名と所属を抽出してScrapboxに貼りたい",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1704956177,
      "updated": 1704956187
    },
    {
      "id": "659f911e79e11300009f7c88",
      "text": "です[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1704956191,
      "updated": 1704956196
    },
    {
      "id": "659f912479e11300009f7c8b",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1704956197,
      "updated": 1704956197
    },
    {
      "id": "659f912579e11300009f7c8c",
      "text": " そんな感じのUserScriptを見かけた気がするけど見つからないので[人力検索井戸端]の助けが欲しいです[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1704956197,
      "updated": 1704956264
    },
    {
      "id": "659f912479e11300009f7c8a",
      "text": " 実装例は見覚えない[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956196,
      "updated": 1704956795
    },
    {
      "id": "659f93cf1280f0000034d16c",
      "text": "  [2022/01/05]にて[zudooooooooon.icon]さんが図書館のAPIを使ってscrapboxにbookmarkしているという記述があるが、コードは載っていない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956880,
      "updated": 1704956938
    },
    {
      "id": "659fa15232ef920000b54415",
      "text": "\tGoogleShcolarの見出しみたいな画像出したいと昔思った[dokudami.icon]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960337,
      "updated": 1704960439
    },
    {
      "id": "659fa3b032ef920000b5441e",
      "text": "\t\t被引用数とか知りたい",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960942,
      "updated": 1704960954
    },
    {
      "id": "659fa19532ef920000b54417",
      "text": "\t\t>[https://gyazo.com/d349823ef3c721e0ebac460246ef0486]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960404,
      "updated": 1704960407
    },
    {
      "id": "659fa19832ef920000b54418",
      "text": "\t\t\t[https://scholar.google.co.jp/scholar?hl=ja&as_sdt=0%2C5&q=attention+is+all+you+need&oq=atten attention is all you need - Google Scholar]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960407,
      "updated": 1704960429
    },
    {
      "id": "659fa15232ef920000b54416",
      "text": "\t\t[/rinsuki/nicothumb2img]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960337,
      "updated": 1704960665
    },
    {
      "id": "659fa29b32ef920000b54419",
      "text": "\t\t[ricapitolare]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960665,
      "updated": 1704960775
    },
    {
      "id": "659fa30a32ef920000b5441a",
      "text": "\t\t\tみたいな感じでできないかな[dokudami.icon]",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960776,
      "updated": 1704960798
    },
    {
      "id": "659fa33032ef920000b5441d",
      "text": "\t\t\t\tpdfを対象にするのであれば、pdfのxml構造的なやつから抜き出せる？",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960815,
      "updated": 1704960853
    },
    {
      "id": "659fa32032ef920000b5441c",
      "text": "\t\t\t\t\tサーバーが必要そう",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704960799,
      "updated": 1704960932
    },
    {
      "id": "659f94101280f0000034d16d",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956945,
      "updated": 1704956945
    },
    {
      "id": "659f93791280f0000034d16a",
      "text": "実装方法",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956795,
      "updated": 1704956947
    },
    {
      "id": "659f94121280f0000034d16e",
      "text": "　[国立国会図書館サーチAPI]を使って書誌情報を取り出す？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956947,
      "updated": 1704956958
    },
    {
      "id": "659f94211280f0000034d16f",
      "text": "　論文URLを[国立国会図書館サーチAPI]に投げても情報は返ってこなさそう？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1704956962,
      "updated": 1704956992
    },
    {
      "id": "659f943f1280f0000034d170",
      "text": "　各論文サイトの[API]を使うのが妥当かも",
      "userId": "5ca094b00af7b0001732ef92",
      "created": 1704956992,
      "updated": 1704960967
    },
    {
      "id": "659f93711280f0000034d169",
      "text": "　[Semantic scholar]のAPIが便利みたい",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1704956786,
      "updated": 1705316393
    },
    {
      "id": "65a5103e79e1130000133f18",
      "text": "　 これで多分fetchできる",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705316415,
      "updated": 1705316419
    },
    {
      "id": "65a5102879e1130000133ef0",
      "text": "　 code: js",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705316393,
      "updated": 1705316407
    },
    {
      "id": "65a5103279e1130000133ef1",
      "text": "　  async function fetchPaperDetails(paperTitle) {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705316402,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f44",
      "text": "       const apiKey = 'YOUR_API_KEY'; // Replace with your Semantic Scholar API key, if required",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f45",
      "text": "       const searchUrl = `https://api.semanticscholar.org/graph/v1/paper/search?query=${encodeURIComponent(paperTitle)}`;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f46",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f47",
      "text": "       try {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f48",
      "text": "           // Search for the paper by title",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f49",
      "text": "           let searchResponse = await fetch(searchUrl);",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4a",
      "text": "           let searchData = await searchResponse.json();",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4b",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4c",
      "text": "           // Check if any papers were found",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4d",
      "text": "           if (searchData && searchData.data && searchData.data.length > 0) {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4e",
      "text": "               // Assume the first result is the desired paper",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f4f",
      "text": "               let paperId = searchData.data[0].paperId;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f50",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f51",
      "text": "               // Fetch detailed information about the paper",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f52",
      "text": "               const detailsUrl = `https://api.semanticscholar.org/graph/v1/paper/${paperId}?fields=url,year,authors,externalIds`;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f53",
      "text": "               let detailsResponse = await fetch(detailsUrl);",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f54",
      "text": "               let detailsData = await detailsResponse.json();",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f55",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f56",
      "text": "               if (detailsData) {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f57",
      "text": "                   // Extract required details",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f58",
      "text": "                   let title = detailsData.title;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f59",
      "text": "                   let doiUrl = detailsData.url;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5a",
      "text": "                   let authors = detailsData.authors.map(author => author.name).join(', ');",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5b",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5c",
      "text": "                   return { title, doiUrl, authors };",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5d",
      "text": "               } else {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5e",
      "text": "                   throw new Error('Paper details not found');",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f5f",
      "text": "               }",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f60",
      "text": "           } else {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f61",
      "text": "               throw new Error('No papers found with the given title');",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f62",
      "text": "           }",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f63",
      "text": "       } catch (error) {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f64",
      "text": "           console.error('Error fetching paper details:', error);",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f65",
      "text": "           throw error;",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f66",
      "text": "       }",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f67",
      "text": "   }",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f68",
      "text": "   ",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f69",
      "text": "   // Usage example",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f6a",
      "text": "   fetchPaperDetails('Example Paper Title')",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f6b",
      "text": "       .then(details => console.log(details))",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a512d379e1130000133f6c",
      "text": "       .catch(error => console.error(error));",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317075,
      "updated": 1705317075
    },
    {
      "id": "65a513dd79e1130000133f6e",
      "text": "  あ、書いてから気づいたけどUserScriptから外部API叩けないんだった[blu3mo.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317342,
      "updated": 1705317359
    },
    {
      "id": "65a513ea79e1130000133f70",
      "text": "  　忘れてた〜〜",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317355,
      "updated": 1705317357
    },
    {
      "id": "65a5153879e1130000f1e7e3",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317689,
      "updated": 1705317689
    },
    {
      "id": "65a5153879e1130000f1e7e4",
      "text": "　[/UIPedia/ACM Digital Libraryから情報取得してUIPediaページを作成するブックマークレット]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317689,
      "updated": 1705317689
    },
    {
      "id": "65a5153979e1130000f1e7e5",
      "text": "　　これが[bookmarklet]で目的を達成をしていた",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317690,
      "updated": 1705317707
    },
    {
      "id": "65a513de79e1130000133f6f",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1705317343,
      "updated": 1705317343
    }
  ]
}