{
  "id": "66a99383b07c64001c7b22e4",
  "title": "scrapbox-bundlerの大幅アップデート紹介",
  "created": 1722389382,
  "updated": 1722406730,
  "lines": [
    {
      "id": "66a99383b07c64001c7b22e4",
      "text": "scrapbox-bundlerの大幅アップデート紹介",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722404478
    },
    {
      "id": "66a9938471b3c20000f45b94",
      "text": "from [2024/07/31]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1722389382,
      "updated": 1722389382
    },
    {
      "id": "66a993a971b3c20000f45bd0",
      "text": "気づいている人もいるかもですが、1ヶ月前くらいから[scrapbox-bundler]に大幅な機能追加・UI変更を加えています[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389418,
      "updated": 1722390572
    },
    {
      "id": "66a997e71280f00000fefaf0",
      "text": "まとまった形で紹介できる形になったので、アップデート内容を告知します",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390505,
      "updated": 1722390589
    },
    {
      "id": "66a99ad5c9ec6a0000edb5bc",
      "text": " [[大偉業.icon]][[tada.icon]][cak.icon][bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1722391258,
      "updated": 1722396566
    },
    {
      "id": "66a998121280f00000fefaf1",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390548,
      "updated": 1722390548
    },
    {
      "id": "66a998541280f00000fefaf4",
      "text": "changes",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390614,
      "updated": 1722390617
    },
    {
      "id": "66a998591280f00000fefaf5",
      "text": " TODO: 対応するPRへのリンクを乗せる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390618,
      "updated": 1722390627
    },
    {
      "id": "66a9938471b3c20000f45b97",
      "text": " (BREAKING) `run`を廃止、常に即座にbuildを走らせる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d67f1280f000008702a5",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/13",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406529,
      "updated": 1722406531
    },
    {
      "id": "66a9938471b3c20000f45b98",
      "text": " \tUIはつけないで確定か[bsahd.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6821280f000008702a6",
      "text": " \tです[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406532,
      "updated": 1722406533
    },
    {
      "id": "66a9d6841280f000008702a7",
      "text": " \t runしないときに表示するUIが無用の長物だったため、消しました",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406534,
      "updated": 1722406559
    },
    {
      "id": "66a9938471b3c20000f45b99",
      "text": " build終了後に、buildしたコードを各種操作ボタンを表示する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6781280f000008702a4",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/16",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406522,
      "updated": 1722406523
    },
    {
      "id": "66a9938471b3c20000f45b9a",
      "text": "  [https://gyazo.com/dfbea44c1ebb5b2188b331a45a020fb1]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45b9b",
      "text": "   [よさそう.icon]！[cak.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45b9c",
      "text": " dark theme対応",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45b9d",
      "text": " 複数のコードを同時にbuildする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6651280f000008702a3",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/19",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406503,
      "updated": 1722406504
    },
    {
      "id": "66a9938471b3c20000f45b9e",
      "text": "  [例 https://scrapbox-bundler.vercel.app?url=https://scrapbox.io/api/code/yosider-scripts/SharedUserScripts-PC/script.js&url=https://scrapbox.io/api/code/yosider-scripts/for-villagepump/script.js&url=https://scrapbox.io/api/code/yosider-scripts/settings/style.css&url=https://scrapbox.io/api/code/yosider-scripts/SharedUserCSS/style.css&bundle&minify]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45b9f",
      "text": "  [https://gyazo.com/836756ca538be56c66cda6ba1eb095c9]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba0",
      "text": " 複数のコードを一つのscrapbox pageに埋め込んだ[scrapbox json data]を作る",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba1",
      "text": "  これにより、複数のprojectで使うUserScriptとUserCSSを埋め込んだページを、1回のbuildで作成してimportできる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba2",
      "text": "  　今までは、UserScriptやUserCSSを一つづつJSONにして、一つづつimportしなければならなかった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba3",
      "text": "  コード生成一回、import作業1回で全てのUserScript/UserCSSを更新できるようになった[takker.icon*2]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba4",
      "text": "  UI codeとworker codeの２つが必要なUserScriptを導入しやすくなったのも嬉しい",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba5",
      "text": "   ２つのコードを埋め込んだページを一発で作れる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba6",
      "text": "  使い方",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba7",
      "text": "  　`template`にページのテンプレートへのURLを入れる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba8",
      "text": "  　 テキストファイルで書く",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45ba9",
      "text": "  　`@`と`@`で`url`に渡したURLを入れると、それらがbuildしたコードで置き換わる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45baa",
      "text": "  　注意",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bab",
      "text": "  　 最初の`@`の前は空白のみ挿入可",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bac",
      "text": "  　 最後の`@`の後ろは行末でなければならない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bad",
      "text": "  　 `%252F`や`%2F`は`/`として書き入れること",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bae",
      "text": "  　  おそらく[decodeURIComponent()]の仕様",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45baf",
      "text": "  　以前使っていた`@CODE@`も引き続き使える",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb0",
      "text": "   　`url`に渡した最初のコードで置換される",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb1",
      "text": "  大変ほしかった待望の機能パート1[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb2",
      "text": " `external`に正規表現っぽい構文を入れられる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb3",
      "text": "  `external=https://i.gyazo.com/*`など",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb4",
      "text": "  構文は https://esbuild.github.io/api/#external を参照",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb5",
      "text": "  井戸端のsettingsをbuildする時に便利かも",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb6",
      "text": " 再読込したいURLだけreloadする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6421280f000008702a1",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/25",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406468,
      "updated": 1722406468
    },
    {
      "id": "66a9938471b3c20000f45bb7",
      "text": "  `reload`に[URLPattern]で使えるURLの正規表現をいれる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb8",
      "text": "   構文は https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API#pattern_syntax を参照",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bb9",
      "text": "    [path-to-regexp]とほぼ同じ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bba",
      "text": "  例えば`reload=*://scrapbox.io/*`とすれば、`scrapbox.io`以外のコードはキャッシュから読み込みようにできる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bbb",
      "text": "   URL先のリソースが更新されうるもののみ再読み込みし、それ以外はなるべくキャッシュから読み込むようにすることで、serverの負荷を減らしbuild時間を短縮できる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bbc",
      "text": "  大変ほしかった待望の機能パート2[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bbd",
      "text": " bundle解析用`metafile`を出力",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6541280f000008702a2",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/20",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406486,
      "updated": 1722406491
    },
    {
      "id": "66a9938471b3c20000f45bbe",
      "text": "  [Esbuild Bundle Size Analyzer]で、bundled code中の元のmoduleの割合をtree mapやpie chartで閲覧できる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bbf",
      "text": "  [https://gyazo.com/d2b180494a85bd1840256f9ae27e9c36]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc0",
      "text": "  [[https://gyazo.com/6078a6a0d5a0b585b2154c2ee1bcf3de]]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9cecd1280f00000b93dfb",
      "text": "  (脱線)このアプリ、ライブラリーを一切使わずに書いててすごい[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722404558,
      "updated": 1722404621
    },
    {
      "id": "66a9938471b3c20000f45bc1",
      "text": " `jsr:`と`npm:`importサポート",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6d61280f000008702a8",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/22",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406616,
      "updated": 1722406616
    },
    {
      "id": "66a9d71e1280f000008702aa",
      "text": "   https://github.com/takker99/ScrapJupyter/pull/54",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406688,
      "updated": 1722406689
    },
    {
      "id": "66a9938471b3c20000f45bc2",
      "text": "  `jsr:`は[jsr.io]のURLに変換する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc3",
      "text": "  `npm:`は[esm.sh]に変換する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc4",
      "text": "  どちらも[semver]をサポート",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc5",
      "text": "  　完全ではないが、なるべく同じver.にあわせるよう依存解決する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc6",
      "text": "  [takker.icon]のコードを[JSR]にpublishするうえで必要だった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc7",
      "text": " (BREAKING) `output`を廃止",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d6e31280f000008702a9",
      "text": "  https://github.com/takker99/scrapbox-bundler/pull/19",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406629,
      "updated": 1722406629
    },
    {
      "id": "66a9938471b3c20000f45bc8",
      "text": "  上述したボタンを代わりに使う",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9938471b3c20000f45bc9",
      "text": " [sourcemap]強化",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a9d72a1280f000008702ab",
      "text": "  https://github.com/takker99/ScrapJupyter/pull/53",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722406700,
      "updated": 1722406700
    },
    {
      "id": "66a9938471b3c20000f45bca",
      "text": "  bundleするコードのsourcemapを読み込む ([Multi-level SourceMap])",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390600
    },
    {
      "id": "66a998501280f00000fefaf2",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390610,
      "updated": 1722390610
    },
    {
      "id": "66a998511280f00000fefaf3",
      "text": "[** 雑談]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722390610,
      "updated": 1722404516
    },
    {
      "id": "66a9ce891280f00000b93dfa",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722404490,
      "updated": 1722404490
    },
    {
      "id": "66a9938471b3c20000f45bcb",
      "text": "これに合わせて名前をcosense-bundlerに変更してみては[bsahd.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390609
    },
    {
      "id": "66a9938471b3c20000f45bcc",
      "text": " domain nameが変わっちゃうので保留[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390609
    },
    {
      "id": "66a9938471b3c20000f45bcd",
      "text": " \t普通にesbuild-webでいい気がするけど[bsahd.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722390609
    },
    {
      "id": "66a9938471b3c20000f45bce",
      "text": "  scrapboxに最適化したoption(`template`)なども含んでいるので、あまり一般名にはしたくない[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1722389382,
      "updated": 1722406730
    },
    {
      "id": "66a9938471b3c20000f45bcf",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1722389382,
      "updated": 1722389382
    }
  ]
}