{
  "id": "66fcfb2a3d5c98001dd89855",
  "title": "Cosenseの静的モード",
  "created": 1727855404,
  "updated": 1727865997,
  "lines": [
    {
      "id": "66fcfb2a3d5c98001dd89855",
      "text": "Cosenseの静的モード",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855404,
      "updated": 1727855404
    },
    {
      "id": "66fcfb3a79d3a90000028153",
      "text": "\tproject内を爆速で表示できるようにする仕組み",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855419,
      "updated": 1727855437
    },
    {
      "id": "66fcfb4c79d3a90000028154",
      "text": "\t静的モードをオンにすると、readonlyになり、その時点のproject内容が全部クライアント側でロードされる",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855437,
      "updated": 1727855559
    },
    {
      "id": "66fcfb6379d3a90000028155",
      "text": "\t\t一瞬で表示するためのお膳立てをクライアント側で行うイメージ",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855459,
      "updated": 1727855468
    },
    {
      "id": "66fcfc5179d3a9000002815f",
      "text": "\t\t\t（そんなお膳立てが技術的にできるのか、また今のCosenseの仕様上できるかはわからん）",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855697,
      "updated": 1727855714
    },
    {
      "id": "66fcfeaf1280f000002cbab1",
      "text": "\t\tかんたん[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856305,
      "updated": 1727856307
    },
    {
      "id": "66fd008f1280f000002cbad0",
      "text": "\t\t [api/pages/:projectname/:pagetitle]を全ページ分叩いて、[IndexedDB]などに保存すればいいだけ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856785,
      "updated": 1727856805
    },
    {
      "id": "66fcfb7479d3a90000028156",
      "text": "\t通信は発生しない",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855477,
      "updated": 1727855480
    },
    {
      "id": "66fcfbc879d3a90000028159",
      "text": "\t（画像どうするかはわからん）",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855560,
      "updated": 1727855568
    },
    {
      "id": "66fd00a61280f000002cbad1",
      "text": "\t [cache API]を使う[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856809,
      "updated": 1727856877
    },
    {
      "id": "66fd00d61280f000002cbad3",
      "text": "\t  [ScrapboxのOffline mode]はこれを使って画像を表示している",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856855,
      "updated": 1727856885
    },
    {
      "id": "66fd00c41280f000002cbad2",
      "text": "\t　すべての画像をもれなくcacheするには、少々回りくどい方法を使うことになる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856837,
      "updated": 1727856897
    },
    {
      "id": "66fcfb7879d3a90000028157",
      "text": "",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855480,
      "updated": 1727855481
    },
    {
      "id": "66fcfb7879d3a90000028158",
      "text": ">リンククリックの画面遷移を滅茶苦茶高速にすれば不要な気がしています [/forum-jp/他のページを埋め込みたい#5b25030297c291000039b6d8]",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855481,
      "updated": 1727855507
    },
    {
      "id": "66fcfb3779d3a90000028152",
      "text": "これをやれる案として思いついたのですが、どうでしょう[sta.icon]",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855416,
      "updated": 1727855540
    },
    {
      "id": "66fcfb2c79d3a90000028150",
      "text": "\tいきなりforum-jpはハズいので、まずは井戸端で感触を見る",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855405,
      "updated": 1727855636
    },
    {
      "id": "66fcfc0979d3a9000002815a",
      "text": "すでに[\" リンククリックの画面遷移を滅茶苦茶高速]にされています認識だと思います[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727855626,
      "updated": 1727856437
    },
    {
      "id": "66fcfeca1280f000002cbab2",
      "text": " [/shokai/ServiceWorkerをproductionで使ってる話#5b7e79b597c2910000f50300]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856331,
      "updated": 1727856437
    },
    {
      "id": "66fcfef21280f000002cbab3",
      "text": " リンクをホバーしたときfetchして、クリック時にcacheから読み込んでいる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856372,
      "updated": 1727856437
    },
    {
      "id": "66fd239573e52200007ba85b",
      "text": " \tもういっそ2hop先までのリンク全部fetchさせて(狂)[綾坂こと.icon]",
      "userId": "62919f6444e78d001d73e522",
      "created": 1727865750,
      "updated": 1727865981
    },
    {
      "id": "66fd23fe73e52200007ba85e",
      "text": " \t\t「先行読み込み」設定を追加して、「しない」「リンクホバー」「[1 hop link]」「1･[2 hop link]」の4択で……",
      "userId": "62919f6444e78d001d73e522",
      "created": 1727865855,
      "updated": 1727865971
    },
    {
      "id": "66fd247f73e52200007ba85f",
      "text": " \t\tネット回線を富豪のように使うことになるのでトレードオフ",
      "userId": "62919f6444e78d001d73e522",
      "created": 1727865983,
      "updated": 1727865997
    },
    {
      "id": "66fcff311280f000002cbab5",
      "text": "ただ、project全体を丸ごとlocalに入れてしまえば、リンクホバー時のfetchが要らなくなるので、さらに早くなると思います",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856435,
      "updated": 1727856482
    },
    {
      "id": "66fcff161280f000002cbab4",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856407,
      "updated": 1727856419
    },
    {
      "id": "66fcfc2879d3a9000002815c",
      "text": "（できるかどうかはわからないが）ローカルでテキストファイル開くくらいの速さが欲しい[sta.icon]",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727855656,
      "updated": 1727856487
    },
    {
      "id": "66fcff6879d3a900003942de",
      "text": "\t0.x秒の世界",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727856489,
      "updated": 1727856498
    },
    {
      "id": "66fcff5b79d3a900003942dd",
      "text": "",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1727856475,
      "updated": 1727856475
    },
    {
      "id": "66fcffa71280f000002cbab7",
      "text": "実装",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856552,
      "updated": 1727856560
    },
    {
      "id": "66fcffae1280f000002cbaba",
      "text": "　localにデータを置く方法は、[IndexedDB]か[Cache API]のどちらかが妥当",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856560,
      "updated": 1727856593
    },
    {
      "id": "66fcffd01280f000002cbabb",
      "text": " 　scrapboxは[cache api]を使っている",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856593,
      "updated": 1727856604
    },
    {
      "id": "66fcffda1280f000002cbabd",
      "text": "  [Cache API]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856604,
      "updated": 1727856685
    },
    {
      "id": "66fcffdd1280f000002cbabe",
      "text": "  　ブラウザのキャッシュ機能をJSから使えるようにするAPI",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856607,
      "updated": 1727856685
    },
    {
      "id": "66fcffec1280f000002cbabf",
      "text": "  　[Request]と[Response]のペアで保存される",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856622,
      "updated": 1727856685
    },
    {
      "id": "66fcfff81280f000002cbac0",
      "text": "  　[firefox]ではなぜか遅いことがある",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856634,
      "updated": 1727856685
    },
    {
      "id": "66fd00001280f000002cbac3",
      "text": "  [IndexedDB]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856642,
      "updated": 1727856685
    },
    {
      "id": "66fd00041280f000002cbac4",
      "text": "   ブラウザで使えるDB",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856646,
      "updated": 1727856685
    },
    {
      "id": "66fd00281280f000002cbac7",
      "text": "   十分早い",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856682,
      "updated": 1727856685
    },
    {
      "id": "66fd00121280f000002cbac5",
      "text": "   端末の容量にもよるが、数GB保存することもできる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856660,
      "updated": 1727856685
    },
    {
      "id": "66fd00381280f000002cbac9",
      "text": " rendering速度を早める",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856697,
      "updated": 1727856728
    },
    {
      "id": "66fd00571280f000002cbacc",
      "text": "  scrapboxだと難しそう",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856728,
      "updated": 1727856741
    },
    {
      "id": "66fd00631280f000002cbacd",
      "text": "  [1文字ごとに<span>で囲む]方法をとっているため、どうしても描画に時間がかかる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856741,
      "updated": 1727856755
    },
    {
      "id": "66fd00731280f000002cbace",
      "text": "   spanがbottle neckだと思っているけど、計測したわけではない[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856756,
      "updated": 1727856769
    },
    {
      "id": "66fd00801280f000002cbacf",
      "text": "   他にbottle neckがあるかも",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856769,
      "updated": 1727856776
    },
    {
      "id": "66fcffa81280f000002cbab8",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1727856554,
      "updated": 1727856554
    }
  ]
}