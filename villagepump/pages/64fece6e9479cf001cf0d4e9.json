{
  "id": "64fece6e9479cf001cf0d4e9",
  "title": "タスクリンクV2の実装",
  "created": 1694420591,
  "updated": 1694492199,
  "lines": [
    {
      "id": "64fece6e9479cf001cf0d4e9",
      "text": "タスクリンクV2の実装",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece6d1280f000000df77c",
      "text": "タスクリンクV2の実装",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece7f1280f000000df78b",
      "text": " コードを[howmとタスクリンクの相性よさそう]からこっちに移した",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420608,
      "updated": 1694420942
    },
    {
      "id": "64fece701280f000000df786",
      "text": " 名前は暫定",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420593,
      "updated": 1694420598
    },
    {
      "id": "64fece701280f000000df787",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420593,
      "updated": 1694420593
    },
    {
      "id": "64fece6d1280f000000df77d",
      "text": "実装",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece6d1280f000000df77e",
      "text": " [タスクリンクのパーサー https://github.com/takker99/takker-scheduler/blob/0.8.3/workflow/parse.ts]に、[howmのリマインダの記号]を読む機能をつける",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fecf211280f000000df880",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420770,
      "updated": 1694420770
    },
    {
      "id": "64fecf211280f000000df881",
      "text": "書式",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420770,
      "updated": 1694420773
    },
    {
      "id": "64fecfbc1280f000000df883",
      "text": " [howmとタスクリンクの相性よさそう]を参照",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420925,
      "updated": 1694420935
    },
    {
      "id": "64fece6d1280f000000df782",
      "text": " 変更点",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece6d1280f000000df783",
      "text": "  締め切り記法`~`を廃止。代わりに`!`を使う",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece6d1280f000000df784",
      "text": "  [programmable task]を廃止。代わりに繰り返し記号を使う",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fed6cb1280f000000df884",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422732,
      "updated": 1694422732
    },
    {
      "id": "64fed6cb1280f000000df885",
      "text": "取り出す情報",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422732,
      "updated": 1694422736
    },
    {
      "id": "64fed6cf1280f000000df886",
      "text": "　[タスクの状態を表す絵文字]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422736,
      "updated": 1694422740
    },
    {
      "id": "64fed6d21280f000000df887",
      "text": "　タスク名",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422740,
      "updated": 1694422743
    },
    {
      "id": "64fed6d61280f000000df888",
      "text": "　開始日時",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422743,
      "updated": 1694422748
    },
    {
      "id": "64fed6db1280f000000df889",
      "text": "　 日付 or 日時",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422749,
      "updated": 1694422755
    },
    {
      "id": "64fed74c1280f000000df891",
      "text": "　 Date objectで返す",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422862,
      "updated": 1694422871
    },
    {
      "id": "64fed7561280f000000df892",
      "text": "　 曜日指定などの計算も考慮する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422871,
      "updated": 1694422880
    },
    {
      "id": "64fed6e11280f000000df88a",
      "text": "　[howmのリマインダの記号]の種類&数値",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422755,
      "updated": 1694422767
    },
    {
      "id": "64fed6ee1280f000000df88b",
      "text": "　 指定がないときは`undefined`を返す",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422767,
      "updated": 1694422779
    },
    {
      "id": "64fed6f91280f000000df88c",
      "text": "　 　default値はparserで決めることではないので省く",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422779,
      "updated": 1694422802
    },
    {
      "id": "64fed7101280f000000df88e",
      "text": "　(optional)終了日時",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694422802,
      "updated": 1694422825
    },
    {
      "id": "64fece6d1280f000000df785",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420591,
      "updated": 1694420591
    },
    {
      "id": "64fece771280f000000df788",
      "text": "code:parse.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420600,
      "updated": 1694420603
    },
    {
      "id": "64fece981280f000000df78d",
      "text": " export type Status = \"schedule\" | \"todo\" | \"deadline\" | \"done\" | \"note\" | \"up-down\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694476802
    },
    {
      "id": "64fece981280f000000df78e",
      "text": " export const isStatus = (status: string): status is Status =>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476678,
      "updated": 1694476678
    },
    {
      "id": "64fece981280f000000df78f",
      "text": "   [\"schedule\", \"todo\", \"deadline\", \"done\", \"note\", \"up-down\"].includes(status);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476678,
      "updated": 1694476837
    },
    {
      "id": "64fece981280f000000df790",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476678,
      "updated": 1694476678
    },
    {
      "id": "64ffb3051280f00000cfbf13",
      "text": " export interface Repeat {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479110,
      "updated": 1694479117
    },
    {
      "id": "64ffb30c1280f00000cfbf15",
      "text": "   frequency: \"year\" | \"month\" | \"week\" | \"date\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479117,
      "updated": 1694479169
    },
    {
      "id": "64ffb3431280f00000cfbf17",
      "text": "   count: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479171,
      "updated": 1694479184
    },
    {
      "id": "64ffb5c31280f00000cfbf20",
      "text": "   shift: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479812,
      "updated": 1694479816
    },
    {
      "id": "64ffb30d1280f00000cfbf16",
      "text": " }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479118,
      "updated": 1694479118
    },
    {
      "id": "64ffb39c1280f00000cfbf1a",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479261,
      "updated": 1694479261
    },
    {
      "id": "64ffb5f61280f00000cfbf21",
      "text": " /** 曜日指定情報を加えたDate */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479863,
      "updated": 1694479872
    },
    {
      "id": "64ffb39c1280f00000cfbf1b",
      "text": " export interface ExDate {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479261,
      "updated": 1694479266
    },
    {
      "id": "64ffb3a21280f00000cfbf1c",
      "text": "   base: Date;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479266,
      "updated": 1694479366
    },
    {
      "id": "64ffb3ac1280f00000cfbf1e",
      "text": "   startOfDay: 0 | 1 | 2 | 3 | 4 | 5 | 6;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479276,
      "updated": 1694479365
    },
    {
      "id": "64ffb3e71280f00000cfbf1f",
      "text": "   weekNum: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479335,
      "updated": 1694479341
    },
    {
      "id": "64ffb3a31280f00000cfbf1d",
      "text": " }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479268,
      "updated": 1694479268
    },
    {
      "id": "64ffb3061280f00000cfbf14",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479110,
      "updated": 1694479110
    },
    {
      "id": "64fece981280f000000df791",
      "text": " export interface Task {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df792",
      "text": "   /** task name */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df793",
      "text": "   name: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fecf301280f000000df882",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420786,
      "updated": 1694420786
    },
    {
      "id": "64fece981280f000000df794",
      "text": "   /** howm記号 */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694476849
    },
    {
      "id": "64fece981280f000000df795",
      "text": "   status: Status;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64ffb2b61280f00000cfbf10",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479030,
      "updated": 1694479030
    },
    {
      "id": "64ffb2c71280f00000cfbf12",
      "text": "   /** hown記号のオプション */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479047,
      "updated": 1694479055
    },
    {
      "id": "64ffb2b61280f00000cfbf11",
      "text": "   speed?: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479030,
      "updated": 1694479046
    },
    {
      "id": "64ffb35e1280f00000cfbf18",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479199,
      "updated": 1694479199
    },
    {
      "id": "64ffb35e1280f00000cfbf19",
      "text": "   repeat?: Repeat;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694479199,
      "updated": 1694479215
    },
    {
      "id": "64ffaa371280f00000cfbeba",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476855,
      "updated": 1694476855
    },
    {
      "id": "64ffaa411280f00000cfbebc",
      "text": "   /** 開始日時 */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476865,
      "updated": 1694476870
    },
    {
      "id": "64ffaa371280f00000cfbebb",
      "text": "   start: ExDate;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476855,
      "updated": 1694479707
    },
    {
      "id": "64ffab301280f00000cfbec0",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477105,
      "updated": 1694477105
    },
    {
      "id": "64ffab351280f00000cfbec2",
      "text": "   /** 終了日時 */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477109,
      "updated": 1694477153
    },
    {
      "id": "64ffab301280f00000cfbec1",
      "text": "   end?: ExDate;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477105,
      "updated": 1694479710
    },
    {
      "id": "64ffab441280f00000cfbecc",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477124,
      "updated": 1694477124
    },
    {
      "id": "64ffab3e1280f00000cfbec9",
      "text": "   /** 所要時間 (単位はmin) **/",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477118,
      "updated": 1694477122
    },
    {
      "id": "64ffab3e1280f00000cfbeca",
      "text": "   duration?: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477118,
      "updated": 1694477118
    },
    {
      "id": "64ffaa4b1280f00000cfbebd",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476875,
      "updated": 1694476875
    },
    {
      "id": "64ffaa7e1280f00000cfbebf",
      "text": "   /** `true`なら`start`と`end`のhours以下を無視する */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476927,
      "updated": 1694477101
    },
    {
      "id": "64ffaa4b1280f00000cfbebe",
      "text": "   isAllDay: boolean;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476875,
      "updated": 1694476926
    },
    {
      "id": "64ffaa2b1280f00000cfbeb9",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694476844,
      "updated": 1694476844
    },
    {
      "id": "64fece981280f000000df7b5",
      "text": "   /** 解析前の文字列 */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7b6",
      "text": "   raw: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7b7",
      "text": " }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7b8",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64ffaf1a1280f00000cfbedb",
      "text": " const detectEnd = (text: string, start: Date): [string] | [string, Date] => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478106,
      "updated": 1694492154
    },
    {
      "id": "64ffaf411280f00000cfbedd",
      "text": "   if (!text.includes(\"/\")) return text;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478145,
      "updated": 1694492175
    },
    {
      "id": "64ffe6161280f00000cfbf23",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694492183,
      "updated": 1694492183
    },
    {
      "id": "64ffafbc1280f00000cfbeec",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478269,
      "updated": 1694478269
    },
    {
      "id": "64ffafbe1280f00000cfbeed",
      "text": "     const end = text.match(/\\/\\d{4}-\\d{2}-\\d{2}(?:T\\d{2}:\\d{2})/);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478270,
      "updated": 1694492192
    },
    {
      "id": "64ffafcf1280f00000cfbeee",
      "text": "     if(end) return [params.slice(end), new Date(end));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478288,
      "updated": 1694478681
    },
    {
      "id": "64ffafed1280f00000cfbeef",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478318,
      "updated": 1694478318
    },
    {
      "id": "64ffaff71280f00000cfbef1",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478327,
      "updated": 1694478327
    },
    {
      "id": "64ffaff71280f00000cfbef2",
      "text": "     const end = params.match(/\\/\\d{2}-\\d{2}(?:T\\d{2}:\\d{2})/)?.[0];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478327,
      "updated": 1694492194
    },
    {
      "id": "64ffaff71280f00000cfbef3",
      "text": "     if(end) return [params.slice(end), new Date(`${start.getFullYear()}-${end}`)];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478327,
      "updated": 1694478695
    },
    {
      "id": "64ffaff71280f00000cfbef4",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478327,
      "updated": 1694478327
    },
    {
      "id": "64ffb0271280f00000cfbef5",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478376,
      "updated": 1694478376
    },
    {
      "id": "64ffb0271280f00000cfbef6",
      "text": "     const end = params.match(/\\/\\d{2}(?:T\\d{2}:\\d{2})/)?.[0];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478376,
      "updated": 1694492196
    },
    {
      "id": "64ffb0271280f00000cfbef7",
      "text": "     if(end) return [params.slice(end), new Date(`${start.getFullYear()}-${zero(start.getMonth() + 1)}-${end}`)];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478376,
      "updated": 1694478696
    },
    {
      "id": "64ffb0271280f00000cfbef8",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478376,
      "updated": 1694478418
    },
    {
      "id": "64ffb0651280f00000cfbef9",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478437,
      "updated": 1694478437
    },
    {
      "id": "64ffb0651280f00000cfbefa",
      "text": "     const end = params.match(/\\/\\d{2}:\\d{2}/)?.[0];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478437,
      "updated": 1694492199
    },
    {
      "id": "64ffb09d1280f00000cfbf01",
      "text": "     if(end) return [params.slice(end), new Date(`${start.getFullYear()}-${zero(start.getMonth() + 1)}-${}T${end}`)];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478494,
      "updated": 1694478698
    },
    {
      "id": "64ffb0651280f00000cfbefc",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478437,
      "updated": 1694478437
    },
    {
      "id": "64ffb0ac1280f00000cfbf02",
      "text": "   return [fragment];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478509,
      "updated": 1694478703
    },
    {
      "id": "64ffaf301280f00000cfbedc",
      "text": " };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478128,
      "updated": 1694478513
    },
    {
      "id": "64ffaf191280f00000cfbeda",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478106,
      "updated": 1694478106
    },
    {
      "id": "64fece981280f000000df7b9",
      "text": " /** Taskを解析する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ba",
      "text": "  *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7bb",
      "text": "  * @param text Taskの文字列",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7bc",
      "text": "  * @param [today] 現在時刻 debug用に外部から指定できるようにしてある",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7bd",
      "text": "  */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7be",
      "text": " export const parse = (text: string, today?: Date): Task | undefined => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7bf",
      "text": "   const matched = text.match(/@(\\d{4}-\\d{2}-\\d{2}(?:T\\d{2}:\\d{2})?)(?:\\((\\+|-)?(\\d+)\\*(Sun|Mon|Tue|Wed|Thu|Fri|Sat)(?:(\\+|-)(\\d+))?\\))?/i);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694479800
    },
    {
      "id": "64fece981280f000000df7c0",
      "text": "   if (!matched) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694477891
    },
    {
      "id": "64ffac101280f00000cfbed3",
      "text": "   /** 開始日時 */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477328,
      "updated": 1694477332
    },
    {
      "id": "64ffab991280f00000cfbed0",
      "text": "   const start = new Date(matched[1]);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477209,
      "updated": 1694477895
    },
    {
      "id": "64ffac1b1280f00000cfbed4",
      "text": "   /** `true`なら`start`と`end`のhours以下を無視する */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477339,
      "updated": 1694477340
    },
    {
      "id": "64ffabee1280f00000cfbed1",
      "text": "   const isAllDay = s.includes(\":\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477294,
      "updated": 1694477324
    },
    {
      "id": "64ffac2c1280f00000cfbed5",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477356,
      "updated": 1694477356
    },
    {
      "id": "64ffae161280f00000cfbed6",
      "text": "   let splitted = text.slice(matched.index + matched[0].length);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477846,
      "updated": 1694478710
    },
    {
      "id": "64ffb1b01280f00000cfbf09",
      "text": "   let end = undefined;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478769,
      "updated": 1694478773
    },
    {
      "id": "64ffaec01280f00000cfbed8",
      "text": "   const regExp = /^D(\\d+)/i;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478016,
      "updated": 1694478042
    },
    {
      "id": "64ffaedc1280f00000cfbed9",
      "text": "   const regExp = /^\\/\\d{2}:\\d{2}/i;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478044,
      "updated": 1694478074
    },
    {
      "id": "64fece981280f000000df7c8",
      "text": "   while (splitted !== \"\" || !(end || duration) || !status) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694479002
    },
    {
      "id": "64ffb1f31280f00000cfbf0f",
      "text": "     if (!end) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478835,
      "updated": 1694478843
    },
    {
      "id": "64ffb0c71280f00000cfbf03",
      "text": "      const result = detectEnd(splitted, start);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478535,
      "updated": 1694478867
    },
    {
      "id": "64ffb1de1280f00000cfbf0b",
      "text": "     splitted = result[0];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478814,
      "updated": 1694478874
    },
    {
      "id": "64ffb1d91280f00000cfbf0a",
      "text": "     if (result[1]) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478809,
      "updated": 1694478884
    },
    {
      "id": "64ffb1e71280f00000cfbf0c",
      "text": "       end = result[1];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478825,
      "updated": 1694478889
    },
    {
      "id": "64ffb1e91280f00000cfbf0d",
      "text": "       continue;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478825,
      "updated": 1694478828
    },
    {
      "id": "64ffb1ec1280f00000cfbf0e",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478828,
      "updated": 1694478828
    },
    {
      "id": "64ffb1921280f00000cfbf07",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694478739,
      "updated": 1694478777
    },
    {
      "id": "64ffaea91280f00000cfbed7",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694477993,
      "updated": 1694477993
    },
    {
      "id": "64fece981280f000000df7c9",
      "text": "   // タスク名を取り出す",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ca",
      "text": "   const name = [...text.replace(/^[\\uFE00-\\uFE0F]*/, \"\")].slice(1).join(\"\")",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7cb",
      "text": "     .replace(dueData?.raw ?? \"\", \"\")",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7cc",
      "text": "     .replace(startAtMatches?.[0] ?? \"\", \"\")",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7cd",
      "text": "     .trim();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ce",
      "text": "   if (!startAtMatches) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7cf",
      "text": "     if (!due) return { name, status, raw: text };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d0",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d1",
      "text": "     // startAtがないときは、dueから仮の値を計算する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d2",
      "text": "     const startAt_ = subWeeks(due, 2);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d3",
      "text": "     today ??= new Date();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d4",
      "text": "     const startAt = startAt_.getTime() > today.getTime() ? startAt_ : today;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d5",
      "text": "     return {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d6",
      "text": "       name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d7",
      "text": "       status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d8",
      "text": "       due,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7d9",
      "text": "       startAt: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7da",
      "text": "         type: \"date\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7db",
      "text": "         year: startAt.getFullYear(),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7dc",
      "text": "         month: startAt.getMonth(),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7dd",
      "text": "         date: startAt.getDate(),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7de",
      "text": "       },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7df",
      "text": "       raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e0",
      "text": "     };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e1",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e2",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e3",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e4",
      "text": "     const matches = startAtMatches[1].match(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e5",
      "text": "       /(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2})(?:(\\/)(\\d{2}):(\\d{2})|(D)(\\d+))?/,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e6",
      "text": "     );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e7",
      "text": "     if (matches) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e8",
      "text": "       const [, year, month, date, hours, minutes, slash, h, m, d, duration] =",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7e9",
      "text": "         matches;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ea",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7eb",
      "text": "       const startAt = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ec",
      "text": "         type: \"date\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ed",
      "text": "         year: parseInt(year),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ee",
      "text": "         month: parseInt(month) - 1,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ef",
      "text": "         date: parseInt(date),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f0",
      "text": "         hours: parseInt(hours),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f1",
      "text": "         minutes: parseInt(minutes),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f2",
      "text": "       } as const;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f3",
      "text": "       const task: Task = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f4",
      "text": "         name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f5",
      "text": "         status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f6",
      "text": "         startAt,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f7",
      "text": "         ...(due ? { due } : {}),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f8",
      "text": "         raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7f9",
      "text": "       };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7fa",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7fb",
      "text": "       // 見積もり時間を計算する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7fc",
      "text": "       if (slash || d) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7fd",
      "text": "         if (slash) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7fe",
      "text": "           const start = new Date(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df7ff",
      "text": "             startAt.year,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df800",
      "text": "             startAt.month,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df801",
      "text": "             startAt.date,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df802",
      "text": "             startAt.hours,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df803",
      "text": "             startAt.minutes,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df804",
      "text": "           );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df805",
      "text": "           const end = new Date(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df806",
      "text": "             startAt.year,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df807",
      "text": "             startAt.month,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df808",
      "text": "             startAt.date,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df809",
      "text": "             parseInt(h),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80a",
      "text": "             parseInt(m),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80b",
      "text": "           );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80c",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80d",
      "text": "           task.duration = Math.max(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80e",
      "text": "             0,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df80f",
      "text": "             end.getTime() >= start.getTime()",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df810",
      "text": "               ? Math.round((end.getTime() - start.getTime()) / 60000)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df811",
      "text": "               // 終了時刻が開始時刻より早い場合は、日をまたいでいると判断する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df812",
      "text": "               : Math.round((end.getTime() - start.getTime()) / 60000 + 1440),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df813",
      "text": "           );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df814",
      "text": "         } else {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df815",
      "text": "           task.duration = parseInt(duration);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df816",
      "text": "         }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df817",
      "text": "       }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df818",
      "text": "       return task;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df819",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81a",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81b",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81c",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81d",
      "text": "     const matches = startAtMatches[1].match(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81e",
      "text": "       /(\\d{4})-(\\d{2})-(\\d{2})(?:D(\\d+))?/,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df81f",
      "text": "     );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df820",
      "text": "     if (matches) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df821",
      "text": "       const [, year, month, date, duration] = matches;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df822",
      "text": "       const task: Task = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df823",
      "text": "         name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df824",
      "text": "         status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df825",
      "text": "         ...(due ? { due } : {}),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df826",
      "text": "         startAt: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df827",
      "text": "           type: \"date\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df828",
      "text": "           year: parseInt(year),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df829",
      "text": "           month: parseInt(month) - 1,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82a",
      "text": "           date: parseInt(date),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82b",
      "text": "         },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82c",
      "text": "         raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82d",
      "text": "       };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82e",
      "text": "       if (duration) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df82f",
      "text": "         task.duration = parseInt(duration);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df830",
      "text": "       }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df831",
      "text": "       return task;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df832",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df833",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df834",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df835",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df836",
      "text": "     const matches = startAtMatches[1].match(/(\\d{4})-w(\\d{2})(?:D(\\d+))?/);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df837",
      "text": "     if (matches) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df838",
      "text": "       const [, year, week, duration] = matches;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df839",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83a",
      "text": "       const task: Task = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83b",
      "text": "         name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83c",
      "text": "         status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83d",
      "text": "         ...(due ? { due } : {}),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83e",
      "text": "         startAt: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df83f",
      "text": "           type: \"week\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df840",
      "text": "           year: parseInt(year),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df841",
      "text": "           week: parseInt(week),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df842",
      "text": "         },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df843",
      "text": "         raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df844",
      "text": "       };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df845",
      "text": "       if (duration) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df846",
      "text": "         task.duration = parseInt(duration);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df847",
      "text": "       }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df848",
      "text": "       return task;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df849",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84a",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84b",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84c",
      "text": "   {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84d",
      "text": "     const matches = startAtMatches[1].match(/(\\d{4})-(\\d{2})(?:D(\\d+))?/);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84e",
      "text": "     if (matches) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df84f",
      "text": "       const [, year, month, duration] = matches;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df850",
      "text": "       const task: Task = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df851",
      "text": "         name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df852",
      "text": "         status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df853",
      "text": "         ...(due ? { due } : {}),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df854",
      "text": "         startAt: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df855",
      "text": "           type: \"month\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df856",
      "text": "           year: parseInt(year),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df857",
      "text": "           month: parseInt(month) - 1,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df858",
      "text": "         },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df859",
      "text": "         raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85a",
      "text": "       };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85b",
      "text": "       if (duration) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85c",
      "text": "         task.duration = parseInt(duration);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85d",
      "text": "       }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85e",
      "text": "       return task;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df85f",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df860",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df861",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df862",
      "text": "   const matches = startAtMatches[1].match(/(\\d{4})(?:D(\\d+))?/);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df863",
      "text": "   if (!matches) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df864",
      "text": "   const [, year, duration] = matches;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df865",
      "text": "   const task: Task = {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df866",
      "text": "     name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df867",
      "text": "     status,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df868",
      "text": "     ...(due ? { due } : {}),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df869",
      "text": "     startAt: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86a",
      "text": "       type: \"year\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86b",
      "text": "       year: parseInt(year),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86c",
      "text": "     },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86d",
      "text": "     raw: text,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86e",
      "text": "   };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df86f",
      "text": "   if (duration) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df870",
      "text": "     task.duration = parseInt(duration);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df871",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df872",
      "text": "   return task;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df873",
      "text": " };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df874",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df875",
      "text": " const detectDue = (text: string): { due: Date; raw: string } | undefined => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df876",
      "text": "   const dueMatches = text.match(/~(\\d{4})-(\\d{2})-(\\d{2})/);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df877",
      "text": "   if (!dueMatches) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df878",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df879",
      "text": "   const due = new Date(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87a",
      "text": "     parseInt(dueMatches[1]),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87b",
      "text": "     parseInt(dueMatches[2]) - 1,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87c",
      "text": "     parseInt(dueMatches[3]),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87d",
      "text": "   );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87e",
      "text": "   return { due, raw: dueMatches[0] };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece981280f000000df87f",
      "text": " };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420633,
      "updated": 1694420633
    },
    {
      "id": "64fece781280f000000df789",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1694420602,
      "updated": 1694420602
    }
  ]
}