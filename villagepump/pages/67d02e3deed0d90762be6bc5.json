{
  "id": "67d02e3deed0d90762be6bc5",
  "title": "libcosense",
  "created": 1741696583,
  "updated": 1742887558,
  "lines": [
    {
      "id": "67d02e3deed0d90762be6bc5",
      "text": "libcosense",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696583,
      "updated": 1742021591
    },
    {
      "id": "67d523e071b3c20000d3b2b1",
      "text": "https://jsr.io/@bsahd/libcosense",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742021601,
      "updated": 1742021601
    },
    {
      "id": "67d523e171b3c20000d3b2b2",
      "text": "https://github.com/bsahd/libcosense",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742021601,
      "updated": 1742021601
    },
    {
      "id": "67d523e171b3c20000d3b2b4",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742021601,
      "updated": 1742805185
    },
    {
      "id": "67e1187671b3c20000a938ab",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742805111,
      "updated": 1742805111
    },
    {
      "id": "67d02e4771b3c20000a25bac",
      "text": "目標",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696583,
      "updated": 1741747636
    },
    {
      "id": "67d0f4ec71b3c20000154860",
      "text": "\t100%クラス指向のcosense rest/[- websocket] wrapper",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747436,
      "updated": 1742822369
    },
    {
      "id": "67d0f58271b3c20000154865",
      "text": "\tブラウザ/deno/node/bunの全てで動作",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741747587,
      "updated": 1741948116
    },
    {
      "id": "67e15be171b3c20000367437",
      "text": "\t\t主に非ブラウザ向け",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822370,
      "updated": 1742822375
    },
    {
      "id": "67d0f5db71b3c20000154866",
      "text": "\t数々の便利機能",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747675,
      "updated": 1741747681
    },
    {
      "id": "67d0f5e071b3c20000154867",
      "text": "\t\t全ページ一覧の非同期イテレーターとか",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747681,
      "updated": 1741747700
    },
    {
      "id": "67e11f5b71b3c20000a938b8",
      "text": "\tセキュリティ重視",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742806876,
      "updated": 1742806884
    },
    {
      "id": "67e11f6371b3c20000a938b9",
      "text": "\t\t依存関係なし",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742806884,
      "updated": 1742822471
    },
    {
      "id": "67e155e871b3c20000429a80",
      "text": "\t[scrapbox-userscript-std]よく使われる関数を集めるというボトムアップ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742820840,
      "updated": 1742886303
    },
    {
      "id": "67e1560371b3c20000429a82",
      "text": "\t\tこっちはトップダウンで一貫した設計にする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742820868,
      "updated": 1742820876
    },
    {
      "id": "67e15e4b71b3c2000036743e",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822987,
      "updated": 1742822987
    },
    {
      "id": "67e2398a71b3c20000fae01b",
      "text": "今後",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742879115,
      "updated": 1742879693
    },
    {
      "id": "67e2398b71b3c20000fae01d",
      "text": "\tCosenseClientをsingletonにすべきだろうか",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742879116,
      "updated": 1742879124
    },
    {
      "id": "67e2398a71b3c20000fae01c",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742879115,
      "updated": 1742879115
    },
    {
      "id": "67e15e4b71b3c2000036743f",
      "text": "roadmap for 1.5",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822987,
      "updated": 1742822992
    },
    {
      "id": "67e15e4f71b3c20000367440",
      "text": "\t型安全性をどうにかする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822992,
      "updated": 1742823440
    },
    {
      "id": "67e1601071b3c2000036744d",
      "text": "\t非nullアサーションを消す",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823440,
      "updated": 1742823446
    },
    {
      "id": "67e15ec271b3c20000367442",
      "text": "\tfetchで帰ってきたオブジェクトをしっかりとバリデーションする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823106,
      "updated": 1742823549
    },
    {
      "id": "67e15edc71b3c20000367444",
      "text": "\t\tどれか1つが失敗すればすぐ例外行き",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823132,
      "updated": 1742823552
    },
    {
      "id": "67e15f5371b3c20000367446",
      "text": "\t\tオブジェクトはキーと型を定義して適当にバリデートさせる...?",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823252,
      "updated": 1742877832
    },
    {
      "id": "67e15fce71b3c20000367449",
      "text": "\t全APIのバリデーションを書く",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823375,
      "updated": 1742877835
    },
    {
      "id": "67e2348b71b3c20000fae017",
      "text": "\t\tProjectクラス OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742877836,
      "updated": 1742877839
    },
    {
      "id": "67e2348f71b3c20000fae018",
      "text": "\t\tPageListItem OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742877839,
      "updated": 1742878081
    },
    {
      "id": "67e2357c71b3c20000fae019",
      "text": "\t\tLatestPages OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742878076,
      "updated": 1742878354
    },
    {
      "id": "67e2384d71b3c20000fae01a",
      "text": "\t\tSearchResult OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742878798,
      "updated": 1742878798
    },
    {
      "id": "67e23b0671b3c20000fae01e",
      "text": "\t\tPage OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742879494,
      "updated": 1742879497
    },
    {
      "id": "67e15fe371b3c2000036744b",
      "text": "\tすっ飛ばして2.0いく",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742823396,
      "updated": 1742879702
    },
    {
      "id": "67d2a1fe71b3c20000c4465b",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741857279,
      "updated": 1742039862
    },
    {
      "id": "67e11f5871b3c20000a938b6",
      "text": "そういえばまだログイン状態のテストしてなかった",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742806873,
      "updated": 1742806873
    },
    {
      "id": "67e15a7571b3c20000367432",
      "text": "\tログイン時の挙動がようやくまともになった",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822005,
      "updated": 1742822013
    },
    {
      "id": "67e15a7d71b3c20000367433",
      "text": "\tこれまではCookie設定がエラーになってた",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822014,
      "updated": 1742822029
    },
    {
      "id": "67e11f5971b3c20000a938b7",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742806874,
      "updated": 1742806874
    },
    {
      "id": "67e1246f71b3c20000a938bb",
      "text": "1.4.1",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742808176,
      "updated": 1742808246
    },
    {
      "id": "67e1247271b3c20000a938bd",
      "text": "\tCosenseClientにgetProjectを生やし、これまでできなかった既存のクライアントを使ってプロジェクトを作成することができるように",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742808178,
      "updated": 1742808245
    },
    {
      "id": "67e1249b71b3c20000a938be",
      "text": "\t\tというかそっちであるべき",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742808219,
      "updated": 1742808224
    },
    {
      "id": "67e12c3271b3c20000a938c4",
      "text": "\t\tProject.new()をdeprecatedにした",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742810162,
      "updated": 1742810178
    },
    {
      "id": "67e1289071b3c20000a938c1",
      "text": "\t[https://gyazo.com/f6d4ae1b84e08ef7f74ca2b746cf077d]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742809233,
      "updated": 1742809234
    },
    {
      "id": "67e128b771b3c20000a938c3",
      "text": "\t\tコメント率高い",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742809272,
      "updated": 1742809283
    },
    {
      "id": "67e1293d1280f000005afa28",
      "text": "\tちょうど`CosenseClient`というクラスを@cosense/stdで実装しようとしてたところ[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742809405,
      "updated": 1742809440
    },
    {
      "id": "67e129601280f000005afa29",
      "text": "\t　名前被っちゃった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742809440,
      "updated": 1742809443
    },
    {
      "id": "67e12c5371b3c20000a938c5",
      "text": "\t　まあ`import {CosenseClient as なんとか}`すればいいし[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742810195,
      "updated": 1742810210
    },
    {
      "id": "67e1289171b3c20000a938c2",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742809234,
      "updated": 1742809234
    },
    {
      "id": "67e1246f71b3c20000a938bc",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742808176,
      "updated": 1742808176
    },
    {
      "id": "67d56b3671b3c20000c1c6ea",
      "text": "2025/03/15(1.3.2)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742039862,
      "updated": 1742039879
    },
    {
      "id": "67d56b4771b3c20000c1c6eb",
      "text": "\tJSR Score 100%達成",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742039879,
      "updated": 1742039888
    },
    {
      "id": "67d56b3471b3c20000c1c6e9",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742039861,
      "updated": 1742039861
    },
    {
      "id": "67d3d50071b3c2000025adc7",
      "text": "1.3",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741935872,
      "updated": 1741935874
    },
    {
      "id": "67d3d50171b3c2000025adc9",
      "text": "\tAPIのベースURLを設定できるようにした",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741935874,
      "updated": 1741935888
    },
    {
      "id": "67e125b271b3c20000a938c0",
      "text": "\t\tオンプレ版対応のため",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742808498,
      "updated": 1742808501
    },
    {
      "id": "67d3d77b71b3c2000025adca",
      "text": "\trelated pagesにgetDetailを生やした",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741936509,
      "updated": 1741936517
    },
    {
      "id": "67d3d50071b3c2000025adc8",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741935872,
      "updated": 1741935872
    },
    {
      "id": "67d2a1ce71b3c20000c44655",
      "text": "1.2",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741857231,
      "updated": 1741857346
    },
    {
      "id": "67d2a1d271b3c20000c44657",
      "text": "\t継承を[コンポジション]にした",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1741857235,
      "updated": 1741859753
    },
    {
      "id": "67d2a1d371b3c20000c44658",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741857235,
      "updated": 1741857235
    },
    {
      "id": "67d13c5071b3c2000056d82f",
      "text": "そうか...非同期constructorないのか...",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741765712,
      "updated": 1741765721
    },
    {
      "id": "67d13c5971b3c2000056d831",
      "text": "\tでもconstructorをprivateにして別のnew静的メソッドを作ればいい!",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741765722,
      "updated": 1741765741
    },
    {
      "id": "67d14d8971b3c2000056d838",
      "text": "\t`Project.new()`みたいにね",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741770122,
      "updated": 1741770131
    },
    {
      "id": "67e1572e1280f00000297945",
      "text": "\tたぶんこれでもいける[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821167,
      "updated": 1742821281
    },
    {
      "id": "67e157351280f00000297946",
      "text": "\t code:ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821174,
      "updated": 1742821175
    },
    {
      "id": "67e157371280f00000297947",
      "text": "\t  class Class {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821175,
      "updated": 1742821181
    },
    {
      "id": "67e1573d1280f00000297948",
      "text": "\t    constructor(private value: unknown) {};",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821181,
      "updated": 1742821199
    },
    {
      "id": "67e1573e1280f00000297949",
      "text": "\t  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821183,
      "updated": 1742821202
    },
    {
      "id": "67e157521280f0000029794a",
      "text": "\t  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821202,
      "updated": 1742821202
    },
    {
      "id": "67e157521280f0000029794b",
      "text": "\t  export const create = async (): Promise<Class> => Promise.resolve(new Class(Math.random()));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821202,
      "updated": 1742821269
    },
    {
      "id": "67e157951280f0000029794c",
      "text": "\t  export type { Class };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821269,
      "updated": 1742821274
    },
    {
      "id": "67e157a31280f0000029794d",
      "text": "\t `Class`の型定義だけexportして実体がexportされないので、外部で`new Class`できなくなるはず",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821283,
      "updated": 1742821327
    },
    {
      "id": "67e1589871b3c2000036742a",
      "text": "\t 脱線: async関数内でPromise.resolve返すのは冗長では...[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821528,
      "updated": 1742821575
    },
    {
      "id": "67e1594c1280f00000297951",
      "text": "\t 　　async functionの例として適当に書いただけです。スルーしてください[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821709,
      "updated": 1742821731
    },
    {
      "id": "67e159581280f00000297952",
      "text": "\t 　　 手ごろなのがすぐ思いつかなかった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821722,
      "updated": 1742821727
    },
    {
      "id": "67e15d1071b3c2000036743b",
      "text": "\t 　[\" 100%クラス指向]と書いてるので、Java形式の厳格なオブジェクト指向にしたいという点もある",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822673,
      "updated": 1742822696
    },
    {
      "id": "67e158ca71b3c2000036742b",
      "text": "\t \tというか私が型定義がエクスポートされてなくて困ってたことがあるので、全クラスエクスポートしてるんですよね......",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821578,
      "updated": 1742821660
    },
    {
      "id": "67e1599f1280f00000297953",
      "text": "\t \t [private-ref-type]警告がでるやつだ[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1742821791,
      "updated": 1742821801
    },
    {
      "id": "67e1592471b3c2000036742d",
      "text": "\t \t(内部で使われている型を引き出すのがめんどいし冗長的になる)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821669,
      "updated": 1742821692
    },
    {
      "id": "67e158ed71b3c2000036742c",
      "text": "\t \t直接の実体エクスポートはCosenseClientだけにして、他全ては型のみエクスポートにすべきかな〜",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821614,
      "updated": 1742821645
    },
    {
      "id": "67e1594871b3c2000036742e",
      "text": "\t \t`Project.new()`形式のAPIとの互換性はどうすべきかな〜",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821704,
      "updated": 1742821721
    },
    {
      "id": "67e1597771b3c2000036742f",
      "text": "\t \tというか結構雑なアサーションとか使いまくってるのでどうにかしたい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821753,
      "updated": 1742821762
    },
    {
      "id": "67e15ae971b3c20000367434",
      "text": "\t \t\t非nullアサーションが至るところで使われているのがわかるだろう",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822121,
      "updated": 1742822134
    },
    {
      "id": "67e1599571b3c20000367430",
      "text": "\t \tCosense側が内部APIの仕様を変えたらすぐ型安全性が崩壊する",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821781,
      "updated": 1742821816
    },
    {
      "id": "67e15b7071b3c20000367436",
      "text": "\t \t\t現状では新しいプロパティが生えることはあっても、すでにあるプロパティが消えることは珍しいかな",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822257,
      "updated": 1742822277
    },
    {
      "id": "67e15b4371b3c20000367435",
      "text": "\t \tそもそも更新が古いscrapboxlab側の型定義を元にしてるので",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822211,
      "updated": 1742822250
    },
    {
      "id": "67e15a3e71b3c20000367431",
      "text": "\t \tあるべきものがあるか正しくバリデートして互換性がなくなったら例外を出すべきだ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742821951,
      "updated": 1742821966
    },
    {
      "id": "67e15c8c71b3c20000367438",
      "text": "\t \t1.5でバリデーション機能つけるか",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822541,
      "updated": 1742822547
    },
    {
      "id": "67e15c9271b3c20000367439",
      "text": "\t \t\tプロパティの型があってなければ、例外を返す",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822547,
      "updated": 1742822722
    },
    {
      "id": "67e15d4671b3c2000036743c",
      "text": "\t \t\t予想外のプロパティがあるのは許容する",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822727,
      "updated": 1742822733
    },
    {
      "id": "67e15d5f71b3c2000036743d",
      "text": "\t \t\tその頃にはstrictとnoImplicitAnyを付けたい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742822752,
      "updated": 1742822768
    },
    {
      "id": "67e2255171b3c200004f710e",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1742873957,
      "updated": 1742873957
    },
    {
      "id": "67d145ba71b3c2000056d832",
      "text": "[@cosense/types]とは微妙に型の互換性がない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741768123,
      "updated": 1741768136
    },
    {
      "id": "67d145c971b3c2000056d834",
      "text": "\tこっちはscrapboxlab側の定義を元にしてるので",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741768137,
      "updated": 1741768147
    },
    {
      "id": "67d145bb71b3c2000056d833",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741768123,
      "updated": 1741768123
    },
    {
      "id": "67d0f52371b3c20000154862",
      "text": "[@cosense/std]の問題点",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747491,
      "updated": 1741756105
    },
    {
      "id": "67d0f53271b3c20000154863",
      "text": "\t認証情報の取り回しがめんどくさい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747506,
      "updated": 1741747527
    },
    {
      "id": "67d153191280f00000ac0e81",
      "text": "\t どこが面倒かよくわからなかった[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741771545,
      "updated": 1741771569
    },
    {
      "id": "67d15a5471b3c2000056d839",
      "text": "\t APIを呼ぶたびにオプションを設定する必要がある[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773396,
      "updated": 1741773412
    },
    {
      "id": "67d15a6471b3c2000056d83a",
      "text": "\t \tクラス指向なら一度認証を設定したProjectから短いコードでPageを読み書きできる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773413,
      "updated": 1741773429
    },
    {
      "id": "67d15a7971b3c2000056d83b",
      "text": "\t \t[- 内部実装はバケツリレーだが]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773433,
      "updated": 1741773440
    },
    {
      "id": "67d0f57071b3c20000154864",
      "text": "\tpage listからpageを取得するのがめんどい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747568,
      "updated": 1741747729
    },
    {
      "id": "67d153331280f00000ac0e83",
      "text": "\t 追加予定[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741771571,
      "updated": 1741771577
    },
    {
      "id": "67d15a8971b3c2000056d83c",
      "text": "\t 現状libcosenseだと`PageListItem`クラスに`getDetail()`が生えててそれを呼ぶと`Page`クラスが帰ってくる[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773449,
      "updated": 1741773488
    },
    {
      "id": "67d15b8971b3c2000056d853",
      "text": "\t全ページ一覧の取得がむずい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773706,
      "updated": 1741773717
    },
    {
      "id": "67d0f4e971b3c2000015485f",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741747433,
      "updated": 1741748721
    },
    {
      "id": "67d15abf71b3c2000056d83d",
      "text": "サンプル",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773503,
      "updated": 1741773505
    },
    {
      "id": "67d15ac171b3c2000056d83e",
      "text": "\t[Cosense Code Clone]で使ってる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773505,
      "updated": 1741773514
    },
    {
      "id": "67d15b2671b3c2000056d84e",
      "text": "\tminimum example",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773606,
      "updated": 1741773610
    },
    {
      "id": "67d15af971b3c2000056d83f",
      "text": " \tcode:ts",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773562,
      "updated": 1741773611
    },
    {
      "id": "67d1638971b3c2000056d854",
      "text": " \t import * as libcosense from \"jsr:@bsahd/libcosense\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741775753,
      "updated": 1741775770
    },
    {
      "id": "67d15b3071b3c2000056d850",
      "text": " \t const pj = libcosense.Project.new(\"villagepump\",{sessionid:\"SESSION_ID\"})",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773616,
      "updated": 1741778228
    },
    {
      "id": "67d15afa71b3c2000056d840",
      "text": " \t for await (const item of pj.pageList()) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773562,
      "updated": 1741773611
    },
    {
      "id": "67d15b1271b3c2000056d84c",
      "text": "     const page = await item.getDetail();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773586,
      "updated": 1741773635
    },
    {
      "id": "67d15b4671b3c2000056d851",
      "text": "     console.log(page)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773638,
      "updated": 1741773644
    },
    {
      "id": "67d15afa71b3c2000056d84a",
      "text": "   }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773563,
      "updated": 1741773611
    },
    {
      "id": "67d15b2c71b3c2000056d84f",
      "text": "  これだけで全ページの内容を処理できる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741773613,
      "updated": 1741776081
    },
    {
      "id": "67d164d171b3c2000056d855",
      "text": "  ちなみに@cosense/stdでやろうとすると",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776081,
      "updated": 1741776088
    },
    {
      "id": "67d164d871b3c2000056d857",
      "text": "  \tcode:ts",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776088,
      "updated": 1741776544
    },
    {
      "id": "67d1659971b3c2000056d87e",
      "text": "    SESSIONID=\"SESSION_ID\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776402
    },
    {
      "id": "67d1667c71b3c2000056d88f",
      "text": "    const pagecount = await cosenseStd.listPages(\"villagepump\", {sid:SESSIONID}).count;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776508,
      "updated": 1741776550
    },
    {
      "id": "67d1659971b3c2000056d87f",
      "text": "    for (const skipnum=0;skipnum < pagecount;skipnum += 100) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776537
    },
    {
      "id": "67d1659971b3c2000056d880",
      "text": "      const pglistw = await cosenseStd.listPages(\"villagepump\", {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d881",
      "text": "        skip: skipnum,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d882",
      "text": "        sort: \"updated\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1660571b3c2000056d88e",
      "text": "        sid:SESSIONID",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776390,
      "updated": 1741776395
    },
    {
      "id": "67d1659971b3c2000056d883",
      "text": "      });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d884",
      "text": "      if (!pglistw.ok) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d885",
      "text": "        continue;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d886",
      "text": "      }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d887",
      "text": "      for (const item of pglistw.pages) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d888",
      "text": "        const page = await cosenseStd.getPage(\"villagepump\", item,{sid:SESSIONID});",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776358
    },
    {
      "id": "67d1659971b3c2000056d889",
      "text": "        console.log(page);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d88a",
      "text": "      }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776281
    },
    {
      "id": "67d1659971b3c2000056d88b",
      "text": "    }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741776281,
      "updated": 1741776542
    },
    {
      "id": "67d10a8371b3c20000e6f770",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741752964,
      "updated": 1742021598
    },
    {
      "id": "67d0f96571b3c20000e6f76a",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741748582,
      "updated": 1741748582
    },
    {
      "id": "67d02e7671b3c20000a25baf",
      "text": "前提",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696631,
      "updated": 1741696632
    },
    {
      "id": "67d02f9371b3c20000a25bb6",
      "text": "\t例外のタイプはダックタイピングでどうにかする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696915,
      "updated": 1741696924
    },
    {
      "id": "67d02f551280f00000ac7025",
      "text": "\t\tcf. [https://zenn.dev/luma/articles/2e891a24fe099c Deno(Nodeでも)で外部モジュールのクラスやSymbolを使用するときは少し慎重になる必要がある]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696831,
      "updated": 1741696835
    },
    {
      "id": "67d02e7771b3c20000a25bb0",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696632,
      "updated": 1741696632
    },
    {
      "id": "67d02e901280f00000ac701e",
      "text": "例外ベースに変えようかちょうど検討してたとこだった[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696634,
      "updated": 1741696645
    },
    {
      "id": "67d02e9c1280f00000ac7020",
      "text": " 単独のREST APIで構成されているものは例外ベースにする予定",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696646,
      "updated": 1741696671
    },
    {
      "id": "67d02ec71280f00000ac7023",
      "text": "  https://github.com/takker99/scrapbox-userscript-std/pull/226",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696689,
      "updated": 1741696713
    },
    {
      "id": "67d02ee41280f00000ac7024",
      "text": "  例外ベースにしたいというより、`Response`を加工する処理を削って軽量化&Responseを直に使えるようにすることが目的",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696718,
      "updated": 1741696758
    },
    {
      "id": "67d02eb51280f00000ac7022",
      "text": " `uploadToGCS`など、複数のAPIの組み合わせはResult typeかなー",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696671,
      "updated": 1741696687
    },
    {
      "id": "67d02ea471b3c20000a25bb3",
      "text": " @cosense/std側はそのままでこちら側を例外ベースにしたいかな[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741696677,
      "updated": 1741696692
    },
    {
      "id": "67d02e931280f00000ac701f",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1741696637,
      "updated": 1741696637
    },
    {
      "id": "67d0422271b3c200005f7d7c",
      "text": "目についた時にやりたいのでピン留め　3/11",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741701667,
      "updated": 1741701726
    },
    {
      "id": "67d0422971b3c200005f7d7d",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1741701674,
      "updated": 1741701674
    }
  ]
}