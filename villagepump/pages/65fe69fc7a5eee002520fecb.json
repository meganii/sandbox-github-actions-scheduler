{
  "id": "65fe69fc7a5eee002520fecb",
  "title": "gamble.js",
  "created": 1711172096,
  "updated": 1714890200,
  "lines": [
    {
      "id": "65fe69fc7a5eee002520fecb",
      "text": "gamble.js",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172096,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120620",
      "text": "[ランダムに選ばれた時間にのみ特定のプロジェクトにアクセスできるUserScript]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120621",
      "text": "[https://gyazo.com/a0f11c76764fa9820a3fafd7c424e60b]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120622",
      "text": " [https://mtg-jp.com/products/card-gallery/0000176/456728/ ギャンブル｜カードギャラリー｜マジック：ザ・ギャザリング 日本公式ウェブサイト]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120623",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a685e90c0000012070a",
      "text": "まだ未完成[cFQ2f7LRuLYP.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172199,
      "updated": 1711172204
    },
    {
      "id": "65fe6a575e90c00000120624",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a615e90c000001206c8",
      "text": "from [日報 2023-08-20]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ca",
      "text": " いずれ[suspend.js]はこちらに完全移行したい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206cb",
      "text": " 一日一回起動＆参照できるような形にしたい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206cc",
      "text": "  外部に変数の値を格納する場所を求めないといけない気がする",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206cd",
      "text": "[LocalStorage]のヒントを頂いた[cFQ2f7LRuLYP.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ce",
      "text": " そして聞いた",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206cf",
      "text": "  [https://chat.openai.com/share/05fcdb57-2962-46f5-8eb4-81df1689cab1 localStorageの概要]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d0",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d1",
      "text": "code:script.js",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d2",
      "text": "  // コードを実行する関数",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d3",
      "text": " const callback = () => {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d4",
      "text": "   // 現在の日時を取得",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d5",
      "text": "   const now = new Date();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d6",
      "text": "   // 現在の日付を取得",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d7",
      "text": "   const currentDay = now.getDate();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d8",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206d9",
      "text": "   // localStorageから保存したランダムな開始時刻を取得",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206da",
      "text": "   const storedRandomStartHour = localStorage.getItem('randomStartHour');",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206db",
      "text": "   ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206dc",
      "text": "   // もしランダムな開始時刻が保存されているなら",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206dd",
      "text": "   if (storedRandomStartHour !== null) {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206de",
      "text": "     // 保存した日付とランダムな開始時刻を取得",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206df",
      "text": "     const savedDay = parseInt(localStorage.getItem('savedDay'), 10);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e0",
      "text": "     const randomStartHour = parseInt(storedRandomStartHour, 10);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e1",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e2",
      "text": "     // 翌日になったら新しいランダムな開始時刻を生成して保存",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e3",
      "text": "     if (currentDay !== savedDay) {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e4",
      "text": "       const newRandomStartHour = Math.floor(Math.random() * 24);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e5",
      "text": "       localStorage.setItem('randomStartHour', newRandomStartHour);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e6",
      "text": "       localStorage.setItem('savedDay', currentDay);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e7",
      "text": "     }",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e8",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206e9",
      "text": "     // 特定の条件をチェックしてメッセージを表示",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ea",
      "text": "     if (scrapbox.Project.name !== \"villagepump\") return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206eb",
      "text": "     if (randomStartHour <= now.getHours() && now.getHours() < randomStartHour + 1) return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ec",
      "text": "       const message = `井戸端に入れるのは${randomStartHour} 時から60分間となります。`;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ed",
      "text": "       document.body.textContent = message;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ee",
      "text": "   }",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ef",
      "text": "   // もしランダムな開始時刻が保存されていないなら",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f0",
      "text": "   else {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f1",
      "text": "     // 新しいランダムな開始時刻を生成して保存",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f2",
      "text": "     const randomStartHour = Math.floor(Math.random() * 24);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f3",
      "text": "     localStorage.setItem('randomStartHour', randomStartHour);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f4",
      "text": "     localStorage.setItem('savedDay', currentDay);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f5",
      "text": "   }",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f6",
      "text": " };",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f7",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f8",
      "text": " // 初回実行",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206f9",
      "text": " callback();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206fa",
      "text": " // 1分ごとに処理を実行",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206fb",
      "text": " setInterval(callback, 60 * 1000);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206fc",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206fd",
      "text": "課題",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206fe",
      "text": " [LocalStorage]の場合だと各ブラウザごとにログインチャンスが生まれてしまう",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c000001206ff",
      "text": "  よくない[cFQ2f7LRuLYP.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120700",
      "text": "  いずれ一回参照にしたい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120701",
      "text": " 全然[ギャンブル]してないしもっとギャンブルさせたい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120702",
      "text": " 　1d20で20の目が出たら花火が打ち上がるとか",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120703",
      "text": " 　1を出したらひどい目に合うとか(例:プロジェクト全消し)",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120704",
      "text": " 　使用者の意思が介在しない点も面白くない",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120705",
      "text": " 　　半丁決めて当たったら井戸端に入れる、という方がよっぽどギャンブル",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120706",
      "text": " 　　　[トゥーフェイス]か？",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120707",
      "text": " 　　一日一回半丁決定して判定、当たらば1時間許可、外れたらログイン不可というのが良さそう",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120708",
      "text": " 　　　作製難易度としても",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a625e90c00000120709",
      "text": " 　　　localstorage内にフラグを立てれば良い",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a615e90c000001206c9",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172193,
      "updated": 1711172193
    },
    {
      "id": "65fe6a575e90c00000120625",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120626",
      "text": "参照",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120627",
      "text": " [suspend.js]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120628",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120629",
      "text": "必要そうな処理",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062a",
      "text": " ✅ランダムな日時を出す関数",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062b",
      "text": "  [Math.random()]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062c",
      "text": " ✅そのランダムな日時がいつなのか表示する機能",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062d",
      "text": "  ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062e",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012062f",
      "text": " Javascriptの知識",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120630",
      "text": "  [「18:00~09:00は井戸端を開けなくするUserScript」を読む]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120631",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120632",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120633",
      "text": "[2023-08-19] 20:34",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120634",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120635",
      "text": "[2023-08-20] 14:42",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120636",
      "text": " ひたすらGPT先生に教えを乞うた",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120637",
      "text": "  [https://chat.openai.com/share/5f16506c-1f8c-41ee-a07e-64dd785087cd JavaScriptランダム時刻生成]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120638",
      "text": " たたき台",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120639",
      "text": "code:random.js",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063a",
      "text": " const callback = () => {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063b",
      "text": "  const now = new Date();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063c",
      "text": "  const randomStartHour = Math.floor(Math.random() * 24); // 0から23のランダムな時刻",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063d",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063e",
      "text": "  if (scrapbox.Project.name !== \"villagepump\") return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012063f",
      "text": "  if (randomStartHour <= now.getHours() && now.getHours() < randomStartHour + 1) return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120640",
      "text": "    const message = `井戸端に入れるのは${randomStartHour} 時から60分間となります。`; // 現在の時刻をメッセージに組み込む",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120641",
      "text": "    document.body.textContent = message;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120642",
      "text": " };",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120643",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120644",
      "text": " callback();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120645",
      "text": " // 1分ごとに時刻を確認",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120646",
      "text": " setInterval(callback, 60 * 1000);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120647",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120648",
      "text": "問題点",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120649",
      "text": " 何回でもチャレンジできる→開くまでリロードし続ければいい→ガチャ！！！！！",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064a",
      "text": "  一日日時を保持しておければよい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064b",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064c",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064d",
      "text": "聞いた[cFQ2f7LRuLYP.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064e",
      "text": "[GPT-3.5.icon]新しいスクリプトを作成し、ランダムな時刻を保持しておく方法を以下に示します。このスクリプトは、特定のサイトへのアクセスを制御するために使用されます。スクリプトは初心者でも理解しやすいようにコメントで説明を追加しています。",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012064f",
      "text": "code:random2.js",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120650",
      "text": " // 保持するランダムな時刻",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120651",
      "text": " let randomStartHour = null;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120652",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120653",
      "text": " // ランダムな時刻を初期化する関数",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120654",
      "text": " const initializeRandomStartHour = () => {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120655",
      "text": "   randomStartHour = Math.floor(Math.random() * 24); // 0から23のランダムな時刻",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120656",
      "text": " };",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120657",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120658",
      "text": " // コールバック関数",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120659",
      "text": " const callback = () => {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065a",
      "text": "   const now = new Date();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065b",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065c",
      "text": "   // 初回実行時にランダムな時刻を初期化",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065d",
      "text": "   if (randomStartHour === null) {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065e",
      "text": "     initializeRandomStartHour();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012065f",
      "text": "   }",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120660",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120661",
      "text": "   if (scrapbox.Project.name !== \"villagepump\") return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120662",
      "text": "   ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120663",
      "text": "   // 保持しているランダムな時刻を使用して制御",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120664",
      "text": "   if (randomStartHour <= now.getHours() && now.getHours() < randomStartHour + 1) return;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120665",
      "text": "   ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120666",
      "text": "   const message = `井戸端に入れるのは${randomStartHour} 時から60分間となります。`;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120667",
      "text": "   document.body.textContent = message;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120668",
      "text": "   const remainingTime = 5000; // 5秒の遅延時間",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120669",
      "text": "          let countdown = remainingTime / 1000; // ミリ秒を秒に変換",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066a",
      "text": "          document.body.textContent += `${countdown}秒後に遷移します...`",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066b",
      "text": "        // カウントダウン表示と遷移",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066c",
      "text": "          const countdownInterval = setInterval(() => {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066d",
      "text": "            countdown--;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066e",
      "text": "            document.body.textContent = `井戸端に入れるのは${randomStartHour} 時から60分間となります。${countdown}秒後に遷移します...`;",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012066f",
      "text": "            if (countdown === 0) {",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120670",
      "text": "              clearInterval(countdownInterval);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120671",
      "text": "              window.location.href = \"https://scrapbox.io/issac-37765679/\";",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120672",
      "text": "            }",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120673",
      "text": "          }, 1000); // 1秒ごとに更新",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120674",
      "text": " };",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120675",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120676",
      "text": " // 初回実行",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120677",
      "text": " callback();",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120678",
      "text": " ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120679",
      "text": " // 1分ごとに時刻を確認",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067a",
      "text": " setInterval(callback, 60 * 1000);",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067b",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067c",
      "text": "この改良されたスクリプトでは、最初にランダムな時刻を保持するための変数 `randomStartHour` を導入しました。`initializeRandomStartHour` 関数は初回に1度だけ呼び出され、ランダムな時刻を初期化します。その後、コールバック関数内でこの保持されたランダムな時刻を使用して制御を行います。",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067d",
      "text": "こうすることで、毎回スクリプトを実行するたびに新しいランダムな時刻が生成されることはなくなります。初回実行時に1度だけランダムな時刻が生成され、その後はその時刻を使用してアクセス制御を行うようになります。",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067e",
      "text": " とはいえ起動するたびにランダムな時刻が入れ替わるのは変わらなかった[cFQ2f7LRuLYP.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c0000012067f",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120680",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120681",
      "text": "[2023-08-20] 15:38",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120682",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c00000120683",
      "text": "[userscript.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1711172182,
      "updated": 1714890200
    },
    {
      "id": "65fe6a575e90c000001206c4",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c000001206c5",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c000001206c6",
      "text": "[2023-08-23]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    },
    {
      "id": "65fe6a575e90c000001206c7",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1711172182,
      "updated": 1711172182
    }
  ]
}