{
  "id": "5ff6d8730945c5001c8c8830",
  "title": "Scrapboxの新Themeが軒並みバグる",
  "created": 1610012788,
  "updated": 1610200522,
  "lines": [
    {
      "id": "5ff6d8730945c5001c8c8830",
      "text": "Scrapboxの新Themeが軒並みバグる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012788
    },
    {
      "id": "5ff6d8841280f0000093f963",
      "text": "原因は[filter: invert()]を使っているせいだと推測してる[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012805,
      "updated": 1610013415
    },
    {
      "id": "5ff6e0221280f00000213d01",
      "text": " `default-light`とclassic themeはバグらない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014754,
      "updated": 1610014769
    },
    {
      "id": "5ff6e03b1280f00000213d02",
      "text": " 報告出しました",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014779,
      "updated": 1610014783
    },
    {
      "id": "5ff6e03e1280f00000213d03",
      "text": " 　[/forum-jp/新しく追加されたThemeでコードの文字選択がバグる]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014783,
      "updated": 1610014784
    },
    {
      "id": "5ff6e03f1280f00000213d04",
      "text": " 　日本語と敬語がやや怪しい",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014784,
      "updated": 1610014797
    },
    {
      "id": "5ff6e04d1280f00000213d05",
      "text": " 　もし変な文体があったら直してくれると助かります",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014797,
      "updated": 1610014813
    },
    {
      "id": "5ff8072ce5172d0000906aeb",
      "text": " 直ったぽい？[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1610090283,
      "updated": 1610090292
    },
    {
      "id": "5ff807301280f00000569b13",
      "text": "  書こうとしたら先越されたー[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090289,
      "updated": 1610090301
    },
    {
      "id": "5ff80743e5172d0000906aec",
      "text": "  \t笑",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1610090306,
      "updated": 1610090309
    },
    {
      "id": "5ff8073c1280f00000569b14",
      "text": "  そうみたいです",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090301,
      "updated": 1610090304
    },
    {
      "id": "5ff807401280f00000569b15",
      "text": "   [filter: invert()]を使わない方針で実装し直したみたい",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090304,
      "updated": 1610090322
    },
    {
      "id": "5ff807521280f00000569b16",
      "text": "   syntax highlightの各classに一つづつ色を指定するようになった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090322,
      "updated": 1610090349
    },
    {
      "id": "5ff8076d1280f00000569b17",
      "text": "  [/icons/感謝.icon][takker.icon][yosider.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090349,
      "updated": 1610090374
    },
    {
      "id": "5ff8077ee5172d0000906aed",
      "text": "  仕事が早い…[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1610090365,
      "updated": 1610090371
    },
    {
      "id": "5ff6d9ee1280f0000093f973",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013167,
      "updated": 1610013167
    },
    {
      "id": "5ff6d9f41280f0000093f974",
      "text": "応急処置法 (2通り)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013172,
      "updated": 1610013363
    },
    {
      "id": "5ff6d9f71280f0000093f975",
      "text": " 以下をUserCSSに追加する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013176,
      "updated": 1610013192
    },
    {
      "id": "5ff6da081280f0000093f977",
      "text": "  code:css",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013192,
      "updated": 1610013198
    },
    {
      "id": "5ff6da0e1280f0000093f978",
      "text": "   html {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013198,
      "updated": 1610014115
    },
    {
      "id": "5ff6da121280f0000093f97a",
      "text": "     --invert-color: unset !important;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014115,
      "updated": 1610014118
    },
    {
      "id": "5ff6da111280f0000093f979",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014115,
      "updated": 1610014115
    },
    {
      "id": "5ff6daae1280f0000093f996",
      "text": " Classic Themeに切り替える",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013359,
      "updated": 1610014774
    },
    {
      "id": "5ff6dee6e5172d00006f8d8d",
      "text": "[/icons/感謝.icon][yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1610014437,
      "updated": 1610014449
    },
    {
      "id": "5ff6e01f1280f00000213cff",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014751,
      "updated": 1610014751
    },
    {
      "id": "5ff831f21280f00000e30b82",
      "text": "今度は[syntax highlight]が死んでる！",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610101235,
      "updated": 1610101359
    },
    {
      "id": "5ff8325a1280f00000e30b84",
      "text": " 条件",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610101339,
      "updated": 1610101341
    },
    {
      "id": "5ff831ff1280f00000e30b83",
      "text": "  `data-project-theme`が`<html>`に指定されていない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610101247,
      "updated": 1610101344
    },
    {
      "id": "5ff832601280f00000e30b85",
      "text": "  `data-project-theme=\"default\"`",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610101344,
      "updated": 1610101352
    },
    {
      "id": "5ff835281280f00000e30b87",
      "text": " 報告した",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610102057,
      "updated": 1610102059
    },
    {
      "id": "5ff8352b1280f00000e30b88",
      "text": "  [/forum-jp/syntax highlightに色がつかない]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610102059,
      "updated": 1610102065
    },
    {
      "id": "5ff835311280f00000e30b89",
      "text": "  なんか最近Scrapboxのhackしかやっていない気がする[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610102066,
      "updated": 1610102095
    },
    {
      "id": "5ff835421280f00000e30b8a",
      "text": "  　本業が進まない……",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610102082,
      "updated": 1610102089
    },
    {
      "id": "5ff9b1ffe5172d0000e674ca",
      "text": " 直ってる？[yosider.icon]",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1610199551,
      "updated": 1610199556
    },
    {
      "id": "5ff9b5ad1280f0000036379d",
      "text": "  直ってるっぽい！ (@smartphone)[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610200493,
      "updated": 1610200522
    },
    {
      "id": "5ff8072d1280f00000569b12",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610090286,
      "updated": 1610200506
    },
    {
      "id": "5ff6da211280f0000093f97b",
      "text": "背景",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013217,
      "updated": 1610013219
    },
    {
      "id": "5ff6d8811280f0000093f961",
      "text": " [Scrapboxの新Theme]のCSSに`--invert-color`というカスタムプロパティが導入された",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012802,
      "updated": 1610012885
    },
    {
      "id": "5ff6d8d41280f0000093f967",
      "text": "  dark themeにおいて、色を反転させるために使用されている",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012885,
      "updated": 1610012902
    },
    {
      "id": "5ff6d8f91280f0000093f969",
      "text": "  　`filter: invert(100%)`で色反転する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012921,
      "updated": 1610012940
    },
    {
      "id": "5ff6d8e51280f0000093f968",
      "text": "  light themeは`filter: invert(0%)`が設定されている",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012902,
      "updated": 1610012920
    },
    {
      "id": "5ff6d90c1280f0000093f96a",
      "text": "  詳しい説明は[/shokai/Dark Editor CSS]が詳しい",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012941,
      "updated": 1610012969
    },
    {
      "id": "5ff6d9291280f0000093f96b",
      "text": " ところが、`<code>`に`filter: invert`を適用すると、cursorの座標計算がバグるという問題がある",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012969,
      "updated": 1610013030
    },
    {
      "id": "5ff6d9b61280f0000093f970",
      "text": " 今回追加された新テーマ全てに`--invert-color`",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013111,
      "updated": 1610013164
    },
    {
      "id": "5ff6da311280f0000093f98b",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013233,
      "updated": 1610013233
    },
    {
      "id": "5ff6da2f1280f0000093f988",
      "text": "実は以前から[takker.icon]は把握していた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013231,
      "updated": 1610013239
    },
    {
      "id": "5ff6da3b1280f0000093f98e",
      "text": "　[/shokai/Dark Editor CSS]をベースとしたCSSを使っているときにこの現象が起きていた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013243,
      "updated": 1610013266
    },
    {
      "id": "5ff6da541280f0000093f991",
      "text": "　 [scrapbox-card-bubble]の位置などもおかしくなっていた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013269,
      "updated": 1610013290
    },
    {
      "id": "5ff6da6a1280f0000093f992",
      "text": "　 たぶん`div.cursor`の座標計算結果がおかしくなっていたんじゃないか？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013291,
      "updated": 1610013311
    },
    {
      "id": "5ff6da521280f0000093f990",
      "text": "　そこでなるべく個別に色を指定するようにした[/appbirdNotebook-public/Atomっぽい色合いにしたい！]をベースに作ったCSSに切り替えて使っていた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013266,
      "updated": 1610013324
    },
    {
      "id": "5ff6da8e1280f0000093f993",
      "text": "　とくに報告はしていなかった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013327,
      "updated": 1610013333
    },
    {
      "id": "5ff6da2f1280f0000093f989",
      "text": " 　全員が全員dark themeを使っているわけではないし",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013231,
      "updated": 1610013340
    },
    {
      "id": "5ff6da9e1280f0000093f995",
      "text": " ただ今回のは報告を出すべきだな",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610013343,
      "updated": 1610014908
    },
    {
      "id": "5ff6e0bd1280f0000093f997",
      "text": "  標準で提供されているThemeを選んだだけでバグる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610014910,
      "updated": 1610014926
    },
    {
      "id": "5ff6d8811280f0000093f962",
      "text": "[/icons/hr.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012802,
      "updated": 1610012804
    },
    {
      "id": "5ff6d8861280f0000093f966",
      "text": "from [2021/01/07]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012806,
      "updated": 1610012806
    },
    {
      "id": "5ff6d8731280f0000093f955",
      "text": "dark themeどうやって実装しているんだろうと思ったら、[filter: invert()]使っちゃっていたかー[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012827
    },
    {
      "id": "5ff6d8731280f0000093f956",
      "text": "これ使うとインラインコード記法とかがバグるんだよなあ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f957",
      "text": "\toh...",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f958",
      "text": "\tバグるとはどんな感じ？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f959",
      "text": "\t今調査中です",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95a",
      "text": " \t過程：[/takker/Scrapboxの新Themeに合わせてUserCSSを組み替える#5ff6c9df1280f00000f8f4b7]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95b",
      "text": "\tdark themeどころか全てのThemeでバグることがわかった[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95c",
      "text": "\t　[おま環]の可能性もなくはない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95d",
      "text": "\t　他の人の動作状況も知りたいです",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95e",
      "text": "\t　\tほんとだ、コードの文字選択がバグる(Default Dark theme)[yosider.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f95f",
      "text": "`--invert-color`が指定された全てのThemeでバグる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6d8731280f0000093f960",
      "text": " [/villagepump]はthemeがそもそも指定されていないのでバグらない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610012788,
      "updated": 1610012799
    },
    {
      "id": "5ff6e758ec4fce0000087bc3",
      "text": " バグとは関係ないけど、`filter`は重いからあんまり使いたくないんですよね...",
      "userId": "5da3a9589b96b70017ec4fce",
      "created": 1610016602,
      "updated": 1610016663
    },
    {
      "id": "5ff6e759ec4fce0000087bc4",
      "text": "  [/icons2/へえ〜.icon]",
      "userId": "5da3a9589b96b70017ec4fce",
      "created": 1610016604,
      "updated": 1610016900
    },
    {
      "id": "5ff6e8731280f000001b6439",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1610016883,
      "updated": 1610016883
    }
  ]
}