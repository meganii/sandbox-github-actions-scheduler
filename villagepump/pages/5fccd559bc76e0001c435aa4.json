{
  "id": "5fccd559bc76e0001c435aa4",
  "title": "d3-script-button",
  "created": 1607259521,
  "updated": 1607259643,
  "lines": [
    {
      "id": "5fccd559bc76e0001c435aa4",
      "text": "d3-script-button",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259521,
      "updated": 1607259521
    },
    {
      "id": "5fccd5805b98c20000f4a588",
      "text": "[D3.js]のスクリプトを動かす[アイコンボタン]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259521,
      "updated": 1607259643
    },
    {
      "id": "5fccd5815b98c20000f4a589",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58a",
      "text": "↓実行ボタン",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58b",
      "text": "[d3-script-button.icon]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58c",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58d",
      "text": "↓アイコン用画像",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58e",
      "text": "[https://gyazo.com/043ff19740577c2444280e958eadf210]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a58f",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a590",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a591",
      "text": "code:button.js",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a592",
      "text": " (() => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a593",
      "text": "   let D3js = document.getElementById('__D3js__');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a594",
      "text": "   if (!D3js) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a595",
      "text": "     D3js = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a596",
      "text": "     D3js.id = '__D3js__';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a597",
      "text": "     D3js.src = '//cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a598",
      "text": "     document.head.appendChild(D3js);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a599",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59a",
      "text": "   let d3script =  document.getElementById('__D3sc__');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59b",
      "text": "   if (d3script){",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59c",
      "text": "     // リロードしてリセット",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59d",
      "text": "     location.reload(false);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59e",
      "text": "   } else {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a59f",
      "text": "     d3script = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a0",
      "text": "     d3script.id = '__D3sc__';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a1",
      "text": "     d3script.type = 'module';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a2",
      "text": "     d3script.src = `/api/code/${scrapbox.Project.name}/${encodeURIComponent(scrapbox.Page.title)}/d3script.js`",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a3",
      "text": "     document.body.appendChild(d3script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a4",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a5",
      "text": "  })()",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a6",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a7",
      "text": "code:button2.js",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a8",
      "text": " import {installCDN} from '/api/code/villagepump/install-CDN/script.js';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5a9",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5aa",
      "text": " export async function execute() {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ab",
      "text": "   await installCDN({id: '__D3js__', src: '//cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js'});",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ac",
      "text": "   const d3Script = new D3Script('__D3sc__');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ad",
      "text": "   if(d3Script.hasScript()) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ae",
      "text": "     d3Script.remove();",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5af",
      "text": "     alert(\"removed\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b0",
      "text": "     location.reload(false);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b1",
      "text": "     return;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b2",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b3",
      "text": "   d3Script.draw();",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b4",
      "text": " }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b5",
      "text": " class D3Script {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b6",
      "text": "   constructor(id) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b7",
      "text": " \tthis.id = id;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b8",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5b9",
      "text": "   draw() {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ba",
      "text": "     let d3script = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5bb",
      "text": "     d3script.id = this.id;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5bc",
      "text": "     d3script.type = 'module';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5bd",
      "text": "     d3script.src = `/api/code/${scrapbox.Project.name}/${encodeURIComponent(scrapbox.Page.title)}/d3script.js` ;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5be",
      "text": "     document.body.appendChild(d3script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5bf",
      "text": "   } ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c0",
      "text": "   hasScript() { return document.getElementById(this.id) !== null;}",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c1",
      "text": "        ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c2",
      "text": "   remove() {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c3",
      "text": "     const d3script = document.getElementById(this.id);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c4",
      "text": "     if (!d3script) return;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c5",
      "text": "     // 既にscriptがある場合は削除する",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c6",
      "text": "     d3script.parentNode.removeChild(d3script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c7",
      "text": "     console.log('The script already exists. Removing it...');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c8",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5c9",
      "text": " }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ca",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5cb",
      "text": "code:script.js ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5cc",
      "text": " // D3.js のスクリプトd3script.jsを実行する UserScript",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5cd",
      "text": " scrapbox.PageMenu.addItem({",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ce",
      "text": "   title: \"d3-script\",",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5cf",
      "text": "   image: \"https://gyazo.com/043ff19740577c2444280e958eadf210/raw\",",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d0",
      "text": "   onClick: async () => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d1",
      "text": "   　const path = '//cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d2",
      "text": "   　await import(path).then(() => {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d3",
      "text": "       const d3Script = new D3Script('__D3sc__');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d4",
      "text": "       if(d3Script.hasScript()) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d5",
      "text": "         d3Script.remove();",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d6",
      "text": "         alert(\"removed\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d7",
      "text": "         location.reload(false);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d8",
      "text": "         return;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5d9",
      "text": "       }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5da",
      "text": "       d3Script.draw();",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5db",
      "text": "     });",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5dc",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5dd",
      "text": " });",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5de",
      "text": " class D3Script {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5df",
      "text": "   constructor(id) {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e0",
      "text": " \tthis.id = id;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e1",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e2",
      "text": "   draw() {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e3",
      "text": "     let d3script = document.createElement(\"script\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e4",
      "text": "     d3script.id = this.id;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e5",
      "text": "     d3script.type = 'module';",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e6",
      "text": "     d3script.src = `/api/code/${scrapbox.Project.name}/${encodeURIComponent(scrapbox.Page.title)}/d3script.js` ;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e7",
      "text": "     document.body.appendChild(d3script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e8",
      "text": "   } ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5e9",
      "text": "   hasScript() { return document.getElementById(this.id) !== null;}",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ea",
      "text": "        ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5eb",
      "text": "   remove() {",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ec",
      "text": "     const d3script = document.getElementById(this.id);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ed",
      "text": "     if (!d3script) return;",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ee",
      "text": "     // 既にscriptがある場合は削除する",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ef",
      "text": "     d3script.parentNode.removeChild(d3script);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f0",
      "text": "     console.log('The script already exists. Removing it...');",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f1",
      "text": "   }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f2",
      "text": " }",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f3",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f4",
      "text": "[https://wizardace.com/d3-linechart-base/ D3.js v4/v5 折れ線グラフ(line chart)の作り方 – データビジュアライゼーション・ラボ]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f5",
      "text": "code:d3script.js",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f6",
      "text": " // https://wizardace.com/d3-linechart-base/ より",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f7",
      "text": " // 1. データの準備",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f8",
      "text": " const dataset = [",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5f9",
      "text": "   [5, 20],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5fa",
      "text": "   [25, 67],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5fb",
      "text": "   [85, 21],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5fc",
      "text": "   [100, 33],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5fd",
      "text": "   [220, 88],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5fe",
      "text": "   [250, 50],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a5ff",
      "text": "   [330, 95],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a600",
      "text": "   [410, 12],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a601",
      "text": "   [475, 44],",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a602",
      "text": "   [480, 90]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a603",
      "text": " ];  ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a604",
      "text": " const width = 400; // グラフの幅",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a605",
      "text": " const height = 300; // グラフの高さ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a606",
      "text": " const margin = { \"top\": 30, \"bottom\": 60, \"right\": 30, \"left\": 60 };",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a607",
      "text": "  ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a608",
      "text": " // 2. SVG領域の設定",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a609",
      "text": " const svg = d3.select(\"#editor\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60a",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60b",
      "text": " // 3. 軸スケールの設定",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60c",
      "text": " const xScale = d3.scaleLinear()",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60d",
      "text": "   .domain([0, d3.max(dataset, (d) => { return d[0]; })])",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60e",
      "text": "   .range([margin.left, width - margin.right]);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a60f",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a610",
      "text": " const yScale = d3.scaleLinear()",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a611",
      "text": "   .domain([0, d3.max(dataset, (d) => { return d[1]; })])",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a612",
      "text": "   .range([height - margin.bottom, margin.top]);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a613",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a614",
      "text": " // 4. 軸の表示",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a615",
      "text": " const axisx = d3.axisBottom(xScale).ticks(5);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a616",
      "text": " const axisy = d3.axisLeft(yScale).ticks(5);",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a617",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a618",
      "text": " svg.append(\"g\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a619",
      "text": "   .attr(\"transform\", \"translate(\" + 0 + \",\" + (height - margin.bottom) + \")\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61a",
      "text": "   .call(axisx)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61b",
      "text": "   .append(\"text\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61c",
      "text": "   .attr(\"fill\", \"black\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61d",
      "text": "   .attr(\"x\", (width - margin.left - margin.right) / 2 + margin.left)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61e",
      "text": "   .attr(\"y\", 35)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a61f",
      "text": "   .attr(\"text-anchor\", \"middle\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a620",
      "text": "   .attr(\"font-size\", \"10pt\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a621",
      "text": "   .attr(\"font-weight\", \"bold\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a622",
      "text": "   .text(\"X 軸\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a623",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a624",
      "text": " svg.append(\"g\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a625",
      "text": "   .attr(\"transform\", \"translate(\" + margin.left + \",\" + 0 + \")\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a626",
      "text": "   .call(axisy)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a627",
      "text": "   .append(\"text\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a628",
      "text": "   .attr(\"fill\", \"black\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a629",
      "text": "   .attr(\"text-anchor\", \"middle\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62a",
      "text": "   .attr(\"x\", -(height - margin.top - margin.bottom) / 2 - margin.top)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62b",
      "text": "   .attr(\"y\", -35)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62c",
      "text": "   .attr(\"transform\", \"rotate(-90)\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62d",
      "text": "   .attr(\"font-weight\", \"bold\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62e",
      "text": "   .attr(\"font-size\", \"10pt\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a62f",
      "text": "   .text(\"Y 軸\");",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a630",
      "text": " ",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a631",
      "text": " // 5. ラインの表示",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a632",
      "text": " svg.append(\"path\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a633",
      "text": "   .datum(dataset)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a634",
      "text": "   .attr(\"fill\", \"none\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a635",
      "text": "   .attr(\"stroke\", \"steelblue\")",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a636",
      "text": "   .attr(\"stroke-width\", 1.5)",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a637",
      "text": "   .attr(\"d\", d3.line()",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a638",
      "text": "     .x((d) => { return xScale(d[0]); })",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a639",
      "text": "     .y((d) => { return yScale(d[1]); })",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a63a",
      "text": "   );",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a63b",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a63c",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a63d",
      "text": "[*** [d3-script-button.icon]] ←実行ボタン",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5815b98c20000f4a63e",
      "text": "[js-script-button.icon]",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259533
    },
    {
      "id": "5fccd5815b98c20000f4a63f",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259522,
      "updated": 1607259522
    },
    {
      "id": "5fccd5b55b98c20000f4a640",
      "text": "#UserScript",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259574,
      "updated": 1607259620
    },
    {
      "id": "5fccd5e35b98c20000f4a641",
      "text": "#icon-button",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1607259620,
      "updated": 1607259620
    }
  ]
}