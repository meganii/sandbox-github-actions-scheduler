{
  "id": "6567fe9eca35870024fa074a",
  "title": "井戸端から自分の書いたものだけフィルターしたい",
  "created": 1701314207,
  "updated": 1701320451,
  "lines": [
    {
      "id": "6567fe9eca35870024fa074a",
      "text": "井戸端から自分の書いたものだけフィルターしたい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314207
    },
    {
      "id": "6567fe9eaff09e0000e19dbc",
      "text": "from [nishio/from_scrapbox]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314207
    },
    {
      "id": "6567fe9eaff09e0000e19dbd",
      "text": "井戸端から自分の書いたものだけフィルターしたい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314207
    },
    {
      "id": "6567fee4aff09e00006514fb",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314276,
      "updated": 1701314276
    },
    {
      "id": "6567ff05aff09e0000e19e13",
      "text": "のりしろ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314310,
      "updated": 1701314314
    },
    {
      "id": "6567fe9eaff09e0000e19dbe",
      "text": "\t井戸端から自分の書いたものだけフィルターしたいと思って実装し掛けたメモ[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314309
    },
    {
      "id": "6567fe9eaff09e0000e19dbf",
      "text": "　色々予定外のことがあったので一旦保留にした",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314291
    },
    {
      "id": "6567fef3aff09e00006514fc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314291,
      "updated": 1701314291
    },
    {
      "id": "6567fef3aff09e00006514fd",
      "text": "----",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314291,
      "updated": 1701314307
    },
    {
      "id": "6567fe9eaff09e0000e19dc0",
      "text": "多人数プロジェクトからのデータを元に、色々な条件で抽出する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc3",
      "text": "\t特に「自分が書いたもの」条件が有力候補",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc4",
      "text": "\t色々な条件の指定が容易なように作る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc5",
      "text": "\tScrapboxのJSONに「行を最初に作った人のID」は入ってるのだろうか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc6",
      "text": "\t　入ってるなら「自分が作った行」を抽出するのが良さそう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc7",
      "text": "\t　最後に編集した人のIDしかありません[takker.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc8",
      "text": "　\t　[api/page-snapshots/:projectname/:pageid]からなら、ある程度復元できるかもしれません",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dc9",
      "text": "\t\t\t残念[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dca",
      "text": "\t[shoya140.icon]の[井戸端日記帳]を参考にする",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dcb",
      "text": "\t\treading...",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dcc",
      "text": "\t\thttps://github.com/shoya140/sbxd/blob/main/.github/workflows/fetch-all-data.yml",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dcd",
      "text": "\t\tfetchしたデータは/contentsに置かれる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dce",
      "text": "\t\t\tfetchとかは`package.json`で`\"fetch\": \"node scripts/fetch-sbx-data.js\"`されてる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dcf",
      "text": "\t\t`static_site_generator: next` ほ〜〜",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd0",
      "text": "\t\t\t`next export`でStatic Siteを作って、jobs: deployでGithub Pagesでの公開をしてる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd1",
      "text": "\t\tnextのpagesの中でコンテンツをレンダーしてる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd2",
      "text": "\t\tそのコンテンツはここからくる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd3",
      "text": "\t\t\thttps://github.com/shoya140/sbxd/blob/main/lib/contents.js",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd4",
      "text": "\t\t\t/contentsに置いたやつをfsで読んでる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd5",
      "text": "\t\t`fileName.match(RegExp('(\\\\S+)__' + query + '.+\\\\.txt$'))`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd6",
      "text": "\t\t\tqueryは`const contents = getContents(`${params.year}-${params.month}`)`の形 [src https://github.com/shoya140/sbxd/blob/main/pages/%5Byear%5D/%5Bmonth%5D.js#L30]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd7",
      "text": "\t\t\tfilenameは`path.join(process.cwd(), 'contents', `${projectId}__${dateString}.txt`),`の形 [src https://github.com/shoya140/sbxd/blob/main/scripts/utils.js#L38C7-L38C79]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd8",
      "text": "\t\tfetchは[config https://github.com/shoya140/sbxd/blob/main/sbxd.config.js]で指定された日時範囲を日記フォーマットを仮定して取得する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dd9",
      "text": "\t\t`path.parse(fileName).name.slice(-10)`はfilename to date",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dda",
      "text": "\t\tgetContent自体は`'@progfay/scrapbox-parser'`でparseしたものを返してる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19ddb",
      "text": "\t\tあ、なるほど",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19ddc",
      "text": "\t\t\t[utils.js https://github.com/shoya140/sbxd/blob/main/scripts/utils.js#L20]で「自分のアイコンだけが置かれた行」から空行までの範囲をフィルターしてるのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19ddd",
      "text": "\t\t\tこれは僕の目的にはあんまりマッチしないな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19dde",
      "text": "　想定してた方法が二つともダメだったのでフィルター方法を改めて考える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19ddf",
      "text": "　　行に作成者IDがついてないので「自分が作成した行を取り出す」ができない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de0",
      "text": "　　　アイコンを重ねられただけで取得不可能になるから",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de1",
      "text": "　　[アイコン前置き記法]を前提としたフィルターは、そのフォーマットに従ってる日記からの切り出しにはいいが、今回僕が達成したいのは「自分が関与した議論を、手動で自分のScrapboxにコピーしたりせずに記録や検索や英訳の対象にしたい」なのでワークしない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de2",
      "text": "　　「自分が作成したページ」は狭い",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de3",
      "text": "　　　十分条件",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de4",
      "text": "　　「自分のアイコンがついてるページ」だと、他の人の日記なども全部巻き込んでしまう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de5",
      "text": "　　自分の活動データの保全という意味では自分の更新した行があるページを全部保存対象にした上で、後で内容や分量によるフィルタリングかな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de6",
      "text": "　とりあえず「自分が作成したページ」にして、プラスconfigで対象ページを指定かな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de7",
      "text": "　　「自分が作ったわけじゃないけど面白い議論がされてるページ」をブックマークする感じ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567fe9eaff09e0000e19de8",
      "text": "　これをパスして下流に進むかどうか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314305
    },
    {
      "id": "6567feafaff09e0000e19e12",
      "text": "　　[井戸端データを分析する]した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314223,
      "updated": 1701314305
    },
    {
      "id": "65681554aff09e0000651524",
      "text": "　　「自分のアイコンがついているページ」が広く拾うには良い、という結論になった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320021,
      "updated": 1701320092
    },
    {
      "id": "65681574aff09e0000651525",
      "text": "　　トップページの[modified with icon]とも整合する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320052,
      "updated": 1701320078
    },
    {
      "id": "6568158faff09e0000651526",
      "text": "　　[\" 「自分が作ったわけじゃないけど面白い議論がされてるページ」をブックマークする感じ]これも別のデータを管理するのではなく、そのページに「面白い[nishio.icon]」とか書けば良い",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320079,
      "updated": 1701320156
    },
    {
      "id": "65681644aff09e0000651527",
      "text": "　　で、その拾い方だと「日記ページで自分が言及してない他人の日記まで拾うことになる、自分の書き込みは1割程度なのに」が発生する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320261,
      "updated": 1701320321
    },
    {
      "id": "65681681aff09e0000651528",
      "text": "　　　これに関しても「井戸端の日記だけクラスターとして特殊」ということがわかっているので、日記だけ特別扱いすればよい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320321,
      "updated": 1701320401
    },
    {
      "id": "656816d1aff09e0000651529",
      "text": "　　　空行でチャンクに分けてからそれぞれで自分のアイコンがあるかどうかを判定する、など",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320401,
      "updated": 1701320438
    },
    {
      "id": "656816f5aff09e000065152a",
      "text": "　　　　これはビューの側で畳むのでもよいかも？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701320438,
      "updated": 1701320451
    },
    {
      "id": "6567fe9eaff09e0000e19e11",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1701314207,
      "updated": 1701314207
    }
  ]
}