{
  "id": "6744303f3e63ad7d4346d76b",
  "title": "scrapboxのcsp",
  "created": 1732522068,
  "updated": 1732522671,
  "lines": [
    {
      "id": "6744303f3e63ad7d4346d76b",
      "text": "scrapboxのcsp",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522068,
      "updated": 1732522068
    },
    {
      "id": "6744305471b3c20000f77396",
      "text": "[scrapbox]の[httpヘッダー]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522069,
      "updated": 1732522074
    },
    {
      "id": "6744305471b3c20000f77397",
      "text": "code:header",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522070,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f77399",
      "text": " HTTP/1.1 200 OK",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f7739a",
      "text": " Server: Cowboy",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522318
    },
    {
      "id": "6744305e71b3c20000f7739b",
      "text": " Report-To: {\"group\":\"heroku-nel\",\"max_age\":3600,\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?ts=1732522001&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&s=DrCafI0n0pE4p%2BsdQKQSXI6FjTa%2BvbhnZWJxtvqnMAg%3D\"}]}",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f7739c",
      "text": " Reporting-Endpoints: heroku-nel=https://nel.heroku.com/reports?ts=1732522001&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&s=DrCafI0n0pE4p%2BsdQKQSXI6FjTa%2BvbhnZWJxtvqnMAg%3D",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f7739d",
      "text": " Nel: {\"report_to\":\"heroku-nel\",\"max_age\":3600,\"success_fraction\":0.005,\"failure_fraction\":0.05,\"response_headers\":[\"Via\"]}",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f7739e",
      "text": " Connection: keep-alive",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f7739f",
      "text": " Strict-Transport-Security: max-age=63072000; preload",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a0",
      "text": " X-Xss-Protection: 1; mode=block",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a1",
      "text": " X-Content-Type-Options: nosniff",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a2",
      "text": " X-Frame-Options: SAMEORIGIN",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a3",
      "text": " Referrer-Policy: same-origin",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a4",
      "text": " Content-Security-Policy: connect-src 'self' i.gyazo.com t.gyazo.com wss://scrapbox.io api.openai.com *.openai.azure.com maps.googleapis.com bedrock.ap-northeast-1.amazonaws.com bedrock-runtime.ap-northeast-1.amazonaws.com bedrock-agent.ap-northeast-1.amazonaws.com bedrock-agent-runtime.ap-northeast-1.amazonaws.com https://upload.gyazo.com https://storage.googleapis.com https://sentry.io; default-src 'self'; font-src 'self' cdnjs.cloudflare.com fonts.gstatic.com; frame-src 'self' www.google.com www.youtube.com player.vimeo.com anchor.fm podcasters.spotify.com embed-standalone.spotify.com gyazo.com *.gyazo.com dashboard.helpfeel.com js.stripe.com; img-src * data: blob:; media-src *; script-src 'self' cdnjs.cloudflare.com maps.googleapis.com 'unsafe-eval' helpfeel-tweaks.helpfeel.com js.stripe.com www.google.com www.gstatic.com; style-src 'self' fonts.googleapis.com cdnjs.cloudflare.com 'unsafe-inline'; worker-src 'self'; form-action 'self'; upgrade-insecure-requests",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a5",
      "text": " X-Content-Security-Policy: connect-src 'self' i.gyazo.com t.gyazo.com wss://scrapbox.io api.openai.com *.openai.azure.com maps.googleapis.com bedrock.ap-northeast-1.amazonaws.com bedrock-runtime.ap-northeast-1.amazonaws.com bedrock-agent.ap-northeast-1.amazonaws.com bedrock-agent-runtime.ap-northeast-1.amazonaws.com https://upload.gyazo.com https://storage.googleapis.com https://sentry.io; default-src 'self'; font-src 'self' cdnjs.cloudflare.com fonts.gstatic.com; frame-src 'self' www.google.com www.youtube.com player.vimeo.com anchor.fm podcasters.spotify.com embed-standalone.spotify.com gyazo.com *.gyazo.com dashboard.helpfeel.com js.stripe.com; img-src * data: blob:; media-src *; script-src 'self' cdnjs.cloudflare.com maps.googleapis.com 'unsafe-eval' helpfeel-tweaks.helpfeel.com js.stripe.com www.google.com www.gstatic.com; style-src 'self' fonts.googleapis.com cdnjs.cloudflare.com 'unsafe-inline'; worker-src 'self'; form-action 'self'; upgrade-insecure-requests",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a6",
      "text": " X-Webkit-Csp: connect-src 'self' i.gyazo.com t.gyazo.com wss://scrapbox.io api.openai.com *.openai.azure.com maps.googleapis.com bedrock.ap-northeast-1.amazonaws.com bedrock-runtime.ap-northeast-1.amazonaws.com bedrock-agent.ap-northeast-1.amazonaws.com bedrock-agent-runtime.ap-northeast-1.amazonaws.com https://upload.gyazo.com https://storage.googleapis.com https://sentry.io; default-src 'self'; font-src 'self' cdnjs.cloudflare.com fonts.gstatic.com; frame-src 'self' www.google.com www.youtube.com player.vimeo.com anchor.fm podcasters.spotify.com embed-standalone.spotify.com gyazo.com *.gyazo.com dashboard.helpfeel.com js.stripe.com; img-src * data: blob:; media-src *; script-src 'self' cdnjs.cloudflare.com maps.googleapis.com 'unsafe-eval' helpfeel-tweaks.helpfeel.com js.stripe.com www.google.com www.gstatic.com; style-src 'self' fonts.googleapis.com cdnjs.cloudflare.com 'unsafe-inline'; worker-src 'self'; form-action 'self'; upgrade-insecure-requests",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a7",
      "text": " X-Assets-Version: assets-20241123-192242",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a8",
      "text": " Content-Type: text/html; charset=utf-8",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773a9",
      "text": " Content-Length: 5968",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773aa",
      "text": " Etag: W/\"1750-LViSML1PsNCvmKXgpcK4a0h/ETg\"",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773ab",
      "text": " Vary: Accept-Encoding",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773ac",
      "text": " Set-Cookie: connect.sid=s%3ADRkQibBuWln8e09n5bK82cwjEMa7GdMO.PeeRk5IBvefBH77uHL2ZeWlAbJyP%2Bq3XUJh9C9VpsU0; Path=/; Expires=Fri, 24 Jan 2025 08:06:41 GMT; HttpOnly; Secure",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773ad",
      "text": " Date: Mon, 25 Nov 2024 08:06:41 GMT",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744305e71b3c20000f773ae",
      "text": " Via: 1.1 vegur",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522078
    },
    {
      "id": "6744317071b3c20000f773e2",
      "text": "curlで特にconnect.sid設定などせずに書いたのでヘッダー全部のせて大丈夫なはず",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522352,
      "updated": 1732522383
    },
    {
      "id": "6744319671b3c20000f773e3",
      "text": "\tログイン前からsid発行するんだ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522391,
      "updated": 1732522397
    },
    {
      "id": "6744305e71b3c20000f773af",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522078,
      "updated": 1732522080
    },
    {
      "id": "6744305c71b3c20000f77398",
      "text": "これがCSP",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522077,
      "updated": 1732522122
    },
    {
      "id": "6744308a71b3c20000f773b3",
      "text": "\tcode:csp",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522122,
      "updated": 1732522125
    },
    {
      "id": "6744308c71b3c20000f773b4",
      "text": "\t  Content-Security-Policy: connect-src 'self' i.gyazo.com t.gyazo.com wss://scrapbox.io api.openai.com *.openai.azure.com maps.googleapis.com bedrock.ap-northeast-1.amazonaws.com bedrock-runtime.ap-northeast-1.amazonaws.com bedrock-agent.ap-northeast-1.amazonaws.com bedrock-agent-runtime.ap-northeast-1.amazonaws.com https://upload.gyazo.com https://storage.googleapis.com https://sentry.io; default-src 'self'; font-src 'self' cdnjs.cloudflare.com fonts.gstatic.com; frame-src 'self' www.google.com www.youtube.com player.vimeo.com anchor.fm podcasters.spotify.com embed-standalone.spotify.com gyazo.com *.gyazo.com dashboard.helpfeel.com js.stripe.com; img-src * data: blob:; media-src *; script-src 'self' cdnjs.cloudflare.com maps.googleapis.com 'unsafe-eval' helpfeel-tweaks.helpfeel.com js.stripe.com www.google.com www.gstatic.com; style-src 'self' fonts.googleapis.com cdnjs.cloudflare.com 'unsafe-inline'; worker-src 'self'; form-action 'self'; upgrade-insecure-requests",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522125,
      "updated": 1732522125
    },
    {
      "id": "6744308e71b3c20000f773b5",
      "text": "\t分解する",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522126,
      "updated": 1732522133
    },
    {
      "id": "6744309571b3c20000f773b6",
      "text": "\t Content-Security-Policy:",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522133,
      "updated": 1732522141
    },
    {
      "id": "6744309c71b3c20000f773b7",
      "text": "\t  connect-src ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522141,
      "updated": 1732522204
    },
    {
      "id": "674430dc71b3c20000f773bf",
      "text": "\t   'self' ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522204,
      "updated": 1732522207
    },
    {
      "id": "674430df71b3c20000f773c0",
      "text": "\t   i.gyazo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522207,
      "updated": 1732522210
    },
    {
      "id": "674430e171b3c20000f773c1",
      "text": "\t   t.gyazo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522210,
      "updated": 1732522211
    },
    {
      "id": "674430e271b3c20000f773c2",
      "text": "\t   wss://scrapbox.io ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522211,
      "updated": 1732522212
    },
    {
      "id": "674430e471b3c20000f773c3",
      "text": "\t   api.openai.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522212,
      "updated": 1732522215
    },
    {
      "id": "674430e771b3c20000f773c4",
      "text": "\t   *.openai.azure.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522215,
      "updated": 1732522220
    },
    {
      "id": "674430ec71b3c20000f773c6",
      "text": "\t   maps.googleapis.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522220,
      "updated": 1732522222
    },
    {
      "id": "674430ee71b3c20000f773c7",
      "text": "\t   bedrock.ap-northeast-1.amazonaws.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522222,
      "updated": 1732522224
    },
    {
      "id": "674430f071b3c20000f773c8",
      "text": "\t   bedrock-runtime.ap-northeast-1.amazonaws.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522224,
      "updated": 1732522226
    },
    {
      "id": "674430f271b3c20000f773c9",
      "text": "\t   bedrock-agent.ap-northeast-1.amazonaws.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522226,
      "updated": 1732522228
    },
    {
      "id": "674430f371b3c20000f773ca",
      "text": "\t   bedrock-agent-runtime.ap-northeast-1.amazonaws.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522228,
      "updated": 1732522231
    },
    {
      "id": "674430f771b3c20000f773cb",
      "text": "\t   https://upload.gyazo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522231,
      "updated": 1732522234
    },
    {
      "id": "674430fa71b3c20000f773cc",
      "text": "\t   https://storage.googleapis.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522234,
      "updated": 1732522236
    },
    {
      "id": "674430fc71b3c20000f773cd",
      "text": "\t   https://sentry.io ; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522236,
      "updated": 1732522236
    },
    {
      "id": "674430cc71b3c20000f773be",
      "text": "\t  default-src 'self';",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522188,
      "updated": 1732522188
    },
    {
      "id": "674430ae71b3c20000f773b8",
      "text": "\t  font-src 'self' cdnjs.cloudflare.com fonts.gstatic.com;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522158,
      "updated": 1732522164
    },
    {
      "id": "674430b471b3c20000f773b9",
      "text": "\t  frame-src 'self' ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522164,
      "updated": 1732522250
    },
    {
      "id": "6744310a71b3c20000f773ce",
      "text": "\t   www.google.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522250,
      "updated": 1732522252
    },
    {
      "id": "6744310c71b3c20000f773cf",
      "text": "\t   www.youtube.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522252,
      "updated": 1732522254
    },
    {
      "id": "6744310e71b3c20000f773d0",
      "text": "\t   player.vimeo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522254,
      "updated": 1732522256
    },
    {
      "id": "6744310f71b3c20000f773d1",
      "text": "\t   anchor.fm ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522256,
      "updated": 1732522257
    },
    {
      "id": "6744311171b3c20000f773d2",
      "text": "\t   podcasters.spotify.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522257,
      "updated": 1732522259
    },
    {
      "id": "6744311371b3c20000f773d3",
      "text": "\t   embed-standalone.spotify.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522259,
      "updated": 1732522261
    },
    {
      "id": "6744311471b3c20000f773d4",
      "text": "\t   gyazo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522261,
      "updated": 1732522263
    },
    {
      "id": "6744311771b3c20000f773d5",
      "text": "\t   *.gyazo.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522263,
      "updated": 1732522264
    },
    {
      "id": "6744311871b3c20000f773d6",
      "text": "\t   dashboard.helpfeel.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522264,
      "updated": 1732522265
    },
    {
      "id": "6744311971b3c20000f773d7",
      "text": "\t   js.stripe.com; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522265,
      "updated": 1732522272
    },
    {
      "id": "6744311f71b3c20000f773d8",
      "text": "\t  img-src * data: blob:; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522272,
      "updated": 1732522279
    },
    {
      "id": "6744312671b3c20000f773d9",
      "text": "\t  media-src *; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522279,
      "updated": 1732522281
    },
    {
      "id": "6744312871b3c20000f773da",
      "text": "\t  script-src 'self' ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522281,
      "updated": 1732522285
    },
    {
      "id": "6744312c71b3c20000f773db",
      "text": "\t   cdnjs.cloudflare.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522285,
      "updated": 1732522287
    },
    {
      "id": "6744312f71b3c20000f773dc",
      "text": "\t   maps.googleapis.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522287,
      "updated": 1732522289
    },
    {
      "id": "6744313171b3c20000f773dd",
      "text": "\t   'unsafe-eval' ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522289,
      "updated": 1732522291
    },
    {
      "id": "6744313271b3c20000f773de",
      "text": "\t   helpfeel-tweaks.helpfeel.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522291,
      "updated": 1732522292
    },
    {
      "id": "6744313471b3c20000f773df",
      "text": "\t   js.stripe.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522292,
      "updated": 1732522294
    },
    {
      "id": "6744313571b3c20000f773e0",
      "text": "\t   www.google.com ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522294,
      "updated": 1732522295
    },
    {
      "id": "6744313771b3c20000f773e1",
      "text": "\t   www.gstatic.com; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522295,
      "updated": 1732522295
    },
    {
      "id": "674430b971b3c20000f773ba",
      "text": "\t  style-src 'self' fonts.googleapis.com cdnjs.cloudflare.com 'unsafe-inline'; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522170,
      "updated": 1732522174
    },
    {
      "id": "674430be71b3c20000f773bc",
      "text": "\t  worker-src 'self'; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522174,
      "updated": 1732522174
    },
    {
      "id": "674430bd71b3c20000f773bb",
      "text": "\t  form-action 'self'; ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522174,
      "updated": 1732522178
    },
    {
      "id": "674430c271b3c20000f773bd",
      "text": "\t  upgrade-insecure-requests",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522178,
      "updated": 1732522178
    },
    {
      "id": "6744308871b3c20000f773b2",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732522120,
      "updated": 1732522120
    },
    {
      "id": "674432ae1280f0000022fb6e",
      "text": "[/ci7lus/たのしいScrapboxUserScript]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732522670,
      "updated": 1732522671
    },
    {
      "id": "674432af1280f0000022fb6f",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732522671,
      "updated": 1732522671
    }
  ]
}