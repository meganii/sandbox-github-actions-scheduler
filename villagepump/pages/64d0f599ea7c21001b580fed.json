{
  "id": "64d0f599ea7c21001b580fed",
  "title": "長いページから出るときが重い",
  "created": 1691415962,
  "updated": 1691494590,
  "lines": [
    {
      "id": "64d0f599ea7c21001b580fed",
      "text": "長いページから出るときが重い",
      "userId": "5c30ba88e98efe0017e5172d",
      "created": 1691415962,
      "updated": 1691415962
    },
    {
      "id": "64d13447ed60e60000608fb0",
      "text": "from [2023/07/28]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432009
    },
    {
      "id": "64d13447ed60e60000608fb1",
      "text": "\t日記ページ重すぎて遷移に時間かかる[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb3",
      "text": "\t\t切り出しの基準を考えたほうがいいなこれ",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432204
    },
    {
      "id": "64d13447ed60e60000608fb4",
      "text": "\t\t\t切り出し基準に達したときに警告するCSSはあってもよさそう",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb5",
      "text": "\t\t\t\t近いやつ: [インデントが深くなったときにクオリアさんが警告するCSS]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb6",
      "text": "\t\t\t\t日記ページが一定行数を超えると自動的に並列日記を作るとか[nishio.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb7",
      "text": "\t\t\t\t\t書き込む時の分ける大変さを考えると、書き込んだ後に切り出したいなぁ[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb8",
      "text": "\t\t\t\t\t行をはやみ切り出しされる井戸日記われても末に合はむとぞ思ふ[yits-khawk'9483.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fb9",
      "text": "\t\t[並列日記]が一時期流行ってた[inajob.icon][yits-khawk'9483.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13529ed60e600007f9d2f",
      "text": "\t\t\t余談: そして[2023/07/29 🍖～Κατά Ἰσαάκ Ευαγγέλιον～]が生まれる",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432235,
      "updated": 1691432275
    },
    {
      "id": "64d13447ed60e60000608fba",
      "text": "\t\t\tこれは書き込むときに分ける大変さがある[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fbb",
      "text": "\t\t\t[皆で一箇所に書き散らしたあとでまとめたい]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432024
    },
    {
      "id": "64d13447ed60e60000608fbc",
      "text": " \t[/villagepump/]からホームに戻る時は重いのか",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432009
    },
    {
      "id": "64d13447ed60e60000608fbd",
      "text": " \t\t重くない (別タブが開く)",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432009,
      "updated": 1691432009
    },
    {
      "id": "64d13436ed60e60000608fa1",
      "text": "",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691431992,
      "updated": 1691431992
    },
    {
      "id": "64d134c8ed60e600007f9cd0",
      "text": "from [2023/07/29]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd2",
      "text": "\t日記ページが重くなる原因を探る[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd3",
      "text": "\t\t文が多いからか",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd4",
      "text": "\t\tリンクが多いからか",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd5",
      "text": "\t\t個人プロジェクトに文が多いページとリンクが多いページを作って実験する",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd6",
      "text": "\t\t\t重さのファクターは井戸端固有のものにある",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd7",
      "text": "\t\t\t\t以下のページを個人プロジェクトに作成。結果は重くない",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd8",
      "text": "\t\t\t\tリンク: 既存の全ページ (210ページ) にリンクするページ",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cd9",
      "text": "\t\t\t\t\tアイコン記法でのリンクも貼ったのでリンク数は420",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cda",
      "text": "\t\t\t\t被リンク: 30ページからリンクされてるページ",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cdb",
      "text": "\t\t\t\t2hop-link: 作るのがめんどくさい[() TODO]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cdc",
      "text": "\t\t\t\t長文: [2023/07/28]を全文コピペしたページ",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cdd",
      "text": "\t\t\t井戸端固有",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cde",
      "text": "\t\t\t\t井戸端の[Summer498.icon]の UserScript を無効化",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cdf",
      "text": "\t\t\t\t\t重いページは重いまま (原因ではない)",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce0",
      "text": "\t\t\t\t井戸端の bundled CSS を個人プロジェクトにコピー",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce1",
      "text": "\t\t\t\t\tちょっと重い",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce2",
      "text": "\t重いページ[$ \\cal H_{\\rm eavy}]から別のページに遷移する時が重いな[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce3",
      "text": "\t\t入るときに重いんじゃなくて、出るときに重いのが謎すぎる",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce4",
      "text": "\t\t消すのに時間がかかっている？",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce5",
      "text": "\t\t「井戸端」のボタンを押してHome に戻る時は重くない",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce6",
      "text": " \t[/villagepump/]からホームに戻る時は重いのか?",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce7",
      "text": " \t\t重くない (というか別タブが開く)",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce8",
      "text": " \t同一タブ内で遷移するのに時間がかかるな",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ce9",
      "text": " \t\t外部リンクは別タブなので重くない",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cea",
      "text": "\t\tこの大量にあるDOMが原因かと思ってた[Mijinko_SD.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ceb",
      "text": "\t\t\t[https://gyazo.com/61b3ac18672c1205066f2d212b4596a6]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cec",
      "text": "   特に[今までに開発されたUserScript]は文字、リンク、アイコンすべてが多いのでとてつもなく重い[yuyasurarin.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9ced",
      "text": "\t\t\t\tそのページは離脱時は日記の離脱時ほど重くない[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cee",
      "text": "\t\t\t\t\t読み込み時は日記の読み込み時より重いかも",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cef",
      "text": "\t\t\t\tもしくは[関連ページリスト]が重たい？[Mijinko_SD.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cf0",
      "text": "\t\t\t\t\t[- スマホで開いたら全てのページが重たいからよくわからん]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cf1",
      "text": "\t\t\t\t\tとりあえず今はこれだと思ってる[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134c8ed60e600007f9cf2",
      "text": "",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432138,
      "updated": 1691432138
    },
    {
      "id": "64d134dded60e600007f9d20",
      "text": "from [2023/08/06]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d21",
      "text": " 前も言及されていた気がするが、やはり[長いページ]は入るときではなく出るときが重い[yosider.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d22",
      "text": " 　なんでだろう",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d23",
      "text": " 　[開発コンソール]のパフォーマンス測定をやってみるとわかりそう[takker.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d24",
      "text": " 　　ページを出る時に一番時間を食っている函数を特定する",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d25",
      "text": " 　　UserScriptの可能性もある",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d26",
      "text": " 　　　もしそうならそれは[takker.icon]製の疑いが高い",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d27",
      "text": " 　　\tUserScript 全部切って試しても出る時重かったから多分違う[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d28",
      "text": " \t\t[https://gyazo.com/c2965c6ad8874a4c84c60e8e8f4420de][Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d29",
      "text": " \t\t\t`removeChild` でほとんどの時間を食ってる",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d2a",
      "text": "   \t\tへぇ～～[yosider.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d2b",
      "text": "   \t\t そもそも40秒以上かかっている…!?",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d1358aed60e600007f9d30",
      "text": "   \t\t 全体で50秒位でした[Summer498.icon]",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432332,
      "updated": 1691432343
    },
    {
      "id": "64d134dded60e600007f9d2c",
      "text": "  \t\t\tそんなことだろうという感じはあったけど",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d2d",
      "text": "  \t\t\t\tページから抜けるときにページコンテンツのDOMを全部消してる?",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d134dded60e600007f9d2e",
      "text": "   \t\t\t何でそんなプログラムになってるんだろう",
      "userId": "6436266c7ac3c0001bed60e6",
      "created": 1691432159,
      "updated": 1691432159
    },
    {
      "id": "64d178c65f1e0d000090c7d9",
      "text": "   \t\t\t参考：[SPA][/shokai/ServiceWorkerとCacheによるSPAの高速化、オフラインモード][yuyasurarin.icon]",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1691449543,
      "updated": 1691494590
    },
    {
      "id": "64d1c8f01280f000003a32bd",
      "text": "   \t\t\t[仮想DOM]の差分検知が最悪計算量になるパターンなのかも[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470065,
      "updated": 1691470104
    },
    {
      "id": "64d1c92c1280f000003a32c5",
      "text": "   \t差分検知で全てのDOMを一個ずつ消すプロセスを採用されてしまっているなら、これで対処可能かも[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470125,
      "updated": 1691470168
    },
    {
      "id": "64d1c92b1280f000003a32bf",
      "text": "     code:js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d1c92b1280f000003a32c0",
      "text": "      scrapbox.addListener(\"page:changed\", () => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d1c92b1280f000003a32c1",
      "text": "        const lines = document.getElementById(\"editor\")",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d1c92b1280f000003a32c2",
      "text": "          .getElementsByClassName(\"lines\")?.[0];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d1c92b1280f000003a32c3",
      "text": "        if (lines) lines.textContent = \"\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d1c92b1280f000003a32c4",
      "text": "      });",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1691470124,
      "updated": 1691470169
    },
    {
      "id": "64d178cb5f1e0d000090c7da",
      "text": "",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1691449548,
      "updated": 1691449548
    }
  ]
}