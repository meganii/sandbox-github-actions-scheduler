{
  "id": "674457b00abf7bb07a8bcee5",
  "title": "deno jupyter",
  "created": 1732532149,
  "updated": 1732536948,
  "lines": [
    {
      "id": "674457b00abf7bb07a8bcee5",
      "text": "deno jupyter",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532149,
      "updated": 1732532149
    },
    {
      "id": "674457b471b3c20000f8543e",
      "text": "[deno]で[Jupyter Lab]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532149,
      "updated": 1732532164
    },
    {
      "id": "674457c471b3c20000f85440",
      "text": "https://deno.com/blog/v1.37",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532165,
      "updated": 1732532170
    },
    {
      "id": "674457ca71b3c20000f85441",
      "text": "要約",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532171,
      "updated": 1732532173
    },
    {
      "id": "674457cd71b3c20000f85442",
      "text": "\t1. `pip install jupyterlab`でjupyterを入れる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532173,
      "updated": 1732532186
    },
    {
      "id": "6744580871b3c20000f85444",
      "text": "\t\tpython3が必要",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532233,
      "updated": 1732532244
    },
    {
      "id": "674457da71b3c20000f85443",
      "text": "\t2. `deno jupyter --install`でdeno jupyterをインストール",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532186,
      "updated": 1732532339
    },
    {
      "id": "674458f971b3c20000f85445",
      "text": "\t`jupyter lab --kernel deno`で起動",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532474,
      "updated": 1732532478
    },
    {
      "id": "674457b471b3c20000f8543f",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732532149,
      "updated": 1732532149
    },
    {
      "id": "67445f9771b3c20000f85446",
      "text": "[https://gyazo.com/97d27ff2614a0af1ceb2c6c60c29d47e]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732534167,
      "updated": 1732534171
    },
    {
      "id": "67445f9b71b3c20000f85447",
      "text": "\tどうすればいいの...[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732534171,
      "updated": 1732534178
    },
    {
      "id": "6744607371b3c20000f85449",
      "text": "\t仕方なくawaitを使った",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732534387,
      "updated": 1732534392
    },
    {
      "id": "6744607871b3c20000f8544a",
      "text": "\t[https://gyazo.com/9ab271289753015123d1dd662dfe08e6]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732534392,
      "updated": 1732534393
    },
    {
      "id": "6744676371b3c20000f8544c",
      "text": "\t[https://gyazo.com/979e3b2b8eae85fdd4117f0de57ffc17]で行けた",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536163,
      "updated": 1732536168
    },
    {
      "id": "6744676771b3c20000f8544e",
      "text": "\t\tcode:js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536168,
      "updated": 1732536533
    },
    {
      "id": "674468d471b3c20000f8544f",
      "text": "\t\t import pl from \"npm:nodejs-polars\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85450",
      "text": "   import { display } from \"https://deno.land/x/display@v1.1.1/mod.ts\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85451",
      "text": "   function convertStreamToString(readableStream: ReadableStream<Uint8Array>) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85452",
      "text": "     const reader = readableStream",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85453",
      "text": "       .pipeThrough(new TextDecoderStream())",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85454",
      "text": "       .getReader();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85455",
      "text": "     let result = \"\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85456",
      "text": "     function processText(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85457",
      "text": "       chunk: ReadableStreamReadResult<string>,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85458",
      "text": "     ): Promise<string> {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85459",
      "text": "       if (chunk.done) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545a",
      "text": "         return Promise.resolve(result);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545b",
      "text": "       }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545c",
      "text": "       result += chunk.value;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545d",
      "text": "       return reader.read().then(processText);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545e",
      "text": "     }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8545f",
      "text": "     return reader.read().then(processText);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85460",
      "text": "   }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85461",
      "text": "   ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85462",
      "text": "   fetch(\"https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.tsv\")",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85463",
      "text": "       .then((response)=>{",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85464",
      "text": "           console.log(\"connected\")",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85465",
      "text": "           return convertStreamToString(response.body);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85466",
      "text": "       }).then((data)=>{",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85467",
      "text": "           console.log(\"full retrieved\")",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85468",
      "text": "           let df = pl.readCSV(data, { sep: \"\\t\" });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f85469",
      "text": "           display(df)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674468d571b3c20000f8546a",
      "text": "       })",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536533,
      "updated": 1732536533
    },
    {
      "id": "674469bc71b3c20000f8546b",
      "text": "  後続のセルをブロックしない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536765,
      "updated": 1732536778
    },
    {
      "id": "674469c971b3c20000f8546c",
      "text": "  \t[https://gyazo.com/909ca1098edd65767c97b455e822281f]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536778,
      "updated": 1732536779
    },
    {
      "id": "67446a5e71b3c20000f8546e",
      "text": "  \tawaitすると後続のセルをブロックするので遅いが、Jupyter的にはそっちがいいのかな",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732536926,
      "updated": 1732536948
    },
    {
      "id": "67445fa071b3c20000f85448",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732534177,
      "updated": 1732534177
    }
  ]
}