{
  "id": "6401f10124f787001c6af850",
  "title": "nestjsのimport from '@/'",
  "created": 1677848834,
  "updated": 1677912583,
  "lines": [
    {
      "id": "6401f10124f787001c6af850",
      "text": "nestjsのimport from '@/'",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7014",
      "text": "[雑に読むMisskey]をしていてでた疑問[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848928
    },
    {
      "id": "6401f101774b1700007a7016",
      "text": "https://github.com/misskey-dev/misskey/tree/7e8700514f18409874737cd5b439280bb03b829c/packages/backend/src/core",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7017",
      "text": "`'import { GlobalEventService } from '@/core/GlobalEventService.js'`のように`@/`でアクセスできるのはなんの仕様？",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7018",
      "text": " [https://gyazo.com/3c750ca36e1f0abad0f9a3335a1e9d25]",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7019",
      "text": " Vue.jsというフレームワークの仕様らしい。本当？",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701a",
      "text": " 裏どりする",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701b",
      "text": " 　https://ja.stackoverflow.com/questions/49318/importするときのの意味",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701c",
      "text": " 　　[webpack]のもので`webpack.base.conf.js`に書いてある、という説明",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701d",
      "text": " 　　しかしそんなファイルはない",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701e",
      "text": " 　　 昔使われていた形跡はある",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a701f",
      "text": " 　　 　https://github.com/search?q=repo%3Amisskey-dev%2Fmisskey+webpack&type=commits",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7020",
      "text": " 　webpackにあるなら他のものが模倣している可能性があるので`alias`で[nestjs]を調べると、それっぽいものがある",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848966
    },
    {
      "id": "6401f101774b1700007a7021",
      "text": " 　　https://docs.nestjs.com/cli/libraries#using-libraries",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7022",
      "text": " 　tsconfig.jsonを見るとそれっぽいものが書いてあった",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7023",
      "text": " 　 `\"@/*\": [\"./src/*\"]`",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "6401f101774b1700007a7024",
      "text": " 　 https://github.com/misskey-dev/misskey/blob/7e8700514f18409874737cd5b439280bb03b829c/packages/backend/tsconfig.json#L29",
      "userId": "59fb21121207900012774b17",
      "created": 1677848834,
      "updated": 1677848834
    },
    {
      "id": "64029254cda40e0000a4d105",
      "text": "",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890133,
      "updated": 1677890135
    },
    {
      "id": "64029257cda40e0000a4d106",
      "text": " 以下のファイルでもエイリアスを設定しているのではないですか？[coolwind0202.icon]",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890135,
      "updated": 1677890432
    },
    {
      "id": "6402926dcda40e0000a4d107",
      "text": "  https://github.com/misskey-dev/misskey/blob/7e8700514f18409874737cd5b439280bb03b829c/packages/backend/.swcrc",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890158,
      "updated": 1677890170
    },
    {
      "id": "6402928bcda40e0000a4d108",
      "text": "  Webpackから[swc]にビルドツールを変更したのではないかと思います",
      "userId": "59fb21121207900012774b17",
      "created": 1677890187,
      "updated": 1677907634
    },
    {
      "id": "6402e37d774b1700005bcdbe",
      "text": "  　13.7.1からswcになったとのこと[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677910909,
      "updated": 1677910938
    },
    {
      "id": "6402e385774b1700005bcdbf",
      "text": "   　https://github.com/misskey-dev/misskey/issues/10030#issuecomment-1441100523",
      "userId": "59fb21121207900012774b17",
      "created": 1677910918,
      "updated": 1677910918
    },
    {
      "id": "6402945bcda40e0000a4d10f",
      "text": "  https://github.com/misskey-dev/misskey/blob/7e8700514f18409874737cd5b439280bb03b829c/packages/backend/package.json",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890652,
      "updated": 1677890668
    },
    {
      "id": "6402946dcda40e0000a4d110",
      "text": "   build コマンドを実行すると swc でビルドします",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890669,
      "updated": 1677890741
    },
    {
      "id": "6402947acda40e0000a4d111",
      "text": "    このとき、 .swcrc のエイリアス設定を使ってビルドします",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890682,
      "updated": 1677890697
    },
    {
      "id": "640294a9cda40e0000a4d117",
      "text": "   build:tsc コマンドを実行すると tsc でビルドします",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890729,
      "updated": 1677890747
    },
    {
      "id": "640294bacda40e0000a4d118",
      "text": "    このときは、tsconfig.json のエイリアス設定を使います",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890747,
      "updated": 1677890764
    },
    {
      "id": "640294cbcda40e0000a4d119",
      "text": "     tsc-alias スクリプトを実行してパスを置き換えます",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677890764,
      "updated": 1677890810
    },
    {
      "id": "6402e2a0774b1700005bcdba",
      "text": "     こういうことかな[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677910689,
      "updated": 1677910723
    },
    {
      "id": "6402e2b4774b1700005bcdbd",
      "text": "     　>本番環境用にtscでビルドした際にpath aliasだとエラーになってしまったため、tsc-aliasを使ってpath aliasを相対パス形式に変換するようにした。",
      "userId": "59fb21121207900012774b17",
      "created": 1677910708,
      "updated": 1677910723
    },
    {
      "id": "6402e2a2774b1700005bcdbb",
      "text": "     　 [https://sunday-morning.app/posts/2020-11-13-path-alias-typescript-tsc path aliasを使ったTypescriptファイルをtscでコンパイルする]",
      "userId": "59fb21121207900012774b17",
      "created": 1677910690,
      "updated": 1677910723
    },
    {
      "id": "6401f101774b1700007a7025",
      "text": "  tsconfig.jsonでエイリアスを設定すると、エディタにもそれが認識されます",
      "userId": "60cf3ae9e54a1c0022cda40e",
      "created": 1677848834,
      "updated": 1677890918
    },
    {
      "id": "6402e893774b1700005bcdef",
      "text": "  　tsconfig.jsonはビルドよりもこのためだけに使っているのかも[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677912212,
      "updated": 1677912238
    },
    {
      "id": "6402d86a774b170000d3df6b",
      "text": "  なるほど。感謝[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677908075,
      "updated": 1677908103
    },
    {
      "id": "6402d8b7774b170000d3df6c",
      "text": "  swc(`build`)とtsc（`build:tsc`）はどう使い分けているんだろう？[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677908152,
      "updated": 1677910642
    },
    {
      "id": "6402e8b7774b1700005bcdf1",
      "text": "  　暫定結論：tscはかつて使っていたが今は利用されていない",
      "userId": "59fb21121207900012774b17",
      "created": 1677912248,
      "updated": 1677912263
    },
    {
      "id": "6402e75c774b1700005bcde9",
      "text": "   ビルドのコマンドを眺めるとわかるかな",
      "userId": "59fb21121207900012774b17",
      "created": 1677911900,
      "updated": 1677911900
    },
    {
      "id": "6402d8c7774b170000d3df6d",
      "text": "   swcは型チェックをしないらしいから、このdenoみたいな方式なのかな？",
      "userId": "59fb21121207900012774b17",
      "created": 1677908167,
      "updated": 1677911875
    },
    {
      "id": "6402d925774b170000d3df70",
      "text": "    >[https://twitter.com/petamoriken/status/1530191287970058241?s=20 @petamoriken]: @suin 型チェックには tsc を使っており、実行時には JavaScript へ swc で変換し、V8 で実行しています。",
      "userId": "59fb21121207900012774b17",
      "created": 1677908261,
      "updated": 1677911876
    },
    {
      "id": "6402e228774b1700005bcdb7",
      "text": "    >https://t.co/RhU2rEm71u",
      "userId": "59fb21121207900012774b17",
      "created": 1677910568,
      "updated": 1677911877
    },
    {
      "id": "6402e228774b1700005bcdb8",
      "text": "    >特に TypeScript をパフォーマンスのために活用しているようなことはありません。",
      "userId": "59fb21121207900012774b17",
      "created": 1677910568,
      "updated": 1677911877
    },
    {
      "id": "6402e651774b1700005bcdd6",
      "text": "   ..と思ったけど多分違う。tscで型チェックをしているけど`build:tsc`は使ってなさそう[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677911633,
      "updated": 1677912547
    },
    {
      "id": "6402e65d774b1700005bcdd8",
      "text": "   　https://github.com/misskey-dev/misskey/commit/0026c45fe04d1debfa4b7a82cc4327ffa9f5ff05",
      "userId": "59fb21121207900012774b17",
      "created": 1677911645,
      "updated": 1677911894
    },
    {
      "id": "6402e71b774b1700005bcdd9",
      "text": "   　これはCIだけど、productionへのビルド時は型チェックしてないのかな？",
      "userId": "59fb21121207900012774b17",
      "created": 1677911836,
      "updated": 1677912583
    },
    {
      "id": "6402e9f6774b1700005bcdf8",
      "text": "   　ここでこれがよばれる",
      "userId": "59fb21121207900012774b17",
      "created": 1677912566,
      "updated": 1677912566
    },
    {
      "id": "6402e71e774b1700005bcdda",
      "text": "   　　https://github.com/misskey-dev/misskey/blob/e4fc9ea816eabba03933d9845ba0918b1ad365ab/packages/backend/package.json#L15",
      "userId": "59fb21121207900012774b17",
      "created": 1677911839,
      "updated": 1677911895
    },
    {
      "id": "6402e562774b1700005bcdd4",
      "text": "   もともとtscでbuildしていたのをwindowsで動かないという理由でswcにしているみたいだった",
      "userId": "59fb21121207900012774b17",
      "created": 1677911394,
      "updated": 1677912502
    },
    {
      "id": "6402e9a6774b1700005bcdf4",
      "text": "    Windowsかつtscでビルドできていない人がいるみたいだからswcにしようという議論",
      "userId": "59fb21121207900012774b17",
      "created": 1677912487,
      "updated": 1677912509
    },
    {
      "id": "6402952ecda40e0000a4d11a",
      "text": "   　　https://github.com/misskey-dev/misskey/pull/10026",
      "userId": "59fb21121207900012774b17",
      "created": 1677890863,
      "updated": 1677912491
    },
    {
      "id": "6402e849774b1700005bcded",
      "text": "   　　https://github.com/misskey-dev/misskey/issues/10025",
      "userId": "59fb21121207900012774b17",
      "created": 1677912137,
      "updated": 1677912138
    },
    {
      "id": "6402e9b1774b1700005bcdf7",
      "text": "   　　https://github.com/misskey-dev/misskey/commit/4e23500732b2084aed597b95341f1ca45ede7f75 でshipされた（#10035, 13.7.2 ）",
      "userId": "59fb21121207900012774b17",
      "created": 1677912497,
      "updated": 1677912503
    },
    {
      "id": "6402e7ea774b1700005bcdea",
      "text": "　　　tscはもう使ってない説",
      "userId": "59fb21121207900012774b17",
      "created": 1677912043,
      "updated": 1677912190
    },
    {
      "id": "6402e865774b1700005bcdee",
      "text": "",
      "userId": "59fb21121207900012774b17",
      "created": 1677912166,
      "updated": 1677912166
    }
  ]
}