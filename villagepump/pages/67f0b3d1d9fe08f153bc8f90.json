{
  "id": "67f0b3d1d9fe08f153bc8f90",
  "title": "sharebox",
  "created": 1743827925,
  "updated": 1743998521,
  "lines": [
    {
      "id": "67f0b3d1d9fe08f153bc8f90",
      "text": "sharebox",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743827925,
      "updated": 1743979368
    },
    {
      "id": "67f0b3d50000000000b71c38",
      "text": "[share] [box]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743827925,
      "updated": 1743827992
    },
    {
      "id": "67f0b40d0000000000b71c39",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743827982,
      "updated": 1743827982
    },
    {
      "id": "67f0b4150000000000b71c3a",
      "text": "[Zatsu wiki]みたいに作ってみたい[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743827989,
      "updated": 1743828215
    },
    {
      "id": "67f0b4e90000000000b71c3b",
      "text": "\t名前色んなところと被ってるけど...",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743828201,
      "updated": 1743829454
    },
    {
      "id": "67f0ba000000000000b71c3e",
      "text": " \tWiki界では被ってない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829504,
      "updated": 1743946288
    },
    {
      "id": "67f0b9160000000000b71c3d",
      "text": "\t[Vite+Preact+preact-iso]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829270,
      "updated": 1743829274
    },
    {
      "id": "67f0c0080000000000b71c47",
      "text": "\t超シンプルなものにする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743831049,
      "updated": 1743831053
    },
    {
      "id": "67f0c1c10000000000b71c49",
      "text": "\t同期はできた",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743831490,
      "updated": 1743831494
    },
    {
      "id": "67f0c1c60000000000b71c4a",
      "text": "\t\t永続化はまだ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743831494,
      "updated": 1743831497
    },
    {
      "id": "67f0ceb50000000000d17948",
      "text": "\t\t\t永続化できた",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743834806,
      "updated": 1743834810
    },
    {
      "id": "67f0c14c0000000000b71c48",
      "text": "\tまだ衝突回避すらしてない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743831372,
      "updated": 1743834802
    },
    {
      "id": "67f0ceb20000000000d17947",
      "text": "\t\t一応差分で同期してるが...",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743834803,
      "updated": 1743836447
    },
    {
      "id": "67f0d2710000000000d1794b",
      "text": "\t\t現状だと、ただ差分を受け取って直接Socket.IOでエコーさせてるので",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743835761,
      "updated": 1743835850
    },
    {
      "id": "67f0d6960000000000d1794f",
      "text": "\t\tとりあえずブランチは切った",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743836822,
      "updated": 1743836825
    },
    {
      "id": "67f0d6bd0000000000d17950",
      "text": "\t\t\thttps://github.com/bsahd/sharebox/tree/collaborative-editing",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743836862,
      "updated": 1743836862
    },
    {
      "id": "67f281820000000000df5a87",
      "text": " \t文字単位の普通の差分(textdiff-create)から、",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946115,
      "updated": 1743946128
    },
    {
      "id": "67f281820000000000df5a88",
      "text": " \t\t行ID式行単位差分(自作)にする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946115,
      "updated": 1743946136
    },
    {
      "id": "67f281a10000000000df5a8a",
      "text": " \t\t行IDはUUID v4",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946145,
      "updated": 1743946156
    },
    {
      "id": "67f281820000000000df5a89",
      "text": " \t\t同じ行をいじるとどっちかで上書きされるはず",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946115,
      "updated": 1743946116
    },
    {
      "id": "67f281bc0000000000df5a8b",
      "text": " \t\t挿入と上書きは書いてるので、あとは行削除を書かなきゃ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946173,
      "updated": 1743946219
    },
    {
      "id": "67f33c8e0000000000b02ed7",
      "text": " \t\t\tだん",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743993998,
      "updated": 1743994000
    },
    {
      "id": "67f3003200000000009426dd",
      "text": " \t\t今更ながら初期のスクボと同じ構造であることに気づいた",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978547,
      "updated": 1743978709
    },
    {
      "id": "67f300d500000000009426df",
      "text": " \t\t\t挿入/上書き/削除、挿入は1つ下の位置指定、行単位編集",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978710,
      "updated": 1743978799
    },
    {
      "id": "67f3014500000000009426e0",
      "text": " \t\t\t[/shokai/Scrapboxの開発 - React & Websocketで作るリアルタイムWiki]の時代",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978821,
      "updated": 1743978828
    },
    {
      "id": "67f300a500000000009426de",
      "text": " \t\t違いは、変換確定前でも送信される点かな",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978661,
      "updated": 1743994048
    },
    {
      "id": "67f33cc00000000000b02ed9",
      "text": " \t\t後、行IDがUUIDになってる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743994049,
      "updated": 1743995121
    },
    {
      "id": "67f2825f0000000000df5a8d",
      "text": "\t\tとりあえず差分関係をうまくいければ、ページ切り替えは後でやる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946335,
      "updated": 1743946372
    },
    {
      "id": "67f283370000000000df5a90",
      "text": "\t\t\tsocket.ioのルームというのを使うのかな？",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946551,
      "updated": 1743946564
    },
    {
      "id": "67f282a80000000000df5a8e",
      "text": "\t\t本番環境用の静的サーバー",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946409,
      "updated": 1743946452
    },
    {
      "id": "67f282ee0000000000df5a8f",
      "text": "\t\t\tfastifyのsocket.io連携が最新版のfastifyに対応してないので、expressで我慢",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946479,
      "updated": 1743946533
    },
    {
      "id": "67f0b5390000000000b71c3c",
      "text": "\tMD+プレビューの2ペイン式",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743828282,
      "updated": 1743836670
    },
    {
      "id": "67f283860000000000df5a91",
      "text": "\tロードマップ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946631,
      "updated": 1743946635
    },
    {
      "id": "67f283970000000000df5a94",
      "text": "\t\tだん:standalone socket.ioからwith expressにする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946648,
      "updated": 1743995139
    },
    {
      "id": "67f2838b0000000000df5a92",
      "text": "\t\tページ切り替え",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946635,
      "updated": 1743946643
    },
    {
      "id": "67f34d6d000000000039e643",
      "text": "\t\t\t<think>",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998318,
      "updated": 1743998321
    },
    {
      "id": "67f34d7b000000000039e645",
      "text": "\t\t\tこのshareboxにページ切り替え機能を実装するために必要なこととして、編集差分の送信範囲の指定が必要です。",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998331,
      "updated": 1743998371
    },
    {
      "id": "67f34da3000000000039e647",
      "text": "\t\t\tこのプロジェクトではSocket.IOを使用しているので、Socket.ioのルーム機能を使用することが最適だと考えられます。",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998371,
      "updated": 1743998392
    },
    {
      "id": "67f34db9000000000039e648",
      "text": "\t\t\tとりあえずルーム機能について調査してみましたが、ここで「ルームはサーバーサイドだけで、クライアントから入室が制御できない」ということがわかりました。",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998393,
      "updated": 1743998429
    },
    {
      "id": "67f34ddc000000000039e649",
      "text": "\t\t\tこの状態でクライアントからルームに入室するには、次のことが必要でしょう。",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998429,
      "updated": 1743998447
    },
    {
      "id": "67f34df0000000000039e64a",
      "text": "\t\t\tcode:js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998449,
      "updated": 1743998453
    },
    {
      "id": "67f34df4000000000039e64b",
      "text": "\t\t\t io.emit(\"joinRoom\",/*ルーム名*/);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998453,
      "updated": 1743998468
    },
    {
      "id": "67f34e04000000000039e64c",
      "text": "\t\t\tcode:server.js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998468,
      "updated": 1743998478
    },
    {
      "id": "67f34e0e000000000039e64d",
      "text": "\t\t\t socket.on(\"joinRoom\",room=>{socket.join(room)});",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998478,
      "updated": 1743998499
    },
    {
      "id": "67f34e22000000000039e64e",
      "text": "\t\t\tこのような実装をすることで、クライアント側からルームへの入退室を制御できます。",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998499,
      "updated": 1743998517
    },
    {
      "id": "67f34e35000000000039e64f",
      "text": "\t\t\t</think>",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743998518,
      "updated": 1743998521
    },
    {
      "id": "67f283b20000000000df5a95",
      "text": "\t\tbacklinks",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946674,
      "updated": 1743946689
    },
    {
      "id": "67f3031e00000000009426e1",
      "text": "\t\tページ名検索",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743979294,
      "updated": 1743979299
    },
    {
      "id": "67f3032300000000009426e2",
      "text": "\t\t\tサーバーサイドワーカー",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743979299,
      "updated": 1743979311
    },
    {
      "id": "67f283c10000000000df5a96",
      "text": "\t\t2 hop links",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743946689,
      "updated": 1743946692
    },
    {
      "id": "67f2fe4900000000009426d7",
      "text": "\t\tモバイル",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978058,
      "updated": 1743978084
    },
    {
      "id": "67f2ff2700000000009426db",
      "text": "\t\t認証",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978279,
      "updated": 1743978282
    },
    {
      "id": "67f0d5f30000000000d1794e",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743836660,
      "updated": 1743836660
    },
    {
      "id": "67f0d4350000000000d1794c",
      "text": "今のところ、ページは1つだけ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743836214,
      "updated": 1743836220
    },
    {
      "id": "67f2ff0700000000009426d8",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978248,
      "updated": 1743978248
    },
    {
      "id": "67f2ff0700000000009426d9",
      "text": "思想",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978248,
      "updated": 1743978250
    },
    {
      "id": "67f2ff0a00000000009426da",
      "text": "\tAPIをある程度クローンしたいかな",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978250,
      "updated": 1743978268
    },
    {
      "id": "67f2ff4400000000009426dc",
      "text": "\tJS+JSDoc",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743978308,
      "updated": 1743978314
    },
    {
      "id": "67f0d4360000000000d1794d",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743836214,
      "updated": 1743836214
    },
    {
      "id": "67f0ba340000000000b71c3f",
      "text": "code:md",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829557,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c41",
      "text": " # 技術スタック",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c42",
      "text": " - Vite",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c43",
      "text": " - Preact",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c44",
      "text": " - preact-iso",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c45",
      "text": " - CodeMirror",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba350000000000b71c46",
      "text": " - Markdown to JSX",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829558,
      "updated": 1743829558
    },
    {
      "id": "67f0ba340000000000b71c40",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1743829557,
      "updated": 1743829557
    },
    {
      "id": "67f20cf100000000004e657d",
      "text": "気になる[inajob.icon]",
      "userId": "58442db3ee4a2400116eb406",
      "created": 1743916273,
      "updated": 1743916277
    },
    {
      "id": "67f20cf300000000004e657e",
      "text": "",
      "userId": "58442db3ee4a2400116eb406",
      "created": 1743916276,
      "updated": 1743916276
    }
  ]
}