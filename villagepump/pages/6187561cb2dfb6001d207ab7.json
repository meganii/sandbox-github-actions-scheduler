{
  "id": "6187561cb2dfb6001d207ab7",
  "title": "Scrapbox の孤立したページを見直す",
  "created": 1636259358,
  "updated": 1660559047,
  "lines": [
    {
      "id": "6187561cb2dfb6001d207ab7",
      "text": "Scrapbox の孤立したページを見直す",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259358,
      "updated": 1636259461
    },
    {
      "id": "61875686d1a02f000066e521",
      "text": "ツールをプロトタイプした。[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259462,
      "updated": 1636259505
    },
    {
      "id": "618756a8d1a02f000066e523",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259496,
      "updated": 1636259497
    },
    {
      "id": "6187568ed1a02f000066e522",
      "text": "[scrapbox-garbage-collector]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259471,
      "updated": 1636259486
    },
    {
      "id": "6187561dd1a02f000066e519",
      "text": "\t[https://helpfeel.com/hata6502/--61875439b2b3d2001d0174df scrapbox-garbage-collector - Tomoyuki Hata]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259358,
      "updated": 1636259492
    },
    {
      "id": "61875f8ed1a02f00003091c2",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636261775,
      "updated": 1636261776
    },
    {
      "id": "6187561ed1a02f000066e51a",
      "text": "外部プロジェクトリンク記法のparseに失敗してる",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636259359,
      "updated": 1636261799
    },
    {
      "id": "61875ec01280f0000010d9b6",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636261568,
      "updated": 1636261568
    },
    {
      "id": "61875e191280f00000dd0096",
      "text": "[Pin留めページ]から辿れるページ以外を孤立したページとみなしているのか[takker.icon][sta.icon]",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1636261401,
      "updated": 1636262149
    },
    {
      "id": "61875f67d1a02f00003091c1",
      "text": "　garbage collector という名前の由来です。[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636261736,
      "updated": 1636262931
    },
    {
      "id": "618762aad1a02f00004ce05d",
      "text": "　単純に link count が０かで判定すると、互いに参照しあってるけど切り離されたページを見つけられない。[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636262570,
      "updated": 1636277228
    },
    {
      "id": "61876327d1a02f00004ce05e",
      "text": "　　https://ja.m.wikipedia.org/wiki/参照カウント",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636262696,
      "updated": 1636263355
    },
    {
      "id": "618798121280f00000745c64",
      "text": "　逆に互いに参照しあっているけど孤立したページ群の島を見つけるのも面白いかも[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276242,
      "updated": 1636276278
    },
    {
      "id": "618765c7d1a02f00004ce063",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636263368,
      "updated": 1636263368
    },
    {
      "id": "61875e191280f00000dd0097",
      "text": "UserScriptでもできそう[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636261402,
      "updated": 1636276420
    },
    {
      "id": "61879afdd1a02f0000f749a3",
      "text": "　たしかに! [hata6502.icon] が作ったコマンドラインは、使いづらさがある。",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636276990,
      "updated": 1636277075
    },
    {
      "id": "6187c283d1a02f0000634c9a",
      "text": "　\thttps://github.com/hata6502/scrapbox-garbage-collector のコードは自由に使ってかまいません。([CC0-1.0])[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636287108,
      "updated": 1636287468
    },
    {
      "id": "618798be1280f00000745c65",
      "text": " こうかな",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276415,
      "updated": 1636276416
    },
    {
      "id": "61879d941280f00000977619",
      "text": " 一筋縄では行かなそう[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277653,
      "updated": 1636277662
    },
    {
      "id": "61879d9e1280f0000097761a",
      "text": "  リンクをたどる処理が重くてUIが固まる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277662,
      "updated": 1636277678
    },
    {
      "id": "61879dae1280f0000097761c",
      "text": "  [Web Workers API]を使うか。",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277678,
      "updated": 1636277688
    },
    {
      "id": "6187b1191280f00000c1bd4b",
      "text": " 簡単に書き換えられると思ったら、予想以上に時間がかかってしまった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282649,
      "updated": 1636282671
    },
    {
      "id": "6187b12f1280f00000c1bd4d",
      "text": "  Webworker周りとリンクを正確に計算するアルゴリズム周りで結構バグりまくった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282671,
      "updated": 1636282704
    },
    {
      "id": "6187b8e31280f00000fc619c",
      "text": " 20:30:45 Denoでも動くようにしておいた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284644,
      "updated": 1636284655
    },
    {
      "id": "61879c751280f00000745d48",
      "text": " code:js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277365,
      "updated": 1636277372
    },
    {
      "id": "61879c7a1280f00000745d49",
      "text": "  import(\"https://scrapbox.io/api/code/villagepump/Scrapbox_の孤立したページを見直す/script.js\")",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277372,
      "updated": 1636280207
    },
    {
      "id": "61879c831280f00000745d4a",
      "text": "    .then(({main}) => main(globalThis.scrapbox?.Project?.name ?? \"villagepump\"));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277380,
      "updated": 1636284699
    },
    {
      "id": "61879e801280f00000977629",
      "text": " code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277888,
      "updated": 1636277892
    },
    {
      "id": "61879e841280f0000097762a",
      "text": "  export async function main(project) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277892,
      "updated": 1636284692
    },
    {
      "id": "61879f871280f00000977671",
      "text": "    const worker = new Worker(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278151,
      "updated": 1636284662
    },
    {
      "id": "6187b8f51280f00000fc619d",
      "text": "      \"https://scrapbox.io/api/code/villagepump/Scrapbox_の孤立したページを見直す/worker.js\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284662,
      "updated": 1636284664
    },
    {
      "id": "6187b8f81280f00000fc619e",
      "text": "      {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284664,
      "updated": 1636284664
    },
    {
      "id": "6187b7fa1280f00000fc619a",
      "text": "        type: navigator?.userAgent?.toLowerCase?.()?.includes?.(\"firefox\") ? \"classic\" : \"module\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284410,
      "updated": 1636284666
    },
    {
      "id": "6187b7fb1280f00000fc619b",
      "text": "      }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284411,
      "updated": 1636284668
    },
    {
      "id": "6187b8fc1280f00000fc619f",
      "text": "    );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636284668,
      "updated": 1636284669
    },
    {
      "id": "61879f871280f00000977672",
      "text": "    const [listenMessage, resolve, reject] = getPromiseSettledAnytimes();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278151,
      "updated": 1636278151
    },
    {
      "id": "61879f871280f00000977673",
      "text": "    worker.addEventListener(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278151,
      "updated": 1636278158
    },
    {
      "id": "61879f8d1280f00000977676",
      "text": "      \"message\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278158,
      "updated": 1636278159
    },
    {
      "id": "61879f8f1280f00000977677",
      "text": "      ({ data }) => data.type === \"error\" ? reject(data) : resolve(data)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278159,
      "updated": 1636278187
    },
    {
      "id": "61879fab1280f00000977678",
      "text": "    );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278187,
      "updated": 1636278189
    },
    {
      "id": "61879f871280f00000977675",
      "text": "    worker.postMessage(project);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278151,
      "updated": 1636278151
    },
    {
      "id": "61879faf1280f00000977679",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278192,
      "updated": 1636278195
    },
    {
      "id": "61879fce1280f0000097767f",
      "text": "    try {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278222,
      "updated": 1636278224
    },
    {
      "id": "61879fb31280f0000097767a",
      "text": "      while (true) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278195,
      "updated": 1636278227
    },
    {
      "id": "61879fb51280f0000097767b",
      "text": "        const { type, data } = await listenMessage();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278198,
      "updated": 1636278227
    },
    {
      "id": "61879fc51280f0000097767d",
      "text": "        if (type === \"result\") {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278213,
      "updated": 1636278276
    },
    {
      "id": "6187a0041280f00000977685",
      "text": "          console.info(data);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278276,
      "updated": 1636278286
    },
    {
      "id": "6187a00e1280f00000977687",
      "text": "          alert(data);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278286,
      "updated": 1636278291
    },
    {
      "id": "6187a0131280f00000977688",
      "text": "          break;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278291,
      "updated": 1636278292
    },
    {
      "id": "6187a0051280f00000977686",
      "text": "        }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278278,
      "updated": 1636278278
    },
    {
      "id": "6187a0171280f00000977689",
      "text": "        console.log(data);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278295,
      "updated": 1636278303
    },
    {
      "id": "61879fb61280f0000097767c",
      "text": "      }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278199,
      "updated": 1636278227
    },
    {
      "id": "61879fd31280f00000977680",
      "text": "    } catch(e) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278228,
      "updated": 1636278233
    },
    {
      "id": "61879fd91280f00000977681",
      "text": "      console.error(e.data);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278233,
      "updated": 1636278248
    },
    {
      "id": "61879fda1280f00000977682",
      "text": "    } finally {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278234,
      "updated": 1636278253
    },
    {
      "id": "61879fec1280f00000977683",
      "text": "      worker.terminate();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278253,
      "updated": 1636278257
    },
    {
      "id": "61879fed1280f00000977684",
      "text": "    }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278253,
      "updated": 1636278253
    },
    {
      "id": "61879ee81280f0000097763f",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277992,
      "updated": 1636277992
    },
    {
      "id": "61879f651280f00000977648",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278117,
      "updated": 1636278117
    },
    {
      "id": "61879eb21280f0000097762f",
      "text": "  function getPromiseSettledAnytimes() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277938,
      "updated": 1636277963
    },
    {
      "id": "61879ec41280f00000977630",
      "text": "    let _resolve;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277969
    },
    {
      "id": "61879ec41280f00000977631",
      "text": "    let _reject;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277969
    },
    {
      "id": "61879ec41280f00000977632",
      "text": "    const waitForSettled = () => new Promise(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277978
    },
    {
      "id": "61879ec41280f00000977633",
      "text": "      (res, rej) => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277971
    },
    {
      "id": "61879ec41280f00000977634",
      "text": "        _resolve = res;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277972
    },
    {
      "id": "61879ec41280f00000977635",
      "text": "        _reject = rej;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277973
    },
    {
      "id": "61879ec41280f00000977636",
      "text": "      },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277974
    },
    {
      "id": "61879ec41280f00000977637",
      "text": "    );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277976
    },
    {
      "id": "61879ec41280f00000977638",
      "text": "    const resolve = (value) => _resolve?.(value);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277983
    },
    {
      "id": "61879ec41280f00000977639",
      "text": "    const reject = (reason) => _reject?.(reason);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277983
    },
    {
      "id": "61879ec41280f0000097763a",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277956
    },
    {
      "id": "61879ec41280f0000097763b",
      "text": "    return [waitForSettled, resolve, reject];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277956,
      "updated": 1636277986
    },
    {
      "id": "61879ee21280f0000097763d",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277986,
      "updated": 1636277987
    },
    {
      "id": "61879ee61280f0000097763e",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277990,
      "updated": 1636277990
    },
    {
      "id": "618798c41280f00000745c66",
      "text": " code:worker.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276421,
      "updated": 1636277694
    },
    {
      "id": "61879e321280f0000097761e",
      "text": "  self.addEventListener(\"message\", async ({data}) => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277810,
      "updated": 1636278426
    },
    {
      "id": "61879e411280f00000977620",
      "text": "    const project = data;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277825,
      "updated": 1636277829
    },
    {
      "id": "61879e621280f00000977625",
      "text": "    try {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277858,
      "updated": 1636277859
    },
    {
      "id": "61879e571280f00000977624",
      "text": "      self.postMessage({type: \"result\", data: await main(project)});",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277847,
      "updated": 1636277861
    },
    {
      "id": "61879e661280f00000977626",
      "text": "    } catch(e) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277863,
      "updated": 1636277869
    },
    {
      "id": "61879e6d1280f00000977627",
      "text": "      self.postMessage({type: \"error\", data: {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277869,
      "updated": 1636279482
    },
    {
      "id": "6187a4bb1280f0000070bb56",
      "text": "        name: e.name,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279483,
      "updated": 1636279492
    },
    {
      "id": "6187a4c31280f0000070bb58",
      "text": "        stack: e.stack,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279492,
      "updated": 1636279494
    },
    {
      "id": "6187a4c71280f0000070bb59",
      "text": "        message: e.message,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279495,
      "updated": 1636279499
    },
    {
      "id": "6187a4ba1280f0000070bb55",
      "text": "      }});",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279482,
      "updated": 1636279482
    },
    {
      "id": "61879e6e1280f00000977628",
      "text": "    }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277870,
      "updated": 1636277870
    },
    {
      "id": "61879e411280f00000977621",
      "text": "  });",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277826,
      "updated": 1636278342
    },
    {
      "id": "6187b3d41280f00000b1c900",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283349,
      "updated": 1636283349
    },
    {
      "id": "6187b3d41280f00000b1c901",
      "text": "  function log(message) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283349,
      "updated": 1636283362
    },
    {
      "id": "6187b3e21280f00000b1c902",
      "text": "    self.postMessage({type: \"log\", data: message});",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283362,
      "updated": 1636283375
    },
    {
      "id": "6187b3e31280f00000b1c903",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283363,
      "updated": 1636283363
    },
    {
      "id": "61879e321280f0000097761f",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277810,
      "updated": 1636277810
    },
    {
      "id": "618798c81280f00000745c6c",
      "text": "  async function main(project) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636277741
    },
    {
      "id": "6187b2981280f00000b1c8fc",
      "text": "    log(`loading link data...`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283033,
      "updated": 1636283381
    },
    {
      "id": "618799f91280f00000745d1b",
      "text": "    const pinnedPages = await getPinnedPages(project);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276730,
      "updated": 1636277069
    },
    {
      "id": "61879a091280f00000745d1c",
      "text": "    const linkMap = await getLinks(project);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276746,
      "updated": 1636277072
    },
    {
      "id": "6187b2b01280f00000b1c8fd",
      "text": "    log(`loaded link data.`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283056,
      "updated": 1636283386
    },
    {
      "id": "618798c81280f00000745c7b",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636276425
    },
    {
      "id": "6187c5bcd1a02f0000634ca3",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636287932,
      "updated": 1636287932
    },
    {
      "id": "6187b4831280f00000b1c905",
      "text": " 元のコードだと順リンクのみをたどっていたが、このUserScriptでは逆リンクもたどるようにしてみた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283524,
      "updated": 1636283547
    },
    {
      "id": "6187c45ed1a02f0000634c9e",
      "text": " \tなるほど、たしかに計算量が膨大になりそうだ。[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636287583,
      "updated": 1636287610
    },
    {
      "id": "6187c556d1a02f0000634c9f",
      "text": " \t[https://github.com/hata6502/scrapbox-garbage-collector/blob/cff037665c50267c74542c0b8d3bf958135cdf8c/src/index.js#L22-L32 元コード]でも逆リンクをたどっている？[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636287831,
      "updated": 1636287897
    },
    {
      "id": "6187c59cd1a02f0000634ca2",
      "text": " \t\t[hata6502.icon]逆リンクの解釈がお互いに違うかもしれない。",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636287900,
      "updated": 1636287991
    },
    {
      "id": "6187c7961280f00000670232",
      "text": " \t\t 解釈はあってます[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288407,
      "updated": 1636288413
    },
    {
      "id": "6187c7a41280f00000670234",
      "text": " \t\t 違いは[hata6502.icon]さんの`linkMap`ではリンクの方向を区別せずに格納している点",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288420,
      "updated": 1636288446
    },
    {
      "id": "6187c7bf1280f00000670235",
      "text": " \t\t  [takker.icon]のコードでは`linkMap`と`linkedMap`で区別している",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288447,
      "updated": 1636288478
    },
    {
      "id": "6187c7dd1280f00000670236",
      "text": " \t\t  ……別に区別する必要ないような",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288478,
      "updated": 1636288484
    },
    {
      "id": "6187c5401280f0000067020b",
      "text": " \t ほんとだ[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636287808,
      "updated": 1636287987
    },
    {
      "id": "6187c5f31280f0000067020f",
      "text": " \t  [https://github.com/hata6502/scrapbox-garbage-collector/blob/cff037665c50267c74542c0b8d3bf958135cdf8c/src/index.js#L22-L32 元コード]のほうが計算量は少なそう",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636287987,
      "updated": 1636288089
    },
    {
      "id": "6187c6651280f00000670211",
      "text": " \t  変えよう",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288102,
      "updated": 1636288104
    },
    {
      "id": "6187c6681280f00000670212",
      "text": " \t  code:diff",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288104,
      "updated": 1636288108
    },
    {
      "id": "6187c6711280f0000067021a",
      "text": "     const linkedMap = new Map();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288113,
      "updated": 1636288114
    },
    {
      "id": "6187c6711280f0000067021b",
      "text": "     const existsPages = [...linkMap.keys()];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288113,
      "updated": 1636288521
    },
    {
      "id": "6187c6711280f0000067021c",
      "text": "     -for (const link of new Set([...linkMap.values()].flat())) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288113,
      "updated": 1636288369
    },
    {
      "id": "6187c6711280f0000067021d",
      "text": "     -  const linkeds = existsPages.filter(title => linkMap.get(title).includes(link));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288113,
      "updated": 1636288370
    },
    {
      "id": "6187c6711280f0000067021e",
      "text": "     -  linkedMap.set(link, linkeds);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288113,
      "updated": 1636288370
    },
    {
      "id": "6187c76c1280f00000670231",
      "text": "     -}",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288364,
      "updated": 1636288371
    },
    {
      "id": "6187c75e1280f0000067022a",
      "text": "     +linkMap.forEach((links, title) => ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288372
    },
    {
      "id": "6187c75e1280f0000067022b",
      "text": "     +  links.forEach((link) => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288374
    },
    {
      "id": "6187c75e1280f0000067022c",
      "text": "     +    const linkeds = linkedMap.get(link) ?? [];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288377
    },
    {
      "id": "6187c75e1280f0000067022d",
      "text": "     +    // 重複があっても処理に支障はない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288378
    },
    {
      "id": "6187c75e1280f0000067022e",
      "text": "     +    linkedMap.set(link, [...linkeds, title]);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288380
    },
    {
      "id": "6187c75e1280f0000067022f",
      "text": "     +  })",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288381
    },
    {
      "id": "6187c75e1280f00000670230",
      "text": "     +);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288350,
      "updated": 1636288383
    },
    {
      "id": "6187c5e81280f0000067020e",
      "text": " \tちなみに逆リンクの計算無しでも要Web workerです[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636287977,
      "updated": 1636287977
    },
    {
      "id": "6187c5561280f0000067020d",
      "text": " \t UIが固まった",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636287830,
      "updated": 1636287833
    },
    {
      "id": "6187b4811280f00000b1c904",
      "text": " code:worker.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283521,
      "updated": 1636283523
    },
    {
      "id": "6187ab511280f00000eae30f",
      "text": "    // 逆リンクデータを作る",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636281169,
      "updated": 1636281176
    },
    {
      "id": "6187b2961280f00000b1c8fb",
      "text": "    log(`Creating back link data...`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283030,
      "updated": 1636283393
    },
    {
      "id": "6187aba61280f00000eae311",
      "text": "    const linkedMap = new Map();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636281254,
      "updated": 1636281261
    },
    {
      "id": "6187c80b1280f00000670237",
      "text": "    const existsPages = [...linkMap.keys()];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288524,
      "updated": 1636288525
    },
    {
      "id": "6187c67b1280f00000670220",
      "text": "    linkMap.forEach((links, title) => ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288123,
      "updated": 1636288183
    },
    {
      "id": "6187c68d1280f00000670221",
      "text": "      links.forEach((link) => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288142,
      "updated": 1636288178
    },
    {
      "id": "6187c6b31280f00000670224",
      "text": "        const linkeds = linkedMap.get(link) ?? [];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288180,
      "updated": 1636288213
    },
    {
      "id": "6187c7431280f00000670229",
      "text": "        // 重複があっても処理に支障はない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288324,
      "updated": 1636288336
    },
    {
      "id": "6187c6d51280f00000670227",
      "text": "        linkedMap.set(link, [...linkeds, title]);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288213,
      "updated": 1636288267
    },
    {
      "id": "6187c6d11280f00000670226",
      "text": "      })",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288209,
      "updated": 1636288211
    },
    {
      "id": "6187c6901280f00000670222",
      "text": "    );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636288144,
      "updated": 1636288184
    },
    {
      "id": "6187b2d21280f00000b1c8fe",
      "text": "    log(`Created back link data.`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283090,
      "updated": 1636283400
    },
    {
      "id": "6187ab501280f00000eae30e",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636281169,
      "updated": 1636281169
    },
    {
      "id": "6187b2f71280f00000b1c8ff",
      "text": "    log(`Finding garbage pages...`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636283127,
      "updated": 1636283406
    },
    {
      "id": "618798c81280f00000745c8a",
      "text": "    let queue = new Set(pinnedPages.map(({title}) => title));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636279281
    },
    {
      "id": "6187a2341280f0000013f815",
      "text": "    const crawled = new Set();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278836,
      "updated": 1636278897
    },
    {
      "id": "618798c81280f00000745c8b",
      "text": "    const connectedPages = new Set();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636277230
    },
    {
      "id": "6187a2fb1280f00000f7ffeb",
      "text": "    let counter = 0;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279035,
      "updated": 1636279050
    },
    {
      "id": "618798c81280f00000745c8d",
      "text": "    while (queue.size !== 0) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636279269
    },
    {
      "id": "6187a1e11280f0000013f814",
      "text": "      const next = new Set();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278753,
      "updated": 1636279257
    },
    {
      "id": "6187a1c81280f0000013f807",
      "text": "      for (const title of queue) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278728,
      "updated": 1636278742
    },
    {
      "id": "6187a3c01280f00000f7fff2",
      "text": "        crawled.add(title);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279232,
      "updated": 1636279241
    },
    {
      "id": "6187a1dc1280f0000013f812",
      "text": "        if (linkMap.has(title)) connectedPages.add(title);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278748,
      "updated": 1636281041
    },
    {
      "id": "6187a1dc1280f0000013f813",
      "text": "        for (const link of [...linkMap.get(title) ?? [], ...linkedMap.get(title) ?? []]) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278748,
      "updated": 1636281453
    },
    {
      "id": "6187a85e1280f0000024a9de",
      "text": "          if (linkMap.has(link)) connectedPages.add(link);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636280414,
      "updated": 1636281058
    },
    {
      "id": "6187a3831280f00000f7fff1",
      "text": "          if (!crawled.has(link)) next.add(link);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279171,
      "updated": 1636279595
    },
    {
      "id": "6187a3761280f00000f7ffee",
      "text": "        }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279159,
      "updated": 1636281514
    },
    {
      "id": "6187a1d51280f0000013f808",
      "text": "      }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636278742,
      "updated": 1636278742
    },
    {
      "id": "6187a41e1280f00000f7fff3",
      "text": "      log(`[${counter}]crawled ${queue.size} links. Next: ${next.size} links`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279327,
      "updated": 1636283502
    },
    {
      "id": "6187a30f1280f00000f7ffec",
      "text": "      queue = next;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279055,
      "updated": 1636279313
    },
    {
      "id": "6187a4551280f00000f7fff4",
      "text": "      counter++;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279382,
      "updated": 1636279386
    },
    {
      "id": "61879b001280f00000745d22",
      "text": "    }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276993,
      "updated": 1636276993
    },
    {
      "id": "618798c81280f00000745c9d",
      "text": "    log(`Found ${existsPages.length - connectedPages.size} garbage pages`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636283422
    },
    {
      "id": "6187b0861280f0000094bfb5",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282502,
      "updated": 1636282502
    },
    {
      "id": "618798c81280f00000745c9e",
      "text": "    // TODO: エスケープ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636276425
    },
    {
      "id": "618798c81280f00000745c9f",
      "text": "    const userCSS = `garbages",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636276425
    },
    {
      "id": "618798c81280f00000745ca0",
      "text": "  code:index.css",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282410
    },
    {
      "id": "618798c81280f00000745ca1",
      "text": "   .quick-launch .project-home .title::after {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282407
    },
    {
      "id": "618798c81280f00000745ca2",
      "text": "     content: \" garbages\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282407
    },
    {
      "id": "618798c81280f00000745ca3",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282407
    },
    {
      "id": "6187a5ea1280f000002acbe0",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279787,
      "updated": 1636282412
    },
    {
      "id": "618798c81280f00000745ca4",
      "text": "   .page-list-item:is(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282415
    },
    {
      "id": "6187a5eb1280f000002acbe1",
      "text": "  ${[...connectedPages]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279787,
      "updated": 1636282418
    },
    {
      "id": "6187a6071280f000002acbef",
      "text": "    .map((link) => `    [data-page-title=\"${link}\"],`)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279815,
      "updated": 1636282422
    },
    {
      "id": "6187a6071280f000002acbf0",
      "text": "    .join(\"\\n\")}",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279815,
      "updated": 1636282423
    },
    {
      "id": "6187a5ec1280f000002acbe2",
      "text": "   ) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636279788,
      "updated": 1636282426
    },
    {
      "id": "618798c81280f00000745ca8",
      "text": "     display: none !important;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282415
    },
    {
      "id": "618798c81280f00000745ca9",
      "text": "   }`;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636282415
    },
    {
      "id": "618798c81280f00000745caa",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636277841
    },
    {
      "id": "61879e4f1280f00000977623",
      "text": "    return userCSS;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636277841,
      "updated": 1636277843
    },
    {
      "id": "618798c81280f00000745cac",
      "text": "  };",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636276425
    },
    {
      "id": "618798c81280f00000745cf8",
      "text": " code:worker.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276425,
      "updated": 1636277731
    },
    {
      "id": "618799d41280f00000745d1a",
      "text": "  // ピンされたページが 100 件を超えることは想定しない。",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276692,
      "updated": 1636276693
    },
    {
      "id": "618799731280f00000745d0c",
      "text": "  async function getPinnedPages(project) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276596,
      "updated": 1636276623
    },
    {
      "id": "618799971280f00000745d19",
      "text": "    const response = await fetch(`https://scrapbox.io/api/pages/${project}`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276631,
      "updated": 1636284543
    },
    {
      "id": "618799911280f00000745d13",
      "text": "    const { pages } = await response.json();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276625,
      "updated": 1636276653
    },
    {
      "id": "618799911280f00000745d14",
      "text": "    return pages.filter(({pin}) => pin > 0);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276625,
      "updated": 1636276665
    },
    {
      "id": "618799901280f00000745d0f",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276624,
      "updated": 1636276624
    },
    {
      "id": "618799731280f00000745d0d",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276596,
      "updated": 1636276596
    },
    {
      "id": "618799131280f00000745cfa",
      "text": "  async function getLinks(project) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276499,
      "updated": 1636276514
    },
    {
      "id": "618799141280f00000745cfb",
      "text": "    let followingId = null;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799141280f00000745cfc",
      "text": "    const linkMap = new Map();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276824
    },
    {
      "id": "618799141280f00000745cfe",
      "text": "    do {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799141280f00000745cff",
      "text": "      const response = await (!followingId ? ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799141280f00000745d00",
      "text": "        fetch(`https://scrapbox.io/api/pages/${project}/search/titles`) :",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636284545
    },
    {
      "id": "618799141280f00000745d01",
      "text": "        fetch(`https://scrapbox.io/api/pages/${project}/search/titles?followingId=${followingId}`)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636284546
    },
    {
      "id": "618799141280f00000745d02",
      "text": "        )",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799141280f00000745d03",
      "text": "      followingId = response.headers.get('X-Following-Id');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799401280f00000745d0a",
      "text": "      const pages = await response.json();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276544,
      "updated": 1636276888
    },
    {
      "id": "61879a6c1280f00000745d1e",
      "text": "      for (const {title, links} of pages) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276845,
      "updated": 1636276896
    },
    {
      "id": "61879aa01280f00000745d20",
      "text": "        linkMap.set(title, links);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276896,
      "updated": 1636276905
    },
    {
      "id": "61879aa11280f00000745d21",
      "text": "      }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276897,
      "updated": 1636276897
    },
    {
      "id": "618799141280f00000745d05",
      "text": "    } while(followingId);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "618799141280f00000745d08",
      "text": "    return linkMap;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276825
    },
    {
      "id": "618799141280f00000745d09",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636276500,
      "updated": 1636276500
    },
    {
      "id": "61875e561280f00000dd0098",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636261463,
      "updated": 1636261463
    },
    {
      "id": "61876cb3d1a02f0000a424e4",
      "text": "[Scrapbox Beaver] くんの気持ちになれるかもしれない。[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636265140,
      "updated": 1636265300
    },
    {
      "id": "61876d20d1a02f0000a424e8",
      "text": "　あれはゴミ箱ではなく尻尾か……",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636265249,
      "updated": 1636265279
    },
    {
      "id": "61879d99d1a02f0000e1c3eb",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636277658,
      "updated": 1636277716
    },
    {
      "id": "61879dd9d1a02f0000e1c3ee",
      "text": "定期的に garbage を集めるのではなく、ページを書いている途中で garbage 判定する?[hata6502.icon]",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636277722,
      "updated": 1636277891
    },
    {
      "id": "61879ddbd1a02f0000e1c3ef",
      "text": "　いや、これだと Scrapbox ならではの自由なアウトプット環境が失われるかも。",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636277724,
      "updated": 1636277946
    },
    {
      "id": "61879eb9d1a02f0000e1c3f1",
      "text": "　普段どおりページを書くモードと、garbage collect モードは切り替え式のままでよさそう。",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636277946,
      "updated": 1636278050
    },
    {
      "id": "61879e86d1a02f0000e1c3f0",
      "text": "",
      "userId": "5ff4fb2169e764001cd1a02f",
      "created": 1636277895,
      "updated": 1636277895
    },
    {
      "id": "6187afdd1280f0000094bfac",
      "text": "井戸端でやってみた",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282333,
      "updated": 1636282338
    },
    {
      "id": "6187b10d1280f00000c1bd49",
      "text": " 564ページある",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282637,
      "updated": 1636282641
    },
    {
      "id": "6187afe11280f0000094bfae",
      "text": "　「そういやそういうのあったな」と思い出すページが結構ある[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282338,
      "updated": 1636282370
    },
    {
      "id": "6187b0021280f0000094bfb0",
      "text": "　 一瞬だけ見かけたページとか",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282370,
      "updated": 1636282378
    },
    {
      "id": "6189a53c79d3a90000d59419",
      "text": "　ネタページがちょいちょいあって腹筋がやられる[sta.icon]",
      "userId": "5a4873ab2e26fb001479d3a9",
      "created": 1636410685,
      "updated": 1636410694
    },
    {
      "id": "6187b00a1280f0000094bfb1",
      "text": "　[https://gyazo.com/a3b2b6178c286afe9bbc9c2c6c43c2d3/raw]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282378,
      "updated": 1636282801
    },
    {
      "id": "6187b00e1280f0000094bfb2",
      "text": " [https://gyazo.com/292728c84ea78d023c348227ef610108/raw]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282383,
      "updated": 1636282812
    },
    {
      "id": "6187b0141280f0000094bfb3",
      "text": " [https://gyazo.com/ecc859597f530c1ac19098f5cdc4e978/raw]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1636282388,
      "updated": 1636282816
    },
    {
      "id": "6187afe11280f0000094bfad",
      "text": "　画像にあるが今では削除されたページがたくさん存在する？[hatori.icon]",
      "userId": "62a91a7a083437001de60035",
      "created": 1636282338,
      "updated": 1660559047
    },
    {
      "id": "62fa1ec5e600350000078016",
      "text": " 　[ラート]は[hatori.icon]が作成した時点ではページが存在しなかったので、それとは知らず改めて作ったことになるのだな",
      "userId": "62a91a7a083437001de60035",
      "created": 1660559047,
      "updated": 1660559047
    },
    {
      "id": "62fa1ec3e600350000078015",
      "text": "",
      "userId": "62a91a7a083437001de60035",
      "created": 1660559045,
      "updated": 1660559045
    }
  ]
}