{
  "id": "6557403a7cea25001cf0ecf8",
  "title": "いまさらtwitter埋め込みが死をどうにかしようとしている",
  "created": 1700216891,
  "updated": 1700219038,
  "lines": [
    {
      "id": "6557403a7cea25001cf0ecf8",
      "text": "いまさらtwitter埋め込みが死をどうにかしようとしている",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216898
    },
    {
      "id": "6557403b5e90c000004f4576",
      "text": "from [2023/11/17]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4577",
      "text": "いまさら[twitter埋め込みが死]をどうにかしようとしている[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216914
    },
    {
      "id": "6557403b5e90c000004f4578",
      "text": "\t[scrapbox-url-customizer]で良いのか？",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4579",
      "text": "\t\tなんかエラーになる・・",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457a",
      "text": "\t\t\t> index.js:2 TypeError: Cannot read properties of undefined (reading 'replace')",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457b",
      "text": "\t\t\t文字列が入るはずのところで`undefined`になってるってこと[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457c",
      "text": "\t\t最新版でもだめだな",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457d",
      "text": "\t\t v0.2.4でもだめかあ[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457e",
      "text": "\t\t v0.2.4とmainで試しました[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f457f",
      "text": "\t\t変換後のソースから原因を探るのは難しそうだな",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4580",
      "text": "\t\t 開発ツールでformatして追跡すると楽です[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4581",
      "text": "\t　対象のtweetを教えていただければ調査します[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4582",
      "text": "\t　 お、tweetの種類によるものかもしれないのか、例えば以下です[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4583",
      "text": "\t　 \thttps://twitter.com/kunukunu/status/1723700396357501148",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4584",
      "text": "    https://twitter.com/ina_ani/status/1722891119045104015",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4585",
      "text": "    全て変換に成功しました[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4586",
      "text": "\t　 [数個のtweet https://github.com/takker99/scrapbox-url-customizer/blob/0.2.4/internal/processTweet.test.ts]だけでテストを組んでいるので、想定していないtweet formatでエラーが出ている可能性があります[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4587",
      "text": "\t　 \tそこにある https://twitter.com/FloodSocial/status/1572401761092239362 も手元ではだめなので、なにかやり方がおかしいのかも・・[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4588",
      "text": "\t　 \tminified codeを教えていただけるとわかるかも[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4589",
      "text": "\t　 \t\t[/inajob/scrapbox-url-customizer] です[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458a",
      "text": "\t　 \t\t\t https://scrapbox-bundler.vercel.app?url=https://raw.githubusercontent.com/takker99/scrapbox-url-customizer/0.2.4/examples/popup.ts&bundle&minify&run&reload",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458b",
      "text": "\t　 \t\t\t \tしたものです",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458c",
      "text": "\t　 原因がわかりました。[api/embed-text/twitter]の応答の型変更です[takker.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458d",
      "text": "\t　  今までは`userName`が生えていたが、あるタイミングで消えたみたい",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458e",
      "text": "\t　  これを文字列だとみなして処理していたため、`userName.replace()`で`TypeError: Cannot read properties of undefined (reading 'replace')`が発生した",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f458f",
      "text": "\t　 対策",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4590",
      "text": "\t　  PCのみ",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4591",
      "text": "\t　   [TamperMonkey]で[GM fetch]を入れる",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4592",
      "text": "\t　  モバイル含む",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4593",
      "text": "\t　  　コードに修正を加える必要がある",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4594",
      "text": " \t\t　  [api/embed-text/twitter]の型定義の更新",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4595",
      "text": " \t\t　  変更された型定義に併せて、[scrapbox-url-customizer]のformat処理を書き換える",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4596",
      "text": "\t　 [takker.icon]が再現できなかったのは、[GM fetch]を入れていたため",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4597",
      "text": "\t　  [GM fetch]がない環境でのみ[api/embed-text/twitter]を叩く仕様にしていた",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4598",
      "text": "\t　 なるほどー[inajob.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f4599",
      "text": "\t　 \t今は [api/embed-text/twitter] は動いているけどCtrl+Shift+Vが動いていない状況のか・・",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f459a",
      "text": " https://github.com/FixTweet/FixTweet",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f459b",
      "text": "  [kyamad9.icon]",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    },
    {
      "id": "6557403b5e90c000004f459c",
      "text": "",
      "userId": "60508ed36a7abc00235e90c0",
      "created": 1700216891,
      "updated": 1700216891
    }
  ]
}