{
  "id": "63fb97260be1bc001ce9aa55",
  "title": "英語は日本語の2倍GPT3に文脈情報を渡せる",
  "created": 1677432614,
  "updated": 1741447825,
  "lines": [
    {
      "id": "63fb97260be1bc001ce9aa55",
      "text": "英語は日本語の2倍GPT3に文脈情報を渡せる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677432614,
      "updated": 1677727505
    },
    {
      "id": "63fc79ebaff09e00000af6ff",
      "text": "[ChatGPT]に「これを参考にして返事して」と文脈情報を渡す場合、英語にして渡す方が2倍渡せる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677490668,
      "updated": 1677490669
    },
    {
      "id": "63fc79edaff09e00000af700",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677490669,
      "updated": 1677490669
    },
    {
      "id": "63fb9727774b17000006bfc4",
      "text": "from [2023/02/25]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432614
    },
    {
      "id": "63fb9739774b17000006bfd8",
      "text": "[nishio.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432633,
      "updated": 1677432644
    },
    {
      "id": "63fb9727774b17000006bfc6",
      "text": " [GPT3]、[トークナイザー]のレイヤーで日本語の一文字をバイトに刻んでるケースがしばしばある。日本語での入出力は文字的には短くても[トークン]的には長い。",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432759
    },
    {
      "id": "63fb9727774b17000006bfc7",
      "text": " \t[https://gyazo.com/a418d926e2a625a47138abee6273bb1f]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfc8",
      "text": " \tDeepL-ed",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfc9",
      "text": " \t\tGPT3, there are often cases where a single Japanese character is chopped into bytes in the tokenizer layer. Input/output in Japanese is short in terms of characters but long in terms of tokens.",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfca",
      "text": " \t\t[https://gyazo.com/9646677e6040165fc81b431a33d71172]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfcb",
      "text": " \thttps://platform.openai.com/tokenizer",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfcc",
      "text": " これは結構厄介では",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfcd",
      "text": " つまり、今まで漢字を使う中国人や日本人はアルファベットを使う人たちに比べて情報の密度が高かった",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfce",
      "text": " 　同じ内容を日本語で書くのと英語で書くのでは英語の方が2倍面積を取っていた",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfcf",
      "text": " 　人間の物理的視野の広さは人種によって大差ないので、日本人は一度に目からインプットできる情報量が2倍大きい",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd0",
      "text": " しかし、[AIの視点]で見ると、同じ内容を日本語と英語で与えた場合に日本語の方が英語の2倍ほどのトークンになる",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432769
    },
    {
      "id": "63fb9727774b17000006bfd1",
      "text": " 　[GPT3が一度にインプットできるトークンは4000程度]で固定",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd2",
      "text": " 　人間の物理的視野のようなもの",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd3",
      "text": " 　日本語で書かれたものの方が一度に見れる量が少ない",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd4",
      "text": " 　ChatGPTに「これを参考にして返事して」と文脈情報を渡す場合、英語にして渡す方が2倍渡せるということ、この差はでかい",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd5",
      "text": " 　 料金が高くなるというのをみたけど一度に渡せる情報量も変わるのか〜[基素.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "63fb9727774b17000006bfd6",
      "text": " 　  https://twitter.com/gijigae/status/1620346369872642049",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677432642
    },
    {
      "id": "640982e9774b1700004e6793",
      "text": " 　  というかトークン数が増えるからお金もかかるってことだ",
      "userId": "59fb21121207900012774b17",
      "created": 1678344937,
      "updated": 1678344947
    },
    {
      "id": "63fb9727774b17000006bfd7",
      "text": " これは[トークナイザ]がutf8対応とかすれば済む話なのかな？[inajob.icon]",
      "userId": "59fb21121207900012774b17",
      "created": 1677432614,
      "updated": 1677579449
    },
    {
      "id": "63fdcc81b8db540000fbaeaa",
      "text": " 　分かち書き対応がいる？[meganii.icon]",
      "userId": "5a1660501dab010014b8db54",
      "created": 1677577344,
      "updated": 1677577406
    },
    {
      "id": "63fdd066aff09e00007c0d37",
      "text": " 　トークナイザーの出力するトークンが変わると以降の学習が全滅する気が…[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677578342,
      "updated": 1677578395
    },
    {
      "id": "63fdd09baff09e00007c0d39",
      "text": "　　　トークナイザーの出力は一般的には[ワンホットベクトル]でニューラルネットに入れるのでトークナイザーの出力するトークン数が変わるとネットワークのサイズも比例して変わるんよ",
      "userId": "59fb21121207900012774b17",
      "created": 1677578395,
      "updated": 1677579460
    },
    {
      "id": "63fdd148aff09e00007c0d3a",
      "text": "　　　トークナイザーの変化を追加学習で吸収できるのかな…やってやれないことはなさそうな気がしてきたから全体再学習とはならなさそう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677578569,
      "updated": 1677578614
    },
    {
      "id": "63fdd179aff09e00007c0d3b",
      "text": "　　　要するに埋め込まれた後のデンスなベクトルが同じものになるように学習すればいいわけだからそこだけ切り離して学習できるか？？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677578618,
      "updated": 1677578668
    },
    {
      "id": "63fddf92aff09e0000ab3e00",
      "text": "　　　いや、ダメだな、OpenAI側がベクトルを受け取るAPIを提供してくれないとこっちでどうこうできないな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677582226,
      "updated": 1677582265
    },
    {
      "id": "63fe9d22aff09e0000352b04",
      "text": "　別の場所での質問を見て、上記の質問を正しく理解してなかったかもと気づいた[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630755,
      "updated": 1677631065
    },
    {
      "id": "63fe9d48aff09e0000352b05",
      "text": "　　「information」で1トークンになってるところが見所",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630792,
      "updated": 1677630841
    },
    {
      "id": "63fe9d77aff09e0000352b06",
      "text": "　　元が何バイトであっても1トークンにすることには支障ない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630839,
      "updated": 1677630843
    },
    {
      "id": "63fe9d7baff09e0000352b07",
      "text": "　　ではなぜ「情」を構成する3バイトが2トークンに刻まれているのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630843,
      "updated": 1677630897
    },
    {
      "id": "63fe9db0aff09e0000352b08",
      "text": "　　「情」の出現頻度は「information」の出現頻度よりはるかに低いので1つのトークンにする価値はない、とGPT3のトークナイザーが判断してしまっている状態",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630898,
      "updated": 1677631052
    },
    {
      "id": "63fe9dd8aff09e0000352b09",
      "text": "　　　トークンは全部で50000種類程度",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630936,
      "updated": 1677630997
    },
    {
      "id": "63fe9e15aff09e0000352b0a",
      "text": "　　　増やすことは技術的には問題ないが、増やした分だけ学習コストが掛かる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677630997,
      "updated": 1677631018
    },
    {
      "id": "63fe9e76aff09e0000352b0b",
      "text": "　　　経済的理由により日本語とかいうマイノリティ言語に割くリソースが少ないという話",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677631095,
      "updated": 1677631128
    },
    {
      "id": "63fdc579aff09e00006f5115",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677575548,
      "updated": 1677575548
    },
    {
      "id": "63fdc579aff09e00006f5116",
      "text": "[https://gyazo.com/10c1b8c1b9b9b1817d78f1133a748f82][https://gyazo.com/9f52e93ff88b586b14311c82d230a8b8]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677575548,
      "updated": 1677575588
    },
    {
      "id": "63fdc5d4aff09e00006f511b",
      "text": "[https://gyazo.com/f0a0af30d47e17bf5cebf9d79774f2b6][https://gyazo.com/b5be2d6f88a06f83777451a77264327b]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677575639,
      "updated": 1677575643
    },
    {
      "id": "63fdc5b2aff09e00006f511a",
      "text": "[https://gyazo.com/14e4f77793d723af030402d9042df1bf]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677575605,
      "updated": 1677576014
    },
    {
      "id": "63fdc74caff09e00006f511d",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677576014,
      "updated": 1677576014
    },
    {
      "id": "63fdc74caff09e00006f511c",
      "text": ">もしかしたら gpt-3.5-turbo は日本語の消費トークン数に改善が入っている？",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1677576014,
      "updated": 1677736887
    },
    {
      "id": "64003bb65f1e0d00007a63a8",
      "text": ">「[おおきに]！ぼちぼちやでぇ。貴様はどないや？」に対するトークン数がOpenAIのサイトで計算すると39なんだけど、API利用での消費は29で返ってくる。completionのtext-davinci-003でも39。",
      "userId": "5d69dde930e3c500170f1ffd",
      "created": 1677736887,
      "updated": 1741447825
    },
    {
      "id": "64003bb65f1e0d00007a63a9",
      "text": ">https://t.co/VFT7DeQuHV [https://twitter.com/santa128bit/status/1631072216187019265?s=20 Shinji Yamada]",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1677736887,
      "updated": 1677736887
    },
    {
      "id": "64003bad5f1e0d00007a63a7",
      "text": "　30%ぐらい少なくなった",
      "userId": "616ca537c25a92001e5f1e0d",
      "created": 1677736878,
      "updated": 1677736956
    },
    {
      "id": "64006950aff09e000026e22c",
      "text": "　嬉しい方向の変化だけど、モデルによってトークン数が異なるとなると見積もりが混乱するなぁw[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677748560,
      "updated": 1677748628
    },
    {
      "id": "64006972aff09e000026e22d",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1677748594,
      "updated": 1677748594
    }
  ]
}