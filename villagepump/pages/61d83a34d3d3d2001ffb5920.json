{
  "id": "61d83a34d3d3d2001ffb5920",
  "title": "カラーコードを入力したら48×48の正方形で画像出力してくれるやつ",
  "created": 1641560632,
  "updated": 1641775349,
  "lines": [
    {
      "id": "61d83a34d3d3d2001ffb5920",
      "text": "カラーコードを入力したら48×48の正方形で画像出力してくれるやつ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560632,
      "updated": 1641560632
    },
    {
      "id": "61d86afe7838e300002fc39d",
      "text": "from [2022/01/07#61d81d9655cbd30000fab563]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641573118,
      "updated": 1641573154
    },
    {
      "id": "61d83a397838e30000b9d01f",
      "text": "作った[Mijinko_SD.icon]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560632,
      "updated": 1641560638
    },
    {
      "id": "61d83a3f7838e30000b9d021",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560639,
      "updated": 1641560639
    },
    {
      "id": "61d83a4d7838e30000b9d024",
      "text": "[https://gyazo.com/4f87eedc9ae7a5048505d3b810e7f2a7]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560653,
      "updated": 1641560660
    },
    {
      "id": "61d83b027838e30000b9d07f",
      "text": "\t「色画像作成」ボタンを追加する[UserScript]。",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560833,
      "updated": 1641560853
    },
    {
      "id": "61d83b577838e30000b9d081",
      "text": "\t\t#1f1e33 みたいな[カラーコード]を選択してボタンを押せば、自動的に画像を生成して保存する。",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641560918,
      "updated": 1641594169
    },
    {
      "id": "61d83a547838e30000b9d026",
      "text": "\t`#`がなくても6桁の16進数であれば認識する。",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560660,
      "updated": 1641560698
    },
    {
      "id": "61d83a9c7838e30000b9d028",
      "text": "\t出力例↓",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560731,
      "updated": 1641562081
    },
    {
      "id": "61d83a4d7838e30000b9d025",
      "text": "\t\t[https://gyazo.com/4c3f6fe5c13dcc5cad33d2f2fac2a302]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560653,
      "updated": 1641560733
    },
    {
      "id": "61d83a997838e30000b9d027",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560728,
      "updated": 1641560728
    },
    {
      "id": "61d83c747838e30000b9d085",
      "text": "[** ソース]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561203,
      "updated": 1641561208
    },
    {
      "id": "61d83a407838e30000b9d022",
      "text": "code:script.js",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560639,
      "updated": 1641560645
    },
    {
      "id": "61d83aba7838e30000b9d053",
      "text": " function saveImage(R, G, B, A=255, width=48, height=48) {",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d054",
      "text": "     const size = [width,height]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d055",
      "text": "     const color = [R,G,B,A] // [赤,緑,青,不透明度]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d056",
      "text": " ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d057",
      "text": "     let canvas = document.createElement(\"canvas\")",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d058",
      "text": "     canvas.width = size[0]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d059",
      "text": "     canvas.height = size[1]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05a",
      "text": "     let context = canvas.getContext(\"2d\")",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05b",
      "text": " ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05c",
      "text": "     let image = context.getImageData(0,0,size[0],size[1])",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05d",
      "text": "     for(let i = 0; i < size[0]*size[1]; i++) {",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05e",
      "text": "         // 色指定",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d05f",
      "text": "         image.data[i*4 + 0] = color[0] // 赤",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d060",
      "text": "         image.data[i*4 + 1] = color[1] // 緑",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d061",
      "text": "         image.data[i*4 + 2] = color[2] // 青",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d062",
      "text": "         image.data[i*4 + 3] = color[3] // 不透明度（アルファ）",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d063",
      "text": "     }",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d064",
      "text": "     context.putImageData(image,0,0)",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d065",
      "text": " \t",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560809
    },
    {
      "id": "61d83aea7838e30000b9d07e",
      "text": " \t// ダウンロード処理",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560809,
      "updated": 1641560816
    },
    {
      "id": "61d83aba7838e30000b9d066",
      "text": "     let a = document.createElement(\"a\")",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d067",
      "text": "     a.href = canvas.toDataURL()",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d068",
      "text": "     a.download = `color_${R.toString(16).toUpperCase()}${G.toString(16).toUpperCase()}${B.toString(16).toUpperCase()}.png`",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d069",
      "text": "     a.click()",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d06a",
      "text": " }",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d06b",
      "text": " ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83cd67838e30000b9d086",
      "text": " function getColorFromText(text) {",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83ce47838e30000b9d090",
      "text": " \t// 文字列\"RRGGBB\" -> カラコ配列[R,G,B]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561316,
      "updated": 1641561340
    },
    {
      "id": "61d83cd67838e30000b9d087",
      "text": "     let colorCode = text.match(/[0-9a-fA-F]{6}/)",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d088",
      "text": "     if (colorCode === null) return;",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d089",
      "text": "     ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08a",
      "text": "     colorCode = colorCode.toString()",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08b",
      "text": "     let color = [parseInt(colorCode.substr(0,2), 16),",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08c",
      "text": "              parseInt(colorCode.substr(2,2), 16),",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08d",
      "text": "              parseInt(colorCode.substr(4,2), 16)]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08e",
      "text": "     return color",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83cd67838e30000b9d08f",
      "text": " }",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641561301,
      "updated": 1641561301
    },
    {
      "id": "61d83aba7838e30000b9d076",
      "text": " ",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641560761
    },
    {
      "id": "61d83aba7838e30000b9d077",
      "text": " scrapbox.PopupMenu.addButton({",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560761,
      "updated": 1641562666
    },
    {
      "id": "61d8422b7838e30000f2ce99",
      "text": "     title: '色画像作成',",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641562666
    },
    {
      "id": "61d8422b7838e30000f2ce9a",
      "text": "     onClick: text => {",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641562666
    },
    {
      "id": "61d8422b7838e30000f2ce9b",
      "text": "         let color = getColorFromText(text);",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641562666
    },
    {
      "id": "61d8422b7838e30000f2ce9d",
      "text": "         if (typeof color !== \"undefined\") saveImage(color[0],color[1],color[2]);",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641563138
    },
    {
      "id": "61d8422b7838e30000f2ce9e",
      "text": "     }",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641562666
    },
    {
      "id": "61d8422b7838e30000f2ce9f",
      "text": " })",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641562666,
      "updated": 1641562666
    },
    {
      "id": "61d83a3c7838e30000b9d020",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560635,
      "updated": 1641560986
    },
    {
      "id": "61d83b9b7838e30000b9d083",
      "text": "\tスクリプトが長いって？",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560986,
      "updated": 1641560992
    },
    {
      "id": "61d83ba07838e30000b9d084",
      "text": "\t\tJavaScript詳しくないから勘弁して…",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560992,
      "updated": 1641561001
    },
    {
      "id": "61d83b997838e30000b9d082",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641560985,
      "updated": 1641560985
    },
    {
      "id": "61d8697b55cbd300003c78e1",
      "text": "天才[mtane0412.icon][takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641572730,
      "updated": 1641595277
    },
    {
      "id": "61d869aa7838e300002581a0",
      "text": "\tやったぜ( ◜ᴗ◝)و[Mijinko_SD.icon]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1641572778,
      "updated": 1641607567
    },
    {
      "id": "61d875227838e3000036f929",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641575714,
      "updated": 1641575714
    },
    {
      "id": "61d875397838e3000036f92b",
      "text": "\tあんまり内容変わらないけど、自分のプロジェクトにもページ作った[Mijinko_SD.icon]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641575737,
      "updated": 1641575800
    },
    {
      "id": "61d875227838e3000036f92a",
      "text": "\t\t[/Mijinko/テキスト内のカラーコードから画像を生成するUserScript]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641575714,
      "updated": 1641575763
    },
    {
      "id": "61d875557838e3000036f92c",
      "text": "\t\tこれ作るときにどこのサイト見たかは書いてある",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641575765,
      "updated": 1641575795
    },
    {
      "id": "61d8bda31280f0000078bc72",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594276,
      "updated": 1641594276
    },
    {
      "id": "61d8ab508ee92a00004bbd82",
      "text": "",
      "userId": "566fa156776c9b11008ee92a",
      "created": 1641589585,
      "updated": 1641589585
    },
    {
      "id": "61d8b2851280f0000066997e",
      "text": "ラスタイメージなら確かにこういう方法もありか[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591430,
      "updated": 1641591431
    },
    {
      "id": "61d8c4481280f00000cb9ac4",
      "text": " 個人的な好みだとSVGだけど",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595976,
      "updated": 1641595994
    },
    {
      "id": "61d8bef11280f000005d65df",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594610,
      "updated": 1641595183
    },
    {
      "id": "61d8b5d91280f000006699a2",
      "text": "自分も作ってみた[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592282,
      "updated": 1641592296
    },
    {
      "id": "61d8baf81280f0000078bc53",
      "text": " `#RRGGBB`か`RRGGBB`を選択して実行すると、Gyazoにuploadした画像で置き換える",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593593,
      "updated": 1641593625
    },
    {
      "id": "61d8bbb51280f0000078bc5e",
      "text": " 事前に[Gyazo OAuth Upload]を設定している事が前提",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593782,
      "updated": 1641593795
    },
    {
      "id": "61d8bdeb1280f000005d65d7",
      "text": " [https://gyazo.com/30f43a2b07a2f0788548c0fad6b0ee56]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594348,
      "updated": 1641594349
    },
    {
      "id": "61d8bdb41280f000005d65d5",
      "text": "code:js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594292,
      "updated": 1641594295
    },
    {
      "id": "61d8bdb61280f000005d65d6",
      "text": " await import(\"/api/code/villagepump/カラーコードを入力したら48×48の正方形で画像出力してくれるやつ/script2.js\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594295,
      "updated": 1641594312
    },
    {
      "id": "61d8b27c1280f00000669976",
      "text": "code:script2.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641591421
    },
    {
      "id": "61d8b5f01280f000006699a3",
      "text": " import { getColorCode, isColorCode } from \"./color.js\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592307,
      "updated": 1641593543
    },
    {
      "id": "61d8b6071280f000006699a4",
      "text": " import { makeColorImage } from \"./draw.js\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592328,
      "updated": 1641592374
    },
    {
      "id": "61d8b6341280f000006699a5",
      "text": " import { uploadGyazoOAuth } from \"./gyazo.js\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592372,
      "updated": 1641592391
    },
    {
      "id": "61d8b79b1280f000006699af",
      "text": " import { insertText } from \"./edit.js\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592732,
      "updated": 1641592755
    },
    {
      "id": "61d8b6341280f000006699a6",
      "text": " ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592372,
      "updated": 1641592372
    },
    {
      "id": "61d8b27c1280f00000669977",
      "text": " scrapbox.PopupMenu.addButton({",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641591421
    },
    {
      "id": "61d8b27c1280f00000669978",
      "text": "   title: (text) => isColorCode(text) ? \"色画像作成\" : \"\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641592412
    },
    {
      "id": "61d8b27c1280f00000669979",
      "text": "   onClick: (text) => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641592662
    },
    {
      "id": "61d8b27c1280f0000066997a",
      "text": "     const color = getColorCode(text);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641593545
    },
    {
      "id": "61d8b6811280f000006699a7",
      "text": "     if (!color) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592450,
      "updated": 1641592475
    },
    {
      "id": "61d8b7571280f000006699ad",
      "text": "     (async () => {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592664,
      "updated": 1641592667
    },
    {
      "id": "61d8b27c1280f0000066997b",
      "text": "       const blob = await makeColorImage(color);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641593550
    },
    {
      "id": "61d8c0fc1280f000005d65e2",
      "text": "       const title = `${color}の48x48正方形画像.png`;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595132,
      "updated": 1641595215
    },
    {
      "id": "61d8b6b01280f000006699a8",
      "text": "       const { permalink_url } = await uploadGyazoOAuth(blob, {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592496,
      "updated": 1641594443
    },
    {
      "id": "61d8be4a1280f000005d65d9",
      "text": "         title,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594443,
      "updated": 1641595150
    },
    {
      "id": "61d8c1561280f000005d65e3",
      "text": "         // 先頭の#を抜く",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595222,
      "updated": 1641595229
    },
    {
      "id": "61d8c0321280f000005d65e0",
      "text": "         description: `${title.slice(1)}\\nRef:原色大辞典 https://www.colordic.org/colorscheme/${color.slice(1)}`,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594930,
      "updated": 1641595220
    },
    {
      "id": "61d8be4b1280f000005d65da",
      "text": "       });",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641594443,
      "updated": 1641594443
    },
    {
      "id": "61d8b89e1280f000006699c8",
      "text": "       await insertText(`[${permalink_url}]`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592991,
      "updated": 1641593009
    },
    {
      "id": "61d8b7601280f000006699ae",
      "text": "     })();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592675,
      "updated": 1641592675
    },
    {
      "id": "61d8b72b1280f000006699ab",
      "text": "     return \"\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592619,
      "updated": 1641592634
    },
    {
      "id": "61d8b27c1280f0000066997c",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641592419
    },
    {
      "id": "61d8b27c1280f0000066997d",
      "text": " });",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591421,
      "updated": 1641592503
    },
    {
      "id": "61d8b27a1280f00000669975",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591419,
      "updated": 1641591419
    },
    {
      "id": "61d8ab518ee92a00004bbd83",
      "text": "自動的にGyazoるとラクかも? [増井俊之.icon]",
      "userId": "566fa156776c9b11008ee92a",
      "created": 1641589585,
      "updated": 1641589596
    },
    {
      "id": "61d8ade71280f000006698c6",
      "text": " やってみます[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590248,
      "updated": 1641590259
    },
    {
      "id": "61d8af391280f00000669916",
      "text": " Gyazoへuploadする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590585,
      "updated": 1641590596
    },
    {
      "id": "61d8bbb01280f0000078bc5d",
      "text": "  [/takker/uploadToGyazo]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593777,
      "updated": 1641593778
    },
    {
      "id": "61d8b1421280f0000066994f",
      "text": "  code:gyazo.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591107,
      "updated": 1641591111
    },
    {
      "id": "61d8b14c1280f00000669951",
      "text": "   /** Gyazoへ画像をuploadする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591117,
      "updated": 1641591117
    },
    {
      "id": "61d8b14c1280f00000669952",
      "text": "    *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591117,
      "updated": 1641592829
    },
    {
      "id": "61d8b14c1280f00000669953",
      "text": "    * @param image uploadする画像データ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591117,
      "updated": 1641592829
    },
    {
      "id": "61d8b1981280f0000066995d",
      "text": "    * @param options options",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591193,
      "updated": 1641592829
    },
    {
      "id": "61d8b14c1280f00000669955",
      "text": "    */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591117,
      "updated": 1641592829
    },
    {
      "id": "61d8b14c1280f00000669956",
      "text": "   export function uploadGyazoOAuth(image: Blob, options?: GyazoOption): Promise<GyazoResult>;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591117,
      "updated": 1641591185
    },
    {
      "id": "61d8b1461280f00000669950",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591111,
      "updated": 1641591111
    },
    {
      "id": "61d8b16a1280f00000669958",
      "text": "   export interface GyazoOption {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591146,
      "updated": 1641591155
    },
    {
      "id": "61d8b1731280f00000669959",
      "text": "     title?: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591155,
      "updated": 1641591162
    },
    {
      "id": "61d8b17a1280f0000066995b",
      "text": "     description?: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591162,
      "updated": 1641591168
    },
    {
      "id": "61d8b1801280f0000066995c",
      "text": "     created?: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591168,
      "updated": 1641591177
    },
    {
      "id": "61d8b1731280f0000066995a",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591156,
      "updated": 1641591156
    },
    {
      "id": "61d8b1a41280f0000066995e",
      "text": "   export interface GyazoResult {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591207,
      "updated": 1641591211
    },
    {
      "id": "61d8b1ee1280f00000669964",
      "text": "     image_id: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591278,
      "updated": 1641591281
    },
    {
      "id": "61d8b1ee1280f00000669965",
      "text": "     permalink_url: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591278,
      "updated": 1641591281
    },
    {
      "id": "61d8b1ee1280f00000669966",
      "text": "     thumb_url: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591278,
      "updated": 1641591281
    },
    {
      "id": "61d8b1ee1280f00000669967",
      "text": "     url: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591278,
      "updated": 1641591281
    },
    {
      "id": "61d8b1ee1280f00000669968",
      "text": "     type: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591278,
      "updated": 1641591281
    },
    {
      "id": "61d8b1aa1280f0000066995f",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591211,
      "updated": 1641591211
    },
    {
      "id": "61d8b16a1280f00000669957",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591146,
      "updated": 1641591146
    },
    {
      "id": "61d8af421280f00000669917",
      "text": "  code:gyazo.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590596,
      "updated": 1641590599
    },
    {
      "id": "61d8af461280f00000669918",
      "text": "   export async function uploadGyazoOAuth(image, options) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590599,
      "updated": 1641590929
    },
    {
      "id": "61d8af7c1280f00000669919",
      "text": "     const token = await getOAuthToken();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590653,
      "updated": 1641590840
    },
    {
      "id": "61d8b0681280f00000669942",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590889,
      "updated": 1641590889
    },
    {
      "id": "61d8b0971280f00000669943",
      "text": "     const {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590935,
      "updated": 1641590938
    },
    {
      "id": "61d8b09c1280f00000669945",
      "text": "       title,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590941,
      "updated": 1641590946
    },
    {
      "id": "61d8b0a11280f00000669946",
      "text": "       description,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590946,
      "updated": 1641590949
    },
    {
      "id": "61d8b0a81280f00000669947",
      "text": "       created = Math.round(new Date().getTime() / 1000),",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590954,
      "updated": 1641590975
    },
    {
      "id": "61d8b0991280f00000669944",
      "text": "     } = options ?? {};",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590938,
      "updated": 1641590983
    },
    {
      "id": "61d8b0601280f0000066992f",
      "text": "     const formData = new FormData();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590887
    },
    {
      "id": "61d8b0601280f00000669930",
      "text": "     formData.append(\"imagedata\", image);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590894
    },
    {
      "id": "61d8b0601280f00000669931",
      "text": "     formData.append(\"access_token\", token);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590901
    },
    {
      "id": "61d8b0601280f00000669932",
      "text": "     formData.append('referer_url', location.href);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590912
    },
    {
      "id": "61d8b0601280f00000669933",
      "text": "     if (title) formData.append('title', title);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590993
    },
    {
      "id": "61d8b0601280f00000669934",
      "text": "     if (description) formData.append('desc', description);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641595083
    },
    {
      "id": "61d8b0601280f00000669935",
      "text": "     formData.append('created_at', created);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590991
    },
    {
      "id": "61d8b0601280f00000669936",
      "text": "       ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641590881
    },
    {
      "id": "61d8b0601280f00000669937",
      "text": "     const res = await fetch(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591001
    },
    {
      "id": "61d8b0601280f00000669938",
      "text": "       \"https://upload.gyazo.com/api/upload\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591021
    },
    {
      "id": "61d8b0601280f00000669939",
      "text": "       {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591001
    },
    {
      "id": "61d8b0601280f0000066993a",
      "text": "         method: \"POST\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591027
    },
    {
      "id": "61d8b0601280f0000066993b",
      "text": "         mode: \"cors\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591029
    },
    {
      "id": "61d8b0601280f0000066993c",
      "text": "         credentials: \"omit\",",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641593247
    },
    {
      "id": "61d8b0601280f0000066993d",
      "text": "         body: formData,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591001
    },
    {
      "id": "61d8b0601280f0000066993e",
      "text": "       },",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591001
    },
    {
      "id": "61d8b0601280f0000066993f",
      "text": "     );",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591001
    },
    {
      "id": "61d8b0e31280f00000669948",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591011,
      "updated": 1641591011
    },
    {
      "id": "61d8b0601280f00000669940",
      "text": "     return await res.json();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590881,
      "updated": 1641591009
    },
    {
      "id": "61d8af7f1280f0000066991a",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590656,
      "updated": 1641590656
    },
    {
      "id": "61d8af9a1280f0000066991c",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590683,
      "updated": 1641590683
    },
    {
      "id": "61d8b1bf1280f00000669962",
      "text": "  code:gyazo.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591232,
      "updated": 1641591237
    },
    {
      "id": "61d8b1be1280f00000669961",
      "text": "   /** Access Tokenを取得する */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591231,
      "updated": 1641591231
    },
    {
      "id": "61d8b1c71280f00000669963",
      "text": "   function getOAuthToken(): Promise<string>;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591240,
      "updated": 1641591265
    },
    {
      "id": "61d8b1b81280f00000669960",
      "text": "  code:gyazo.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591225,
      "updated": 1641591229
    },
    {
      "id": "61d8af9a1280f0000066991d",
      "text": "   async function getOAuthToken() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590683,
      "updated": 1641590709
    },
    {
      "id": "61d8afb41280f0000066991f",
      "text": "     const res = await fetch(\"/api/login/gyazo/oauth-upload/token\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590709,
      "updated": 1641590722
    },
    {
      "id": "61d8afd71280f00000669922",
      "text": "     if (!res.ok) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590743,
      "updated": 1641590750
    },
    {
      "id": "61d8afdd1280f00000669923",
      "text": "       throw Error(`${res.status} ${res.statusText}`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590750,
      "updated": 1641590769
    },
    {
      "id": "61d8afde1280f00000669924",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590751,
      "updated": 1641590751
    },
    {
      "id": "61d8affc1280f00000669925",
      "text": "     const token = (await res.json()).token;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590781,
      "updated": 1641590791
    },
    {
      "id": "61d8b0071280f00000669926",
      "text": "     if (!token) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590792,
      "updated": 1641590797
    },
    {
      "id": "61d8b00c1280f00000669927",
      "text": "       throw TypeError(\"Gyazo OAuth access token is not found.\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590797,
      "updated": 1641590823
    },
    {
      "id": "61d8b00d1280f00000669928",
      "text": "     }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590798,
      "updated": 1641590798
    },
    {
      "id": "61d8afc21280f00000669921",
      "text": "     return token;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590722,
      "updated": 1641590826
    },
    {
      "id": "61d8afb51280f00000669920",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590709,
      "updated": 1641590709
    },
    {
      "id": "61d8bb721280f0000078bc5a",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593715,
      "updated": 1641593715
    },
    {
      "id": "61d8b29c1280f0000066997f",
      "text": "画像作成",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591453,
      "updated": 1641591460
    },
    {
      "id": "61d8b2a41280f00000669980",
      "text": " code:draw.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591461,
      "updated": 1641592361
    },
    {
      "id": "61d8b3341280f00000669988",
      "text": "  /** カラーコードから画像を作る",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591605,
      "updated": 1641593398
    },
    {
      "id": "61d8b39e1280f00000669990",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591711,
      "updated": 1641592822
    },
    {
      "id": "61d8b3a01280f00000669993",
      "text": "   * @param color - カラーコード CSS colorなら何でもいい",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591713,
      "updated": 1641595949
    },
    {
      "id": "61d8b39e1280f00000669991",
      "text": "   * @param init - 画像の大きさとか",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591711,
      "updated": 1641595936
    },
    {
      "id": "61d8b39e1280f00000669992",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591711,
      "updated": 1641592822
    },
    {
      "id": "61d8b2a91280f00000669981",
      "text": "  export function makeColorImage(",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591465,
      "updated": 1641591523
    },
    {
      "id": "61d8b2e21280f00000669982",
      "text": "    color: string;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591523,
      "updated": 1641593406
    },
    {
      "id": "61d8b2ec1280f00000669986",
      "text": "    init?: ImageInit,",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591533,
      "updated": 1641591558
    },
    {
      "id": "61d8b3051280f00000669987",
      "text": "  ): Promise<Blob>;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591558,
      "updated": 1641591599
    },
    {
      "id": "61d8b3491280f00000669989",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591625,
      "updated": 1641591625
    },
    {
      "id": "61d8b3491280f0000066998a",
      "text": "  export interface ImageInit {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591625,
      "updated": 1641591631
    },
    {
      "id": "61d8b34f1280f0000066998b",
      "text": "    width?: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591632,
      "updated": 1641591637
    },
    {
      "id": "61d8b3551280f0000066998d",
      "text": "    height?: number;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591637,
      "updated": 1641591643
    },
    {
      "id": "61d8b3501280f0000066998c",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591633,
      "updated": 1641591633
    },
    {
      "id": "61d8ad991280f000006698c3",
      "text": " code:draw.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590170,
      "updated": 1641592365
    },
    {
      "id": "61d8adfd1280f000006698c9",
      "text": "  export async function makeColorImage(color, init) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590270,
      "updated": 1641593411
    },
    {
      "id": "61d8b3821280f0000066998f",
      "text": "    const { width = 48, height = 48 } = init ?? {};",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591685,
      "updated": 1641592184
    },
    {
      "id": "61d8ae031280f000006698cc",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592196
    },
    {
      "id": "61d8b5841280f000006699a0",
      "text": "    // 描画エリアを作成",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592196,
      "updated": 1641592201
    },
    {
      "id": "61d8ae031280f000006698cd",
      "text": "    const canvas = document.createElement(\"canvas\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592184
    },
    {
      "id": "61d8ae031280f000006698ce",
      "text": "    canvas.width = width;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592184
    },
    {
      "id": "61d8ae031280f000006698cf",
      "text": "    canvas.height = height;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592184
    },
    {
      "id": "61d8ae031280f000006698d0",
      "text": "    const context = canvas.getContext(\"2d\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592184
    },
    {
      "id": "61d8b5691280f0000066999d",
      "text": "    // 単色で塗りつぶす",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592170,
      "updated": 1641592184
    },
    {
      "id": "61d8b5691280f0000066999e",
      "text": "    context.fillStyle = color;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592170,
      "updated": 1641593419
    },
    {
      "id": "61d8b5691280f0000066999f",
      "text": "    context.fillRect(0, 0, canvas.width, canvas.height);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592170,
      "updated": 1641592184
    },
    {
      "id": "61d8ae031280f000006698db",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641592213
    },
    {
      "id": "61d8b5921280f000006699a1",
      "text": "    return await new Promise((resolve) => canvas.toBlob(resolve));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592213,
      "updated": 1641592235
    },
    {
      "id": "61d8ae031280f000006698e1",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641591774
    },
    {
      "id": "61d8ae031280f000006698e2",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641591774
    },
    {
      "id": "61d8aea41280f00000669904",
      "text": " References",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590437,
      "updated": 1641593668
    },
    {
      "id": "61d8bb591280f0000078bc57",
      "text": "  [https://developer.mozilla.org/ja/docs/Web/API/HTMLCanvasElement/toBlob HTMLCanvasElement.toBlob() - Web API | MDN]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593689,
      "updated": 1641593689
    },
    {
      "id": "61d8bb591280f0000078bc58",
      "text": "  [https://developer.mozilla.org/ja/docs/Web/API/CanvasRenderingContext2D/fillStyle CanvasRenderingContext2D.fillStyle - Web API | MDN]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593689,
      "updated": 1641593689
    },
    {
      "id": "61d8c3721280f00000cb9abf",
      "text": "   これで色を指定しているので、`#RRGGBB`だけに入力を限定する必要がない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595763,
      "updated": 1641595791
    },
    {
      "id": "61d8c38f1280f00000cb9ac0",
      "text": "   全てのCSS colorを指定できるようにしたいな",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595792,
      "updated": 1641595803
    },
    {
      "id": "61d8c3a21280f00000cb9ac2",
      "text": "    [https://gist.github.com/olmokramer/82ccce673f86db7cda5e Regex for CSS colors: hex, rgb(a), hsl(a)]を使えばいけそう？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641595811,
      "updated": 1641595818
    },
    {
      "id": "61d8bb411280f0000078bc54",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593665,
      "updated": 1641593665
    },
    {
      "id": "61d8aeaa1280f00000669905",
      "text": "カラーコード変換",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590443,
      "updated": 1641593481
    },
    {
      "id": "61d8b2011280f00000669969",
      "text": " code:color.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593481
    },
    {
      "id": "61d8b20a1280f0000066996b",
      "text": "  /** カラーコードに整形する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593494
    },
    {
      "id": "61d8b20a1280f0000066996c",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593481
    },
    {
      "id": "61d8b20a1280f0000066996d",
      "text": "   * @param text カラーコード",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593481
    },
    {
      "id": "61d8b20a1280f0000066996e",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593481
    },
    {
      "id": "61d8b20a1280f0000066996f",
      "text": "  export function getColorCode(text: string): string | undefined;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593513
    },
    {
      "id": "61d8b2061280f0000066996a",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593481,
      "updated": 1641593481
    },
    {
      "id": "61d8ae9b1280f00000669903",
      "text": " code:color.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8ae861280f00000669902",
      "text": "  const colorCodeRegExp = /^\\s*#?([0-9a-fA-F]{6})\\s*$/;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593480,
      "updated": 1641593480
    },
    {
      "id": "61d8b2331280f00000669970",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8ae031280f000006698e3",
      "text": "  export function getColorCode(text) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593538
    },
    {
      "id": "61d8ae031280f000006698e5",
      "text": "      const colorCode = text.match(colorCodeRegExp)?.[1];",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8ae031280f000006698e6",
      "text": "      if (!colorCode) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8ae031280f000006698e7",
      "text": "      ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8baae1280f0000078bc50",
      "text": "      return `#${colorCode}`;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593518,
      "updated": 1641593528
    },
    {
      "id": "61d8ae031280f000006698ed",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8af1c1280f00000669915",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593477,
      "updated": 1641593477
    },
    {
      "id": "61d8b23e1280f00000669971",
      "text": " code:color.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591359,
      "updated": 1641591362
    },
    {
      "id": "61d8af181280f00000669911",
      "text": "  /** カラーコードか判定する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590553,
      "updated": 1641592717
    },
    {
      "id": "61d8af181280f00000669912",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590553,
      "updated": 1641590583
    },
    {
      "id": "61d8af181280f00000669913",
      "text": "   * @param text カラーコードかもしれない文字列",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590553,
      "updated": 1641592722
    },
    {
      "id": "61d8af181280f00000669914",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590553,
      "updated": 1641590583
    },
    {
      "id": "61d8b24f1280f00000669973",
      "text": "  export function isColorCode(text: string): boolean;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591376,
      "updated": 1641591406
    },
    {
      "id": "61d8b2481280f00000669972",
      "text": " code:color.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641591369,
      "updated": 1641591374
    },
    {
      "id": "61d8ae731280f000006698ff",
      "text": "  export function isColorCode(text) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590388,
      "updated": 1641591403
    },
    {
      "id": "61d8ae7d1280f00000669900",
      "text": "    return colorCodeRegExp.test(text);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590397,
      "updated": 1641590583
    },
    {
      "id": "61d8ae7f1280f00000669901",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590399,
      "updated": 1641590583
    },
    {
      "id": "61d8ae031280f000006698ee",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590276,
      "updated": 1641590583
    },
    {
      "id": "61d8aec61280f00000669907",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590471,
      "updated": 1641590471
    },
    {
      "id": "61d8b7b61280f000006699b0",
      "text": "Scrapboxに書き込む",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592759,
      "updated": 1641592774
    },
    {
      "id": "61d8bba81280f0000078bc5c",
      "text": " [/takker/scrapbox-insert-text-2]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641593768,
      "updated": 1641593769
    },
    {
      "id": "61d8b7bd1280f000006699b1",
      "text": " code:edit.d.ts",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592774,
      "updated": 1641592774
    },
    {
      "id": "61d8b7c51280f000006699b2",
      "text": "  /** 現在位置に文字列を書き込む",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592774,
      "updated": 1641592848
    },
    {
      "id": "61d8b7ce1280f000006699b3",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592784,
      "updated": 1641592797
    },
    {
      "id": "61d8b7d01280f000006699b4",
      "text": "   * @param text 書き込みたい文字列",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592784,
      "updated": 1641592840
    },
    {
      "id": "61d8b8111280f000006699b5",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592850,
      "updated": 1641592853
    },
    {
      "id": "61d8b8131280f000006699b6",
      "text": "  export function insertText(text: string): Promise<void>;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592853,
      "updated": 1641592875
    },
    {
      "id": "61d8adf41280f000006698c8",
      "text": " code:edit.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641590261,
      "updated": 1641592887
    },
    {
      "id": "61d8b82f1280f000006699b8",
      "text": "  export async function insertText(text) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592887,
      "updated": 1641592890
    },
    {
      "id": "61d8b8501280f000006699be",
      "text": "    const textInput = document.getElementById(\"text-input\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641593279
    },
    {
      "id": "61d8b8501280f000006699bf",
      "text": "    textInput.focus();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c0",
      "text": "    textInput.value = text;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c1",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c2",
      "text": "    const uiEvent = document.createEvent('UIEvent');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c3",
      "text": "    uiEvent.initEvent('input', true, false);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c4",
      "text": "    textInput.dispatchEvent(uiEvent);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b87a1280f000006699c7",
      "text": "    // 少し待つ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592955,
      "updated": 1641592984
    },
    {
      "id": "61d8b8501280f000006699c5",
      "text": "    await new Promise((resolve) => setTimeout(resolve, 100));",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592913,
      "updated": 1641592984
    },
    {
      "id": "61d8b83a1280f000006699ba",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1641592891,
      "updated": 1641592891
    },
    {
      "id": "61db80df7838e300001a2c0f",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641775327,
      "updated": 1641775327
    },
    {
      "id": "61db80df7838e300001a2c10",
      "text": "\tめっちゃプログラミング得意な人だ・・・！[Mijinko_SD.icon]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641775327,
      "updated": 1641775343
    },
    {
      "id": "61db80df7838e300001a2c11",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641775328,
      "updated": 1641775328
    },
    {
      "id": "61db80f57838e300001a2c12",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1641775349,
      "updated": 1641775349
    }
  ]
}