{
  "id": "6132faf2461a9b002302ac0a",
  "title": "pin-diary-3",
  "created": 1630730997,
  "updated": 1646394031,
  "lines": [
    {
      "id": "6132faf2461a9b002302ac0a",
      "text": "pin-diary-3",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630730997,
      "updated": 1630731000
    },
    {
      "id": "6132faf81280f000003a83d4",
      "text": "[今日の日記ページをトップに出すUserScript]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731000,
      "updated": 1630734063
    },
    {
      "id": "6132fafb1280f000003a83d6",
      "text": "\t[pin-diary-2] -> [* pin-diary-3] -> [pin-diary-4]",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1630731004,
      "updated": 1646394031
    },
    {
      "id": "6221faa67838e300002e8f5d",
      "text": "",
      "userId": "60fb0a79f3364000237838e3",
      "created": 1646394022,
      "updated": 1646394022
    },
    {
      "id": "6132fafb1280f000003a83d7",
      "text": "[pin-diary-2]からの改善点",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731004,
      "updated": 1630731016
    },
    {
      "id": "613312471280f0000072ed15",
      "text": " `li.pin`が生成されるバグを消した",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736967,
      "updated": 1630736983
    },
    {
      "id": "6132fb081280f000003a83d8",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731016,
      "updated": 1630731016
    },
    {
      "id": "6132fb081280f000003a83d9",
      "text": "使い方",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731016,
      "updated": 1630731020
    },
    {
      "id": "6133042d1280f000003a8531",
      "text": " 簡単に試すとき↓",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733357,
      "updated": 1630733363
    },
    {
      "id": "613304331280f000003a8532",
      "text": "  code:js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733363,
      "updated": 1630733371
    },
    {
      "id": "613304371280f000003a8533",
      "text": "   import(\"/api/code/villagepump/pin-diary-3/script.js\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733371,
      "updated": 1630733385
    },
    {
      "id": "6132fb0c1280f000003a83da",
      "text": " 安全に使うとき",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731020,
      "updated": 1630733392
    },
    {
      "id": "6133044f1280f000003a8535",
      "text": "  [script.js https://scrapbox.io/api/code/villagepump/pin-diary-3/script.js]を自分のページにコピペする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733392,
      "updated": 1630733414
    },
    {
      "id": "6133044a1280f000003a8534",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733387,
      "updated": 1630733387
    },
    {
      "id": "613301c61280f000003a8520",
      "text": "設計",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732742,
      "updated": 1630732744
    },
    {
      "id": "613301c91280f000003a8521",
      "text": " [UserScript Event]でトップページにいるかどうかを監視する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732746,
      "updated": 1630732767
    },
    {
      "id": "613302181280f000003a8526",
      "text": " [- トップページのページリストの更新は]`.page-list .grid`[- を]`MutationObserver`[- で監視する]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732824,
      "updated": 1630738587
    },
    {
      "id": "6133189b1280f00000c9bf48",
      "text": "  何故か監視できないパターンがあったのでやめる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630738588,
      "updated": 1630738601
    },
    {
      "id": "61330bab1280f00000639dc1",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735276,
      "updated": 1630735285
    },
    {
      "id": "6132fb611280f000003a845f",
      "text": "code",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731105,
      "updated": 1630731107
    },
    {
      "id": "6132fb631280f000003a8460",
      "text": " global variables",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731108,
      "updated": 1630731117
    },
    {
      "id": "6132fb0c1280f000003a83db",
      "text": "  code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731020,
      "updated": 1630731130
    },
    {
      "id": "6132fb141280f000003a83dd",
      "text": "   const targetProject = 'villagepump';",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731029,
      "updated": 1630731130
    },
    {
      "id": "61330bb81280f00000639dc2",
      "text": "   let updateTimer;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735288,
      "updated": 1630735305
    },
    {
      "id": "6132fb1e1280f000003a83e1",
      "text": " main code",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731038,
      "updated": 1630731135
    },
    {
      "id": "6132fb7d1280f000003a8463",
      "text": "  code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731135,
      "updated": 1630731135
    },
    {
      "id": "613319831280f000004200b4",
      "text": "   const handleChange = () => {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1630738819,
      "updated": 1631255590
    },
    {
      "id": "613afc2a79e11300008b06aa",
      "text": "   \tscrapbox.Layout === \"list\" && scrapbox.Project.name === targetProject ?",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631255595,
      "updated": 1631255608
    },
    {
      "id": "613afc3879e11300008b06ad",
      "text": "   \t\tstartObserve() : endObserve();",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631255608,
      "updated": 1631255623
    },
    {
      "id": "613afc2579e11300008b06a9",
      "text": "   }",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631255590,
      "updated": 1631255594
    },
    {
      "id": "613319a11280f000004200ca",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630738849,
      "updated": 1630738850
    },
    {
      "id": "6133020c1280f000003a8524",
      "text": "   // initialize",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732812,
      "updated": 1630732816
    },
    {
      "id": "6133020f1280f000003a8525",
      "text": "   handleChange();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732816,
      "updated": 1630738852
    },
    {
      "id": "6132fb7f1280f000003a8464",
      "text": "   scrapbox.addListener(\"layout:changed\", () => handleChange());",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731135,
      "updated": 1630738856
    },
    {
      "id": "6132fb761280f000003a8462",
      "text": " 日付ページを[Pin留めページ]にする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731126,
      "updated": 1630732517
    },
    {
      "id": "6132fbf71280f000003a846d",
      "text": "  code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731256,
      "updated": 1630731308
    },
    {
      "id": "6132fc2c1280f000003a846e",
      "text": "   function pinDiary() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731309,
      "updated": 1630731321
    },
    {
      "id": "613301fc1280f000003a8522",
      "text": "     if (scrapbox.Layout !== \"list\") return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732797,
      "updated": 1630732809
    },
    {
      "id": "61330e7c1280f00000639df7",
      "text": "     if (isValidPostion()) return;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735996,
      "updated": 1630736424
    },
    {
      "id": "61330e851280f00000639df8",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736005,
      "updated": 1630736005
    },
    {
      "id": "613302091280f000003a8523",
      "text": "     const diaryCard = getDiaryCard();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732810,
      "updated": 1630736483
    },
    {
      "id": "61330c901280f00000639ddf",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735504,
      "updated": 1630735504
    },
    {
      "id": "613307251280f00000c2ceda",
      "text": "     // 一旦pin留めをリセットする",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630734117,
      "updated": 1630734134
    },
    {
      "id": "613307351280f00000c2cedb",
      "text": "     removePin(diaryCard);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630734134,
      "updated": 1630734138
    },
    {
      "id": "613301311280f000003a84fc",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732593,
      "updated": 1630732594
    },
    {
      "id": "613310a21280f00000018347",
      "text": "     const cards = cardList();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736547,
      "updated": 1630736551
    },
    {
      "id": "6133012e1280f000003a84f7",
      "text": "     // Pinしたカードの数",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732591,
      "updated": 1630732591
    },
    {
      "id": "6133012e1280f000003a84f8",
      "text": "     // 日付ページにPinする前の数を取得しておく",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732591,
      "updated": 1630732591
    },
    {
      "id": "6133012e1280f000003a84f9",
      "text": "     const pins = cards",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732591,
      "updated": 1630736555
    },
    {
      "id": "6133012e1280f000003a84fa",
      "text": "       .getElementsByClassName('page-list-item grid-style-item pin')",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732591,
      "updated": 1630732591
    },
    {
      "id": "6133012e1280f000003a84fb",
      "text": "       .length; ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732591,
      "updated": 1630732591
    },
    {
      "id": "6132fc391280f000003a846f",
      "text": "     ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731321,
      "updated": 1630731324
    },
    {
      "id": "613301441280f000003a8511",
      "text": "     // DOMにPin留めをつける",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732612,
      "updated": 1630732612
    },
    {
      "id": "613301441280f000003a8512",
      "text": "     appendPin(diaryCard);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732612,
      "updated": 1630733606
    },
    {
      "id": "613301441280f000003a8513",
      "text": "     //日付ページが常にPinなしページの前に来るように移動する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732612,
      "updated": 1630732612
    },
    {
      "id": "613301441280f000003a8514",
      "text": "     cards.insertBefore(diaryCard, cards.children[pins]);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732612,
      "updated": 1630732612
    },
    {
      "id": "6132fc3a1280f000003a8470",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731323,
      "updated": 1630731323
    },
    {
      "id": "613302e01280f000003a852f",
      "text": "   ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733025,
      "updated": 1630733025
    },
    {
      "id": "6132fbdf1280f000003a846c",
      "text": " ページリストの更新を監視する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731232,
      "updated": 1630732678
    },
    {
      "id": "613301861280f000003a8516",
      "text": "  code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732678,
      "updated": 1630736151
    },
    {
      "id": "61330f171280f00000639dfc",
      "text": "   function startObserve() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736151,
      "updated": 1630736151
    },
    {
      "id": "613318db1280f00000c9bf4c",
      "text": "     endObserve();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630738651,
      "updated": 1630738653
    },
    {
      "id": "613318b91280f00000c9bf4b",
      "text": "     updateTimer = setInterval(pinDiary, 1000);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630738618,
      "updated": 1630738636
    },
    {
      "id": "61330f171280f00000639e01",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736151,
      "updated": 1630736151
    },
    {
      "id": "61330f171280f00000639e02",
      "text": "   function endObserve() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736151,
      "updated": 1630738649
    },
    {
      "id": "61330f171280f00000639e03",
      "text": "     clearInterval(updateTimer);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736151,
      "updated": 1630738647
    },
    {
      "id": "61330f171280f00000639e04",
      "text": "   }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736151,
      "updated": 1630736151
    },
    {
      "id": "6132faf91280f000003a83d5",
      "text": "",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731001,
      "updated": 1630731001
    },
    {
      "id": "6132fb431280f000003a8456",
      "text": "utilities",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731075,
      "updated": 1630731077
    },
    {
      "id": "6132fb451280f000003a8458",
      "text": " code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731077,
      "updated": 1630731450
    },
    {
      "id": "6132fb501280f000003a845c",
      "text": "  function toYYYYMMDD(date) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731089,
      "updated": 1630733546
    },
    {
      "id": "6132fb501280f000003a845d",
      "text": "    return `${date.getFullYear()}/${zero(date.getMonth() + 1)}/${zero(date.getDate())}`;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731089,
      "updated": 1630733555
    },
    {
      "id": "6132fb481280f000003a8459",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731080,
      "updated": 1630733556
    },
    {
      "id": "613308e61280f000004160e7",
      "text": "  function zero(n) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630734566,
      "updated": 1630734579
    },
    {
      "id": "613308f21280f000004160e8",
      "text": "    return String(n).padStart(2, '0');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630734579,
      "updated": 1630734580
    },
    {
      "id": "613304f41280f00000ce84f1",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630733556,
      "updated": 1630734582
    },
    {
      "id": "613308f61280f000004160e9",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630734582,
      "updated": 1630734582
    },
    {
      "id": "613300351280f000003a84c3",
      "text": "DOM operations",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732342,
      "updated": 1630733101
    },
    {
      "id": "6132fb441280f000003a8457",
      "text": " code:script.js",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731077,
      "updated": 1630733101
    },
    {
      "id": "6132fcbe1280f000003a84bd",
      "text": "  function cardList() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731455,
      "updated": 1630733101
    },
    {
      "id": "6132fcc81280f000003a84be",
      "text": "    return document",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731464,
      "updated": 1630733101
    },
    {
      "id": "6132fce81280f000003a84c0",
      "text": "      .getElementsByClassName('page-list')?.[0]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731496,
      "updated": 1630733101
    },
    {
      "id": "6132fce81280f000003a84c1",
      "text": "      ?.getElementsByClassName('grid')?.[0]; ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732312,
      "updated": 1630733101
    },
    {
      "id": "6132fcc81280f000003a84bf",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630731465,
      "updated": 1630733101
    },
    {
      "id": "61330c441280f00000639dc4",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735429,
      "updated": 1630735429
    },
    {
      "id": "61330c751280f00000639dd6",
      "text": "  /** 日記ページを取得する",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735477,
      "updated": 1630735633
    },
    {
      "id": "61330cf91280f00000639de2",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735609,
      "updated": 1630735611
    },
    {
      "id": "61330cfa1280f00000639de3",
      "text": "   * なければ新しく作る",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735611,
      "updated": 1630735617
    },
    {
      "id": "61330c781280f00000639dde",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735481,
      "updated": 1630735620
    },
    {
      "id": "61330c441280f00000639dc5",
      "text": "  function getDiaryCard() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735429,
      "updated": 1630736491
    },
    {
      "id": "613311e41280f000008d0754",
      "text": "    deleteGeneratedCards();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736868,
      "updated": 1630736870
    },
    {
      "id": "61330c6c1280f00000639dc8",
      "text": "    const today = toYYYYMMDD(new Date());",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735469,
      "updated": 1630735474
    },
    {
      "id": "61330c6c1280f00000639dc9",
      "text": "    const path = `/${targetProject}/${encodeURIComponent(today)}`;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735469,
      "updated": 1630735474
    },
    {
      "id": "61330c6c1280f00000639dca",
      "text": "    const cards = cardList();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735469,
      "updated": 1630735474
    },
    {
      "id": "613311551280f000008d074d",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736726,
      "updated": 1630736726
    },
    {
      "id": "61330c6c1280f00000639dcb",
      "text": "    return cards",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735469,
      "updated": 1630736728
    },
    {
      "id": "613311101280f000008d0743",
      "text": "      .querySelector(`li.page-list-item a[href=\"${path}\"]`)",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736656,
      "updated": 1630736924
    },
    {
      "id": "6133121b1280f00000b86034",
      "text": "      ?.parentNode",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736924,
      "updated": 1630736924
    },
    {
      "id": "613311151280f000008d0744",
      "text": "      ?? createEmptyPageCard(today, path);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736662,
      "updated": 1630736722
    },
    {
      "id": "61330c491280f00000639dc6",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735434,
      "updated": 1630735435
    },
    {
      "id": "61330cf11280f00000639de0",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735601,
      "updated": 1630735601
    },
    {
      "id": "61330cf11280f00000639de1",
      "text": "  /** 日記ページが所定の位置にPin留めされているかどうかを調べる",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735601,
      "updated": 1630735658
    },
    {
      "id": "61330d201280f00000639de4",
      "text": "   *",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735649,
      "updated": 1630735661
    },
    {
      "id": "61330d2c1280f00000639de5",
      "text": "   * 条件",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735661,
      "updated": 1630735665
    },
    {
      "id": "61330d311280f00000639de6",
      "text": "   * - `.pin`がある",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735665,
      "updated": 1630735682
    },
    {
      "id": "61330d411280f00000639de7",
      "text": "   * - 最初のカードから日記ページのカードまでの間にpinなしカードが存在しない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735682,
      "updated": 1630735751
    },
    {
      "id": "61330d871280f00000639de8",
      "text": "   */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735751,
      "updated": 1630735754
    },
    {
      "id": "613300ac1280f000003a84e2",
      "text": "  function isValidPostion() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732460,
      "updated": 1630735767
    },
    {
      "id": "61330d971280f00000639dea",
      "text": "    const card = getDiaryCard();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735767,
      "updated": 1630736493
    },
    {
      "id": "61330da71280f00000639dec",
      "text": "    if (!card.classList.contains(\"pin\")) return false;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735783,
      "updated": 1630736322
    },
    {
      "id": "61330de41280f00000639df0",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735845,
      "updated": 1630735845
    },
    {
      "id": "61330de51280f00000639df1",
      "text": "    const cards = cardList();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735845,
      "updated": 1630735850
    },
    {
      "id": "61330ddd1280f00000639dee",
      "text": "    const length = cards.getElementsByClassName('page-list-item grid-style-item pin').length;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735837,
      "updated": 1630735868
    },
    {
      "id": "61330dfe1280f00000639df2",
      "text": "    for (let i = 0; i < length; i++) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735870,
      "updated": 1630735892
    },
    {
      "id": "61330e141280f00000639df3",
      "text": "      if (!cards.children[i].classList.contains(\"pin\")) return false;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735892,
      "updated": 1630735942
    },
    {
      "id": "61330e471280f00000639df5",
      "text": "    }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735943,
      "updated": 1630735943
    },
    {
      "id": "61330e4c1280f00000639df6",
      "text": "    return true;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735949,
      "updated": 1630735951
    },
    {
      "id": "61330d981280f00000639deb",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735768,
      "updated": 1630735768
    },
    {
      "id": "61330d8a1280f00000639de9",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630735755,
      "updated": 1630735755
    },
    {
      "id": "613300a31280f000003a84d9",
      "text": "  function appendPin(card) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84da",
      "text": "    card.getElementsByClassName('hover')?.[0]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84db",
      "text": "      ?.insertAdjacentHTML('afterend', '<div class=\"pin\"></div>');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84dc",
      "text": "    card.classList.add('pin');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84dd",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84de",
      "text": "  function removePin(card) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84df",
      "text": "    card.getElementsByClassName('pin')?.[0]?.remove();",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84e0",
      "text": "    card.classList.remove('pin');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "613300a31280f000003a84e1",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732451,
      "updated": 1630733101
    },
    {
      "id": "6133004d1280f000003a84c4",
      "text": "  ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630736731
    },
    {
      "id": "613311711280f000008d0751",
      "text": "  /** このscriptで作成したカードを全部消す */",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736754,
      "updated": 1630736764
    },
    {
      "id": "6133115b1280f000008d074f",
      "text": "  function deleteGeneratedCards() {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736732,
      "updated": 1630736751
    },
    {
      "id": "6133117d1280f000008d0752",
      "text": "    document.querySelectorAll('li[data-id=\"pin-diary-card\"]')",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736765,
      "updated": 1630736857
    },
    {
      "id": "613311d81280f000008d0753",
      "text": "      .forEach(card => card.remove());",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736857,
      "updated": 1630736864
    },
    {
      "id": "6133116f1280f000008d0750",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736751,
      "updated": 1630736752
    },
    {
      "id": "6133115a1280f000008d074e",
      "text": "    ",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630736730,
      "updated": 1630736730
    },
    {
      "id": "6133004d1280f000003a84c5",
      "text": "  function createEmptyPageCard(title, path) {",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630733101
    },
    {
      "id": "6133004d1280f000003a84c6",
      "text": "    const card = document.createElement('li');",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630733101
    },
    {
      "id": "6133130c1280f0000088deb1",
      "text": "    card.dataset.id = \"pin-diary-card\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630737165,
      "updated": 1630737178
    },
    {
      "id": "6133131a1280f0000088deb2",
      "text": "    card.classList.add(\"page-list-item\", \"grid-style-item\");",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630737178,
      "updated": 1630737197
    },
    {
      "id": "6133132d1280f0000088deb3",
      "text": "    card.style.opacity = \"0.7\";",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630737197,
      "updated": 1630737209
    },
    {
      "id": "6133004d1280f000003a84c7",
      "text": "    card.insertAdjacentHTML('beforeend',",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630733101
    },
    {
      "id": "6133004d1280f000003a84c8",
      "text": "  `<a href=\"${path}\" rel=\"route\">",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737217
    },
    {
      "id": "6133004d1280f000003a84ca",
      "text": "    <div class=\"hover\"></div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84cb",
      "text": "    <div class=\"content\">",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84cc",
      "text": "      <div class=\"header\">",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84cd",
      "text": "        <div class=\"title\">${title}</div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84ce",
      "text": "      </div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84cf",
      "text": "      <div class=\"description\">",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d0",
      "text": "        <div class=\"line-img\">",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d1",
      "text": "          <div></div><div></div><div></div><div></div><div></div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d2",
      "text": "        </div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d3",
      "text": "      </div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d4",
      "text": "    </div>",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737221
    },
    {
      "id": "6133004d1280f000003a84d5",
      "text": "  </a>`);",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630737224
    },
    {
      "id": "6133004d1280f000003a84d7",
      "text": "    return card;",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630733101
    },
    {
      "id": "6133004d1280f000003a84d8",
      "text": "  }",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1630732365,
      "updated": 1630733101
    },
    {
      "id": "613aea1579e113000048f16a",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631250965,
      "updated": 1631250966
    },
    {
      "id": "6132fcbc1280f000003a84bc",
      "text": "[/shokai/他のprojectに移動したらUserScriptの後始末をする（event版）]",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1630731452,
      "updated": 1631250964
    },
    {
      "id": "613aea1479e113000048f169",
      "text": " code:script.js",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631250964,
      "updated": 1631251231
    },
    {
      "id": "613aea1a79e113000048f16b",
      "text": "   scrapbox.on('project:changed', () => {",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631250970,
      "updated": 1631251483
    },
    {
      "id": "613afd5279e11300005ac027",
      "text": "   \t//トップページからトップページに移動してもlayout:changedは呼ばれないので、ここでhandleChangeをかける",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631255891,
      "updated": 1631255891
    },
    {
      "id": "613afc6479e11300008b06af",
      "text": "   \thandleChange()",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631255652,
      "updated": 1631255887
    },
    {
      "id": "613aeb1579e113000058fc95",
      "text": "   })",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631251221,
      "updated": 1631251231
    },
    {
      "id": "613aea1c79e113000048f16d",
      "text": "",
      "userId": "5d89b1f60230ae001779e113",
      "created": 1631250972,
      "updated": 1631250972
    }
  ]
}