{
  "id": "67493b87a7a64f6b8e617b03",
  "title": "Wikiのバージョン管理はまた原始的",
  "created": 1732852617,
  "updated": 1732859992,
  "lines": [
    {
      "id": "67493b87a7a64f6b8e617b03",
      "text": "Wikiのバージョン管理はまた原始的",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852617,
      "updated": 1732853218
    },
    {
      "id": "6749426171b3c200001e6c0e",
      "text": "[bsahd.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854370,
      "updated": 1732854370
    },
    {
      "id": "67493cfd71b3c200001e6be9",
      "text": "もし[branch]機能があれば?",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732852990,
      "updated": 1732857850
    },
    {
      "id": "67493e8d71b3c200001e6bf3",
      "text": "\t[Git]とは違い明示的にcommitしない",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732853390,
      "updated": 1732857823
    },
    {
      "id": "67493ea871b3c200001e6bf4",
      "text": "\t\t1分ごとなどに暗黙的にcommitされて、時刻で遡れる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853416,
      "updated": 1732853430
    },
    {
      "id": "67493b8871b3c200001e6bdf",
      "text": " 他branchの影響を受けないので作業に集中できる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852617,
      "updated": 1732852989
    },
    {
      "id": "67493b9e71b3c200001e6be2",
      "text": " \t[静かな部屋のたとえ]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852639,
      "updated": 1732852989
    },
    {
      "id": "67493bb171b3c200001e6be4",
      "text": " \t\t静かに作業したいが、個人プロジェクトはページが充実してないので作業しにくい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852658,
      "updated": 1732852989
    },
    {
      "id": "67493bca71b3c200001e6be5",
      "text": " \t\tそこでブランチを切る",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852682,
      "updated": 1732852989
    },
    {
      "id": "67493bcf71b3c200001e6be6",
      "text": " \t\t\tそうすればmainブランチのにぎやかさからカットアウトされる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852688,
      "updated": 1732853501
    },
    {
      "id": "67493bf271b3c200001e6be7",
      "text": " \t\t\t\t作業が終わったらマージする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852722,
      "updated": 1732852989
    },
    {
      "id": "67493c0771b3c200001e6be8",
      "text": " \t\t\t\t同じbranchの人同士で同時編集できる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852744,
      "updated": 1732852989
    },
    {
      "id": "67494392aff09e00006775f2",
      "text": " \t\t\tいいなそれ[nishio.icon]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1732854674,
      "updated": 1732854684
    },
    {
      "id": "6749439daff09e00006775f3",
      "text": " \t\t\t\t纏まってない考えを書くのに非公開のブランチを作る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1732854686,
      "updated": 1732854704
    },
    {
      "id": "674943bdaff09e00006775f4",
      "text": " \t\t\t\t「非公開」がいいのか「読めるけど書き込めない」がいいのか「下書き中」と表示されてるだけでいいのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1732854718,
      "updated": 1732854753
    },
    {
      "id": "67493d1771b3c200001e6bea",
      "text": " \t\t[ページ超えHistory]も便利そう",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732853016,
      "updated": 1732857870
    },
    {
      "id": "67493d7a71b3c200001e6beb",
      "text": " \t\t\tブランチごとにページ超えのHistoryが作られる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853114,
      "updated": 1732853124
    },
    {
      "id": "674950111280f00000064583",
      "text": " \t\t\tいまいちピンと来なかった[takker.icon]",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732857874,
      "updated": 1732857889
    },
    {
      "id": "674950211280f00000064584",
      "text": " \t\t\t　branchとpageごとに[Page History]が作られる？",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732857889,
      "updated": 1732857919
    },
    {
      "id": "67493db971b3c200001e6bf0",
      "text": "\tページを超えた大規模なrefactoringにも便利そう",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853178,
      "updated": 1732853316
    },
    {
      "id": "67493dcd71b3c200001e6bf1",
      "text": "\tレビュー([プルリク])があってもいい?",
      "userId": "5ef2bdebb60650001e1280f0",
      "created": 1732853198,
      "updated": 1732857932
    },
    {
      "id": "67493e2371b3c200001e6bf2",
      "text": "\t\t例えば[/nishio]に誤字脱字を見つけたときにブランチを切って修正し、プルリクを送る",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853284,
      "updated": 1732853479
    },
    {
      "id": "67493ee871b3c200001e6bf5",
      "text": "\t\t\tブランチを切るのはだれでもできる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853480,
      "updated": 1732853535
    },
    {
      "id": "67493f1e71b3c200001e6bf6",
      "text": "\t\t\t\t切ったブランチは自分と招待した人とプロジェクトの編集者しか編集できない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853535,
      "updated": 1732853635
    },
    {
      "id": "67493f4171b3c200001e6bf7",
      "text": "\t\t\t\tmainへのマージはプロジェクトの編集者しかできない",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853570,
      "updated": 1732853583
    },
    {
      "id": "67493f4f71b3c200001e6bf8",
      "text": "\t\t\t\t\tので、プルリクを使う",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853583,
      "updated": 1732853588
    },
    {
      "id": "67493f7371b3c200001e6bfc",
      "text": "\t\t\t\tGithubでいうForkをプロジェクトごと複製せずに実現したい",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853619,
      "updated": 1732853619
    },
    {
      "id": "67493b9f71b3c200001e6be3",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732852640,
      "updated": 1732852640
    },
    {
      "id": "6749402471b3c200001e6bfd",
      "text": "現状のシステムで実現する方法",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853796,
      "updated": 1732853802
    },
    {
      "id": "6749404e71b3c200001e6c02",
      "text": "\t必然的にブランチはページ単位になる",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853839,
      "updated": 1732853847
    },
    {
      "id": "6749425771b3c200001e6c0d",
      "text": "\t\tprojectの複製ができないため",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854360,
      "updated": 1732854367
    },
    {
      "id": "6749402971b3c200001e6bff",
      "text": "\tページを2回複製する",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853802,
      "updated": 1732853817
    },
    {
      "id": "6749407271b3c200001e6c04",
      "text": "\t\t複製元ページは`a`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853874,
      "updated": 1732853881
    },
    {
      "id": "6749427371b3c200001e6c10",
      "text": "\t\t\tページ名は`Wikiのバージョン管理はまた原始的`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854387,
      "updated": 1732854399
    },
    {
      "id": "6749403871b3c200001e6c00",
      "text": "\t\t1つ目の複製は「ブランチを切ったときのバックアップ」で、`c`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853817,
      "updated": 1732853889
    },
    {
      "id": "6749426871b3c200001e6c0f",
      "text": " \t\t実際のページ名は`Wikiのバージョン管理はまた原始的 (bsahd backup)`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854376,
      "updated": 1732854608
    },
    {
      "id": "6749437c71b3c200001e6c3b",
      "text": "\t\t\t`[Wikiのバージョン管理はまた原始的 (bsahd)]の編集開始時のバックアップです。[* 編集しないでください]`みたいなヘッダーを付ける",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854653,
      "updated": 1732854794
    },
    {
      "id": "6749404271b3c200001e6c01",
      "text": "\t\t2つ目の複製はブランチの編集用で、`b`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853827,
      "updated": 1732853895
    },
    {
      "id": "6749434071b3c200001e6c3a",
      "text": "\t\t\t実際のページ名は`Wikiのバージョン管理はまた原始的 (bsahd)`とする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854592,
      "updated": 1732854610
    },
    {
      "id": "674943fb71b3c200001e6c3c",
      "text": "\t\t\t`このページは[Wikiのバージョン管理はまた原始的]のブランチです`みたいなヘッダーを付ける",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854779,
      "updated": 1732854791
    },
    {
      "id": "6749405871b3c200001e6c03",
      "text": "\tbを編集する",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853849,
      "updated": 1732853901
    },
    {
      "id": "6749408c71b3c200001e6c05",
      "text": "\t`diff3 -m a c b`",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853901,
      "updated": 1732854185
    },
    {
      "id": "67494d9071b3c200001e6c6d",
      "text": "\t\t後述の`scrapmerge.js`",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857232,
      "updated": 1732857244
    },
    {
      "id": "6749452371b3c200001e6c3d",
      "text": "\t\t[diff3のnpmがある https://www.npmjs.com/package/node-diff3#mergeDiff3]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732855075,
      "updated": 1732855171
    },
    {
      "id": "6749459d71b3c200001e6c3e",
      "text": "\t\t\tesbuildかければブラウザでも使えるだろう",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732855198,
      "updated": 1732855206
    },
    {
      "id": "674940f071b3c200001e6c06",
      "text": "\t\t意味",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854000,
      "updated": 1732854010
    },
    {
      "id": "674940fa71b3c200001e6c07",
      "text": "\t\t\t編集前はcです",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854010,
      "updated": 1732854013
    },
    {
      "id": "674940fd71b3c200001e6c08",
      "text": "\t\t\t編集後1はbです",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854013,
      "updated": 1732854022
    },
    {
      "id": "6749410571b3c200001e6c09",
      "text": "\t\t\t編集後2はaです",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854022,
      "updated": 1732854026
    },
    {
      "id": "6749410a71b3c200001e6c0a",
      "text": "\t\t\t両方の編集統合して出力",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854026,
      "updated": 1732854183
    },
    {
      "id": "674941c671b3c200001e6c0b",
      "text": "\tコンフリクトマーカーを残したままaを前のdiff3の出力で上書き",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854215,
      "updated": 1732854249
    },
    {
      "id": "674941ed71b3c200001e6c0c",
      "text": "\tb,cを消す",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732854253,
      "updated": 1732854257
    },
    {
      "id": "6749402571b3c200001e6bfe",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732853798,
      "updated": 1732853798
    },
    {
      "id": "67494d9e71b3c200001e6c6e",
      "text": "scrapmerge",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857246,
      "updated": 1732857248
    },
    {
      "id": "67494fcf71b3c200001e6c75",
      "text": "\tUserScript版",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857808,
      "updated": 1732859260
    },
    {
      "id": "6749557c71b3c200001e6d18",
      "text": "\t[https://scrapbox.io/api/code/villagepump/Wiki%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%AF%E3%81%BE%E3%81%9F%E5%8E%9F%E5%A7%8B%E7%9A%84/userscript.js userscript.js]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859260,
      "updated": 1732859267
    },
    {
      "id": "6749558371b3c200001e6d19",
      "text": "\t\tダウンロードする",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859267,
      "updated": 1732859270
    },
    {
      "id": "674955c071b3c200001e6d2c",
      "text": "\t\t`deno run -A bundler.js`",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859329,
      "updated": 1732859336
    },
    {
      "id": "6749558f71b3c200001e6d1a",
      "text": " \t\tcode:bundler.js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859280,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d1b",
      "text": " \t\t import * as esbuild from \"npm:esbuild\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d1c",
      "text": "    import { denoPlugins } from \"https://deno.land/x/esbuild_deno_loader/mod.ts\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d1d",
      "text": "    ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d1e",
      "text": "    esbuild.build({",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d1f",
      "text": "      //@ts-ignore:",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d20",
      "text": "      plugins: [...denoPlugins({ loader: \"native\" })],",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d21",
      "text": "      entryPoints: [\"./${{ダウンロードしたファイル名}}\"],",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d22",
      "text": "      bundle: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d23",
      "text": "      minify: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d24",
      "text": "      outfile: \"./dist.js\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d25",
      "text": "    })",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d26",
      "text": "      .then(() => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d27",
      "text": "        esbuild.stop();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d28",
      "text": "        console.log(\"build ok\");",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "6749559871b3c200001e6d29",
      "text": "      });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859290,
      "updated": 1732859323
    },
    {
      "id": "674955ad71b3c200001e6d2b",
      "text": "  dist.jsをscrapboxに貼り付ける",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859310,
      "updated": 1732859342
    },
    {
      "id": "674955d371b3c200001e6d2d",
      "text": "  ビルド済み: [/bsahd-public/scrapMerge]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859348,
      "updated": 1732859351
    },
    {
      "id": "67494fe471b3c200001e6c77",
      "text": "\t\tcode:sb",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857829,
      "updated": 1732857831
    },
    {
      "id": "67494fe771b3c200001e6c78",
      "text": "\t\t ページ名",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857832,
      "updated": 1732857835
    },
    {
      "id": "67494feb71b3c200001e6c79",
      "text": "\t\t aのページ名",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857835,
      "updated": 1732857842
    },
    {
      "id": "67494ff171b3c200001e6c7a",
      "text": "\t\t cのページ名",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857842,
      "updated": 1732857844
    },
    {
      "id": "67494ff471b3c200001e6c7b",
      "text": "\t\t bのページ名",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857844,
      "updated": 1732857847
    },
    {
      "id": "67494ffa71b3c200001e6c7c",
      "text": "\t\tのように書いてボタンを押すとページの末尾に追記される",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857852,
      "updated": 1732857860
    },
    {
      "id": "6749584c71b3c20000e1df89",
      "text": "\t\t\tブラケティングしない・インデントを入れないこと",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859981,
      "updated": 1732859992
    },
    {
      "id": "674955ee71b3c200001e6d2e",
      "text": "\t\tサンプル:[cd1a618e-057c-4e17-8eed-345839a37c9d]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859374,
      "updated": 1732859376
    },
    {
      "id": "67494fc871b3c200001e6c74",
      "text": "\tコマンド版",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857801,
      "updated": 1732857804
    },
    {
      "id": "67494dd371b3c200001e6c72",
      "text": " \t[deno.icon]が必要です",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857299,
      "updated": 1732857806
    },
    {
      "id": "67494da071b3c200001e6c6f",
      "text": "  \t使い方:`deno run https://scrapbox.io/api/code/villagepump/Wikiのバージョン管理はまた原始的/scrapmerge.js プロジェクト名 aのページ名 cのページ名 bのページ名 > 出力先ファイル名.diff`",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857249,
      "updated": 1732857806
    },
    {
      "id": "67494e0471b3c200001e6c73",
      "text": "  \t\tページ名はダブルクオーテーションで囲ってください",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857348,
      "updated": 1732857806
    },
    {
      "id": "67494d8071b3c200001e6c3f",
      "text": "code:scrapmerge.js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857217,
      "updated": 1732857222
    },
    {
      "id": "67494d8671b3c200001e6c41",
      "text": " import * as Diff3 from \"npm:node-diff3\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857222,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cab",
      "text": " import { Command } from \"https://deno.land/x/cliffy@v0.19.2/command/mod.ts\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cac",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cad",
      "text": " function getPage(projectName, pageName) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cae",
      "text": "     return fetch(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6caf",
      "text": "         \"https://scrapbox.io/api/pages/\" +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb0",
      "text": "             projectName +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb1",
      "text": "             \"/\" +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb2",
      "text": "             encodeURIComponent(pageName) + \"/text\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb3",
      "text": "     ).then((pageRes) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb4",
      "text": "         if (pageRes.ok) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb5",
      "text": "             return pageRes.text();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb6",
      "text": "         } else {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb7",
      "text": "             return pageRes.text().then((text) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb8",
      "text": "                 console.error(pageRes.status, text);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cb9",
      "text": "             });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cba",
      "text": "         }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cbb",
      "text": "     });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cbc",
      "text": " }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cbd",
      "text": " new Command()",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cbe",
      "text": "     .name(\"scrapMerge\")",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cbf",
      "text": "     .arguments(\"<projectName> <mine> <older> <your>\")",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc0",
      "text": "     .parse(Deno.args).then(({ args: [projectName, mine, older, your] }) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc1",
      "text": "         return getPage(projectName, mine).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc2",
      "text": "             mineData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc3",
      "text": "         ) => [mineData, mine, older, your, projectName]);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc4",
      "text": "     }).then(([mineData, mine, older, your, projectName]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc5",
      "text": "         return getPage(projectName, older).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc6",
      "text": "             olderData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc7",
      "text": "         ) => [mineData, olderData, mine, older, your, projectName]);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc8",
      "text": "     })",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cc9",
      "text": "     .then(([mineData, olderData, mine, older, your, projectName]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cca",
      "text": "         return getPage(projectName, your).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6ccb",
      "text": "             yourData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6ccc",
      "text": "         ) => [mineData, olderData, yourData, mine, older, your, projectName]);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6ccd",
      "text": "     }).then(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859247
    },
    {
      "id": "6749556671b3c200001e6cce",
      "text": "         ([mineData, olderData, yourData, mine, older, your, projectName]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6ccf",
      "text": "             const diff3dat = Diff3.mergeDiff3(mineData, olderData, yourData, {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd0",
      "text": "                 label: { a: mine, o: older, b: your },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd1",
      "text": "                 excludeFalseConflicts: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd2",
      "text": "                 stringSeparator: /\\n/,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd3",
      "text": "             });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd4",
      "text": "             console.log(diff3dat.result.join(\"\\n\"));",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd5",
      "text": "         },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd6",
      "text": "     );",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "6749556671b3c200001e6cd7",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859244,
      "updated": 1732859244
    },
    {
      "id": "67494d8171b3c200001e6c40",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732857218,
      "updated": 1732857218
    },
    {
      "id": "6749556f71b3c200001e6cd9",
      "text": "code:userscript.js",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859250,
      "updated": 1732859250
    },
    {
      "id": "6749557271b3c200001e6cdb",
      "text": " import * as Diff3 from \"npm:node-diff3\";",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cdc",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cdd",
      "text": " function getPage(projectName, pageName) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cde",
      "text": "     return fetch(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cdf",
      "text": "         \"https://scrapbox.io/api/pages/\" +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce0",
      "text": "             projectName +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce1",
      "text": "             \"/\" +",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce2",
      "text": "             encodeURIComponent(pageName) + \"/text\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce3",
      "text": "     ).then((pageRes) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce4",
      "text": "         if (pageRes.ok) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce5",
      "text": "             return pageRes.text();",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce6",
      "text": "         } else {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce7",
      "text": "             return pageRes.text().then((text) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce8",
      "text": "                 console.error(pageRes.status, text);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ce9",
      "text": "             });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cea",
      "text": "         }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ceb",
      "text": "     });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cec",
      "text": " }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6ced",
      "text": " scrapbox.PageMenu.addMenu({",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cee",
      "text": "     title: \"merge\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cef",
      "text": "     image: \"https://i.gyazo.com/7057219f5b20ca8afd122945b72453d3.png\",",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf0",
      "text": "     onClick: () => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf1",
      "text": "         const projectName = scrapbox.Project.name;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf2",
      "text": "         const mine = scrapbox.Page.lines[1].text;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf3",
      "text": "         const older = scrapbox.Page.lines[2].text;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf4",
      "text": "         const your = scrapbox.Page.lines[3].text;",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf5",
      "text": "         getPage(projectName, mine).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf6",
      "text": "             mineData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf7",
      "text": "         ) => [mineData]).then(([mineData]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf8",
      "text": "             return getPage(projectName, older).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cf9",
      "text": "                 olderData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cfa",
      "text": "             ) => [mineData, olderData]);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cfb",
      "text": "         })",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cfc",
      "text": "             .then(([mineData, olderData]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cfd",
      "text": "                 return getPage(projectName, your).then((",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cfe",
      "text": "                     yourData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6cff",
      "text": "                 ) => [mineData, olderData, yourData]);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d00",
      "text": "             }).then(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d01",
      "text": "                 ([mineData, olderData, yourData]) => {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d02",
      "text": "                     const diff3dat = Diff3.mergeDiff3(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d03",
      "text": "                         mineData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d04",
      "text": "                         olderData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d05",
      "text": "                         yourData,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d06",
      "text": "                         {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d07",
      "text": "                             excludeFalseConflicts: true,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d08",
      "text": "                             stringSeparator: /\\n/,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d09",
      "text": "                             label: { a: mine, o: older, b: your },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0a",
      "text": "                         },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0b",
      "text": "                     );",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0c",
      "text": "                     console.log(diff3dat);",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0d",
      "text": "                     for (const element of diff3dat.result) {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0e",
      "text": "                         scrapbox.Page.insertLine(",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d0f",
      "text": "                             element,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d10",
      "text": "                             scrapbox.Page.lines.length,",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d11",
      "text": "                         );",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d12",
      "text": "                     }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d13",
      "text": "                 },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d14",
      "text": "             );",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d15",
      "text": "     },",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d16",
      "text": " });",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557371b3c200001e6d17",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859251,
      "updated": 1732859251
    },
    {
      "id": "6749557071b3c200001e6cda",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1732859250,
      "updated": 1732859250
    }
  ]
}