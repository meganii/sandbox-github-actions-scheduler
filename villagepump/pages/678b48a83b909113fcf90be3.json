{
  "id": "678b48a83b909113fcf90be3",
  "title": "allPagesList(shell)",
  "created": 1737181353,
  "updated": 1737207231,
  "lines": [
    {
      "id": "678b48a83b909113fcf90be3",
      "text": "allPagesList(shell)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181353,
      "updated": 1737181360
    },
    {
      "id": "678b492271b3c20000a4c690",
      "text": "from [allPagesList.ts]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181475,
      "updated": 1737181478
    },
    {
      "id": "678b493771b3c20000a4c691",
      "text": "[curl]と[jq]が必要",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1737181495,
      "updated": 1737185023
    },
    {
      "id": "678b4c0871b3c20000a4c6a8",
      "text": "bash/zsh only",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182217,
      "updated": 1737182223
    },
    {
      "id": "678b54e371b3c20000a4c6ba",
      "text": "システムレベル",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184483,
      "updated": 1737184486
    },
    {
      "id": "678b4cd171b3c20000a4c6ad",
      "text": " install or update",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182417,
      "updated": 1737184488
    },
    {
      "id": "678b4cd571b3c20000a4c6ae",
      "text": " \t$ sudo curl \"https://scrapbox.io/api/code/villagepump/allPagesList(shell)/allpageslist.zsh\" -o /usr/bin/allpageslist ; sudo chmod 755 /usr/bin/allpageslist",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182421,
      "updated": 1737184488
    },
    {
      "id": "678b50b471b3c20000a4c6b8",
      "text": " \t\t`/usr/bin`にスクリプトを置くのは邪道だな",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737183413,
      "updated": 1737184488
    },
    {
      "id": "678b53515b98c20000cf0d32",
      "text": " \t\t `$HOME/bin`または`~/bin`に置くのが定石では [suto3.icon]",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184081,
      "updated": 1737184488
    },
    {
      "id": "678b53fb5b98c20000cf0d33",
      "text": " \t\t  環境変数 `$PATH`に追加しておく必要があるけど",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184252,
      "updated": 1737184488
    },
    {
      "id": "678b54865b98c20000cf0d34",
      "text": " \t\t  ユーザーディレクトリ内に収めれば `sudo`は実行しなくてよいはず",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184390,
      "updated": 1737184488
    },
    {
      "id": "678b4f0d71b3c20000a4c6b1",
      "text": " uninstall",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182989,
      "updated": 1737184488
    },
    {
      "id": "678b4f0f71b3c20000a4c6b2",
      "text": " \t$ sudo rm /usr/bin/allpageslist",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182991,
      "updated": 1737184488
    },
    {
      "id": "678b550a71b3c20000a4c6bc",
      "text": "ユーザーレベル",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184523,
      "updated": 1737184526
    },
    {
      "id": "678b554d71b3c20000a4c6c6",
      "text": "\tGoユーザーの場合(`~/go/bin`にPATHが通ってる場合)",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184589,
      "updated": 1737184603
    },
    {
      "id": "678b550d71b3c20000a4c6bd",
      "text": "  install or update",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184526,
      "updated": 1737184591
    },
    {
      "id": "678b550e71b3c20000a4c6be",
      "text": "   \t$ curl \"https://scrapbox.io/api/code/villagepump/allPagesList(shell)/allpageslist.zsh\" -o ~/go/bin/allpageslist ; chmod 755 ~/go/bin/allpageslist",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184526,
      "updated": 1737184591
    },
    {
      "id": "678b550e71b3c20000a4c6c3",
      "text": "  uninstall",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184526,
      "updated": 1737184591
    },
    {
      "id": "678b550e71b3c20000a4c6c4",
      "text": "  \t$ sudo rm ~/go/bin/allpageslist",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737184526,
      "updated": 1737184591
    },
    {
      "id": "678b4f5371b3c20000a4c6b3",
      "text": "usage",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737183059,
      "updated": 1737184519
    },
    {
      "id": "678b4f5471b3c20000a4c6b4",
      "text": "\t% allpageslist villagepump > allpages",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737183061,
      "updated": 1737184519
    },
    {
      "id": "678b67775b98c20000cf0d35",
      "text": " $ allpageslist プロジェクト名 > 出力ファイル",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1737189240,
      "updated": 1737189302
    },
    {
      "id": "678b67775b98c20000cf0d36",
      "text": "",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1737189240,
      "updated": 1737189240
    },
    {
      "id": "678b48a971b3c20000a4c638",
      "text": "code:allpageslist.zsh",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1737181353,
      "updated": 1737189240
    },
    {
      "id": "678b4be471b3c20000a4c6a7",
      "text": " #!/bin/zsh",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182181,
      "updated": 1737207209
    },
    {
      "id": "678badae71b3c20000620f4e",
      "text": " \t# Linuxユーザーにとってはbashの方がいいかも",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737207215,
      "updated": 1737207231
    },
    {
      "id": "678b494171b3c20000a4c692",
      "text": " getPage() {",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181506,
      "updated": 1737181587
    },
    {
      "id": "678b499371b3c20000a4c694",
      "text": " \t# $1: project name",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181587,
      "updated": 1737181963
    },
    {
      "id": "678b499f71b3c20000a4c696",
      "text": " \t# $2: offset",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181599,
      "updated": 1737181964
    },
    {
      "id": "678b49e371b3c20000a4c699",
      "text": " \tcurl -s \"https://scrapbox.io/api/pages/$1/?limit=1000&skip=$2\" | jq -c '.pages[]' | jq -r '.title'",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181668,
      "updated": 1737183128
    },
    {
      "id": "678b499471b3c20000a4c695",
      "text": " }",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181589,
      "updated": 1737182450
    },
    {
      "id": "678b4b2871b3c20000a4c69e",
      "text": "\t# $1: project name",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181992,
      "updated": 1737182453
    },
    {
      "id": "678b4b2871b3c20000a4c6a0",
      "text": "\tPAGES=$(curl -s \"https://scrapbox.io/api/pages/$1/?limit=1\" | jq -c '.count')",
      "userId": "5b5e7121417cf700145b98c2",
      "created": 1737181992,
      "updated": 1737189234
    },
    {
      "id": "678b4b6771b3c20000a4c6a2",
      "text": "\tfor ((i = 0; i <= $PAGES; i=$((i+1000)))); do",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182056,
      "updated": 1737183162
    },
    {
      "id": "678b4c1471b3c20000a4c6a9",
      "text": "   getPage $1 $i",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182228,
      "updated": 1737182453
    },
    {
      "id": "678b4f9e71b3c20000a4c6b6",
      "text": "   echo \"$i/$PAGES\" >&2",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737183134,
      "updated": 1737183142
    },
    {
      "id": "678b4c1471b3c20000a4c6aa",
      "text": " done",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737182228,
      "updated": 1737182453
    },
    {
      "id": "678b4b0871b3c20000a4c69c",
      "text": " ",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181960,
      "updated": 1737181960
    },
    {
      "id": "678b494271b3c20000a4c693",
      "text": "",
      "userId": "661b6e882a96e9002371b3c2",
      "created": 1737181507,
      "updated": 1737181507
    }
  ]
}